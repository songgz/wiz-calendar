<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8;charset=utf-8" />
    <meta http-equiv="Content-Language" content="zh-CN" />
    <TITLE>万年曆</TITLE>
    <META content="万年曆;天文算法;回历;交節時刻"  name=keywords>
    <style>
        .body2{font-family: 宋体;font-size: 12px}
        .head {text-align: center; background-color: #c5af90; color: #000000; font-size: 12px; font-weight: bold}
        .body {font-family: 宋体; text-align: center;font-size: 12px}
        .da {font-family: Arial Black; text-align: center;font-size: 24px}
        .da2{font-family: Arial Black; text-align: center;font-size: 24px;color: #FF0000}
        .cur{background-color:#eea46d}
    </style>

    <script language=javascript>
        /****************************************
         以下是天文计算部分,包含有：
         常数 rad   : 每弧度的角秒数
         常数 J2000 : 2000年1月1日 12:00:00 的儒略日数
         常数 pi2   : 圆周率的2倍,即2*3.14159...
         trim()     : 去除字串首尾的空格
         rad2str()  : 弧度转为"度分秒"或"时分秒"
         rad2str2() : 弧度转为"度分"
         rad2mrad() : 将超出0到360度的角度转为0到360度的解度
         mod2(a,b)  : 临界余数(a与最近的整倍数b相差的距离)
         int2(a)    : 取小等于a的最大整数
         物件 JD    : 公历——儒略日——时间物件
         物件 ZB    : 坐标变换物件，包含坐标旋转、章动、日月光行差(时)、视差、大气折射、恒星时的计算
         物件 XL    : 日月黄道平分点坐标、视坐标、速度、已知经度反求时间等方面的计算
         物件 SZJ   : 用来计算日月的升起、中天、降落
         注意，上述函数或物件是纯天文学的，根据实际需要组合使用可以得到所需要的各种日月坐标，计算精度及计算速度也是可以根据需要有效控制的。
         *****************************************/

        rad  = 180*3600/Math.PI,
            J2000= 2451545;
        pi2  = Math.PI*2;

        function trim(s){ return s.replace(/(^\s*)|(\s*$)/g, "");  }

        function rad2str(d,tim){ //将弧度转为字串
            //tim=0输出格式示例: -23°59' 48.23"
            //tim=1输出格式示例:  18h 29m 44.52s
            var s=" ";
            var w1="°",w2="'",w3='"';
            if(d<0)  d=-d,s='-';
            if(tim){ d*=12/Math.PI; w1="h ",w2="m ",w3="s"; }
            else     d*=180/Math.PI;
            var a=Math.floor(d); d=(d-a)*60;
            var b=Math.floor(d); d=(d-b)*60;
            var c=Math.floor(d); d=(d-c)*100;
            d=Math.floor(d+0.5);
            if(d>=100) d-=100, c++;
            if(c>=60)  c-=60,  b++;
            if(b>=60)  b-=60,  a++;
            a="   "+a, b="0"+b, c="0"+c, d="0"+d;
            s+=a.substr(a.length-3,3)+w1;
            s+=b.substr(b.length-2,2)+w2;
            s+=c.substr(c.length-2,2)+".";
            s+=d.substr(d.length-2,2)+w3;
            return s;
        }

        function rad2str2(d){ //将弧度转为字串,精确到分
            //输出格式示例: -23°59'
            var s="+";
            var w1="°",w2="'",w3='"';
            if(d<0)  d=-d,s='-';
            d*=180/Math.PI;
            var a=Math.floor(d);
            var b=Math.floor((d-a)*60+0.5);
            if(b>=60)  b-=60,  a++;
            a="   "+a, b="0"+b;
            s+=a.substr(a.length-3,3)+w1;
            s+=b.substr(b.length-2,2)+w2;
            return s;
        }

        function rad2mrad(v){ //对超过0-2PI的角度转为0-2PI
            v=v % (2*Math.PI);
            if(v<0) return v+2*Math.PI;
            return v;
        }

        function mod2(a,b){ //临界余数(a与最近的整倍数b相差的距离)
            var c=a/b;
            c -= Math.floor(c);
            if(c>0.5) c-=1;
            return c*b;
        }

        function int2(v){ return Math.floor(v); } //取整数部分

        var JD={ //日期元件
            Y:2000, M:1, D:1, h:12, m:0, s:0,
            dts:new Array( // TD - UT1 计算表
                -4000,108371.7,-13036.80,392.000, 0.0000, -500, 17201.0,  -627.82, 16.170,-0.3413,
                -150, 12200.6,  -346.41,  5.403,-0.1593,  150,  9113.8,  -328.13, -1.647, 0.0377,
                500,  5707.5,  -391.41,  0.915, 0.3145,  900,  2203.4,  -283.45, 13.034,-0.1778,
                1300,   490.1,   -57.35,  2.085,-0.0072, 1600,   120.0,    -9.81, -1.532, 0.1403,
                1700,    10.2,    -0.91,  0.510,-0.0370, 1800,    13.4,    -0.72,  0.202,-0.0193,
                1830,     7.8,    -1.81,  0.416,-0.0247, 1860,     8.3,    -0.13, -0.406, 0.0292,
                1880,    -5.4,     0.32, -0.183, 0.0173, 1900,    -2.3,     2.06,  0.169,-0.0135,
                1920,    21.2,     1.69, -0.304, 0.0167, 1940,    24.2,     1.22, -0.064, 0.0031,
                1960,    33.2,     0.51,  0.231,-0.0109, 1980,    51.0,     1.29, -0.026, 0.0032,
                2000,    63.87,    0.1,   0,     0,      2005),
            deltatExt:function(y,jsd){ var dy=(y-1820)/100; return -20+jsd*dy*dy; }, //二次曲线外推
            deltatT:function(y){ //计算世界时与原子时之差,传入年
                if(y>=2005){
                    //sd是2005年之後几年（一值到y1年）的速度估计。
                    //sjd是y1年之後的加速度估计。瑞士星历表jsd=31,NASA网站jsd=32,skmap的jsd=29
                    var y1=2014, sd=0.4, jsd=31;
                    if(y<=y1) return 64.7+(y-2005) *sd; //直线外推
                    var v = this.deltatExt(y,jsd); //二次曲线外推
                    var dv= this.deltatExt(y1,jsd) - ( 64.7+(y1-2005)*sd ); //y1年的二次外推与直线外推的差
                    if(y<y1+100  ) v -= dv*(y1+100-y)/100;
                    return v;
                }
                var i,d=this.dts;
                for(i=0;i<d.length;i+=5) if(y<d[i+5]) break;
                var t1=(y-d[i])/(d[i+5]-d[i])*10, t2=t1*t1, t3=t2*t1;
                return d[i+1] +d[i+2]*t1 +d[i+3]*t2 +d[i+4]*t3;
            },
            deltatT2:function(t){ //传入儒略日(J2000起算),计算TD-UT(单位:日)
                return this.deltatT(t/365.2425+2000)/86400.0;
            },
            toJD:function(){ //公历转儒略日
                var y=this.Y, m=this.M, n=0; //取出年月
                if(m<=2) m+=12,y--;
                if(this.Y*372+this.M*31+this.D>=588829)//判断是否为格里历日1582*372+10*31+15
                    n =int2(y/100), n =2-n+int2(n/4);//加百年闰
                n +=int2(365.25*(y+4716)+0.01); //加上年引起的偏移日数
                n +=int2(30.6*(m+1))+this.D; //加上月引起的偏移日数及日偏移数
                n +=((this.s/60+this.m)/60+this.h)/24 - 1524.5;
                return n;
            },
            setFromJD:function(getJD){ //儒略日数转公历
                jd+=0.5;
                var A=int2(jd), F=jd-A, D; //取得日数的整数部份A及小数部分F
                if(A>=2299161) D=int2((A-1867216.25)/36524.25),A+=1+D-int2(D/4);
                A     +=1524; //向前移4年零2个月
                this.Y =int2((A-122.1)/365.25);//年
                D      =A-int2(365.25*this.Y); //去除整年日数後余下日数
                this.M =int2(D/30.6001); //月数
                this.D =D-int2(this.M*30.6001);//去除整月日数後余下日数
                this.Y-=4716; this.M--;
                if(this.M>12) this.M-=12;
                if(this.M<=2) this.Y++;
                //日的小数转为时分秒
                F*=24; this.h=int2(F); F-=this.h;
                F*=60; this.m=int2(F); F-=this.m;
                F*=60; this.s=F;
            },
            toStr:function(){ //日期转为串
                var Y="     "+this.Y,M="0"+this.M, D="0"+this.D;
                var h=this.h,m=this.m,s=int2(this.s+.5);
                if(s>=60) s-=60,m++;
                if(m>=60) m-=60,h++;
                h="0"+h; m="0"+m; s="0"+s;
                Y=Y.substr(Y.length-5,5); M=M.substr(M.length-2,2); D=D.substr(D.length-2,2);
                h=h.substr(h.length-2,2); m=m.substr(m.length-2,2); s=s.substr(s.length-2,2);
                return Y+"-"+M+"-"+D+" "+h+":"+m+":"+s;
            },
            setFromJD_str:function(getJD){ this.setFromJD(jd); return this.toStr(); },
            timeStr:function(getJD){ //提取jd中的时间(去除日期)
                var h,m,s;
                jd+=0.5; jd = (jd - int2(jd));
                jd*=24; h = int2(jd); jd-=h;
                jd*=60; m = int2(jd); jd-=m;
                jd*=60; s = int2(jd+0.5);
                if(s>=60) s-=60,m++;
                if(m>=60) m-=60,h++;
                h="0"+h; m="0"+m; s="0"+s;
                return h.substr(h.length-2,2)+':'+m.substr(m.length-2,2)+':'+s.substr(s.length-2,2);
            }
        };

        var ZB={ //坐标类
            llrConv:function(JW,E){ //球面坐标旋转
                //黄道赤道坐标变换,赤到黄E取负
                var sinE =Math.sin(E),    cosE =Math.cos(E);
                var sinJ =Math.sin(JW[0]),cosJ =Math.cos(JW[0]);
                var sinW =Math.sin(JW[1]),cosW =Math.cos(JW[1]), tanW=Math.tan(JW[1]);
                JW[0]=Math.atan2( sinJ*cosE-tanW*sinE, cosJ );
                JW[1]=Math.asin ( cosE*sinW+sinE*cosW*sinJ  );
                JW[0]=rad2mrad(JW[0]);
            },
            nutB:new Array(
                2.1824,  -33.75705, 36e-6,-1720,920,  3.5069, 1256.66393, 11e-6,-132, 57,
                1.3375,16799.4182, -51e-6, -23, 10,   4.3649,  -67.5141,  72e-6,  21, -9,
                0.04,   -628.302,   0,     -14,  0,   2.36,   8328.691,   0,       7,  0,
                3.46,   1884.966,   0,      -5,  2,   5.44,  16833.175,   0,      -4,  2,
                3.69,  25128.110,   0,      -3,  0,   3.55,    628.362,   0,       2,  0),
            nutation:function(t){ //章动计算,t是世纪数
                var i,c,a, t2=t*t, B=this.nutB, dL=0,dE=0;
                for(i=0;i<B.length;i+=5){
                    c = B[i]+B[i+1]*t+B[i+2]*t2;
                    if(i==0) a=-1.742*t; else a=0;
                    dL+=(B[i+3]+a)*Math.sin(c);
                    dE+= B[i+4]   *Math.cos(c);
                }
                this.dL=dL/100/rad; //黄经章动
                this.dE=dE/100/rad; //交角章动
            },
            nutationLon:function(t){ //只计算黄经章动
                var i,a, t2=t*t, dL=0, B=this.nutB;
                for(i=0;i<B.length;i+=5){
                    if(i==0) a=-1.742*t; else a=0;
                    dL += (B[i+3]+a) * Math.sin( B[i]+B[i+1]*t+B[i+2]*t2 );
                }
                return dL/100/rad;
            },
            hcjj:function(t){ //返回黄赤交角,t是世纪数
                var t2=t*t, t3=t2*t,t4=t3*t;
                return (84381.4088 -46.836051*t -0.0001667*t2 -0.00199911*t3-0.000000523*t4)/rad;
            },
            gst:function(T,dt){ //传入T是2000年首起算的日数(UT),dt是deltatT(日),精度要求不高时dt可取值为0
                //返回格林尼治恒星时(不含赤经章动及非多项式部分),即格林尼治子午圈的平春风点起算的赤经
                var t=(T+dt)/36525,t2=t*t, t3=t2*t, t4=t3*t;
                return pi2*(0.7790572732640 + 1.00273781191135448*T) //严格说这里的T是UT,下一行的t是力学时(世纪数)
                    + (0.014506 + 4612.15739966*t + 1.39667721*t2 - 0.00009344*t3 + 0.00001882*t4)/rad;
            },
            gxc_sunLon:function(t){ //太阳光行差,t是世纪数
                var v =-0.043126+ 628.301955*t -0.000002732*t*t; //平近点角
                var e = 0.016708634-0.000042037*t-0.0000001267*t*t;
                return  ( -20.49552 * (1+e*Math.cos(v)) )/rad; //黄经光行差
            },
            gxc_sunLat:function(t) { return 0;       }, //黄纬光行差
            gxc_moonLon:function(t){ return -3.4E-6; }, //月球经度光行差,误差0.07"
            gxc_moonLat:function(t){ //月球纬度光行差,误差0.006"
                return 0.063*Math.sin(0.057+8433.4662*t+0.000064*t*t)/rad;
            },
            AR:function(ho){ return -0.0002909/Math.tan( ho+0.002227/(ho+0.07679) ); }, //大气折射,ho是视高度
            AR2:function(h){ return  0.0002967/Math.tan( h +0.003138/( h+0.08919) ); }, //大气折射,h是真高度
            parallax:function(z,H,fa,high){ //视差修正
                //z赤道坐标,fa地理纬度,H时角,high海拔(千米)
                var sinP = 8.794/rad/z[2]; //赤道地平视差,z[2]应以AU为单位
                var ba   = 0.99664719;
                var u    = Math.atan(ba*Math.tan(fa));
                var sinD = -sinP*(Math.sin(u)*ba+ high*Math.sin(fa)/6378.14);
                var cosD = -sinP*(Math.cos(u)   + high*Math.cos(fa)/6378.14);

                var sinH = Math.sin(H),    cosH = Math.cos(H);
                var sinW = Math.sin(z[1]), cosW = Math.cos(z[1]);
                var a = Math.atan( cosD*sinH / (cosW+cosD*cosH) );
                z[1]  = Math.atan( (sinW+sinD) / (cosW+cosD*cosH) * Math.cos(a) );
                z[0]  = rad2mrad( z[0]+a );
            }
        };

        var XL={ //星历类
//==========================

            EL:new Array(//以下是地球黄经数据,最大误差0.25"
                new Array(//EL0
                    33416565,4.6692568,6283.07584999,
                    348943,4.626102,12566.1517,34971,2.74412,5753.38488,34176,2.82887,3.52312,31359,3.62767,77713.77147,
                    26762,4.41808,7860.41939,23427,6.13516,3930.2097,13243,0.74246,11506.76977,12732,2.0371,529.69097,
                    11992,1.10963,1577.34354,9903,5.2327,5884.9268,9019,2.0451,26.2983,8572,3.5085,398.149,
                    7798,1.1788,5223.6939,7531,2.5334,5507.5532,5053,4.5829,18849.2275,4924,4.2051,775.5226,
                    3567,2.9195,0.0673,3171,5.849,11790.6291,2841,1.8987,796.298,2710,0.3149,10977.0788,
                    2428,0.3448,5486.7778,2062,4.8065,2544.3144,2054,1.8695,5573.1428,2023,2.4577,6069.7768,
                    1555,0.8331,213.2991,1322,3.4112,2942.4634,1262,1.083,20.7754,1151,0.6454,0.9803,
                    1029,0.636,4694.003,1019,0.9757,15720.8388,1017,4.2668,7.1135,992,6.21,2146.165,
                    976,0.681,155.42,858,5.983,161000.686,851,1.299,6275.962,847,3.671,71430.696,
                    796,1.808,17260.155,788,3.037,12036.461,747,1.755,5088.629,739,3.503,3154.687,
                    735,4.679,801.821,696,0.833,9437.763,624,3.978,8827.39,611,1.818,7084.897,
                    570,2.784,6286.599,561,4.387,14143.495,556,3.47,6279.553,520,0.189,12139.554,
                    516,1.333,1748.016,511,0.283,5856.478,490,0.487,1194.447,410,5.368,8429.241,
                    409,2.399,19651.048,392,6.168,10447.388,368,6.041,10213.286,366,2.57,1059.382,
                    360,1.709,2352.866,356,1.776,6812.767,333,0.593,17789.846,304,0.443,83996.847,
                    300,2.74,1349.867,254,3.165,4690.48,247,0.215,3.59,237,0.485,8031.092,
                    236,2.065,3340.612,228,5.222,4705.732,219,5.556,553.569,214,1.426,16730.464,
                    211,4.148,951.718,203,0.371,283.859,199,5.222,12168.003,199,5.775,6309.374,
                    191,3.822,23581.258,189,5.386,149854.4,179,2.215,13367.973,175,4.561,135.065,
                    162,5.988,11769.854,151,4.196,6256.778,144,4.193,242.729,143,3.724,38.028,
                    140,4.401,6681.225,136,1.889,7632.943,125,1.131,5.523,121,2.622,955.6,
                    120,1.004,632.784,113,0.177,4164.312,108,0.327,103.093,105,0.939,11926.254,
                    105,5.359,1592.596,103,6.2,6438.496,100,6.029,5746.271,98,1,11371.7,
                    98,5.24,27511.47,94,2.62,5760.5,92,0.48,522.58,92,4.57,4292.33,
                    90,5.34,6386.17,86,4.17,7058.6,84,3.3,7234.79,84,4.54,25132.3,
                    81,6.11,4732.03,81,6.27,426.6,80,5.82,28.45,79,1,5643.18,
                    78,2.96,23013.54,77,3.12,7238.68,76,3.97,11499.66,73,4.39,316.39,
                    73,0.61,11513.88,72,4,74.78,71,0.32,263.08,68,5.91,90955.55,
                    66,3.66,17298.18,65,5.79,18073.7,63,4.72,6836.65,62,1.46,233141.31,
                    61,1.07,19804.83,60,3.32,6283.01,60,2.88,6283.14,55,2.45,12352.85),
                new Array(//EL1
                    2060589,2.6782346,6283.07585,43034,2.63513,12566.1517,4253,1.5905,3.5231,1193,5.7956,26.2983,
                    1090,2.9662,1577.3435,935,2.592,18849.228,721,1.138,529.691,678,1.875,398.149,
                    673,4.409,5507.553,590,2.888,5223.694,560,2.175,155.42,454,0.398,796.298,
                    364,0.466,775.523,290,2.647,7.114,208,5.341,0.98,191,1.846,5486.778,
                    185,4.969,213.299,173,2.991,6275.962,162,0.032,2544.314,158,1.43,2146.165,
                    146,1.205,10977.079,125,2.834,1748.016,119,3.258,5088.629,118,5.274,1194.447,
                    115,2.075,4694.003,106,0.766,553.569,100,1.303,6286.599,97,4.24,1349.87,
                    95,2.7,242.73,86,5.64,951.72,76,5.3,2352.87,64,2.65,9437.76,
                    61,4.67,4690.48,58,1.77,1059.38,53,0.91,3154.69,52,5.66,71430.7,
                    52,1.85,801.82,50,1.42,6438.5,43,0.24,6812.77,43,0.77,10447.39,
                    41,5.24,7084.9,37,2,8031.09,36,2.43,14143.5,35,4.8,6279.55,
                    34,0.89,12036.46,34,3.86,1592.6,33,3.4,7632.94,32,0.62,8429.24,
                    32,3.19,4705.73,30,6.07,4292.33,30,1.43,5746.27,29,2.32,20.36,
                    27,0.93,5760.5,27,4.8,7234.79,25,6.22,6836.65,23,5,17789.85,
                    23,5.67,11499.66,21,5.2,11513.88,21,3.96,10213.29,21,2.27,522.58,
                    21,2.22,5856.48,21,2.55,25132.3,20,0.91,6256.78,19,0.53,3340.61,
                    19,4.74,83996.85,18,1.47,4164.31,18,3.02,5.52,18,3.03,5753.38,
                    16,4.64,3.29,16,6.12,5216.58,16,3.08,6681.22,15,4.2,13367.97,
                    14,1.19,3894.18,14,3.09,135.07,14,4.25,426.6,13,5.77,6040.35,
                    13,3.09,5643.18,13,2.09,6290.19,13,3.08,11926.25,12,3.45,536.8),
                new Array(//EL2
                    87198,1.0721,6283.07585,3091,0.8673,12566.1517,273,0.053,3.523,163,5.188,26.298,
                    158,3.685,155.42,95,0.76,18849.23,89,2.06,77713.77,70,0.83,775.52,
                    51,4.66,1577.34,41,1.03,7.11,38,3.44,5573.14,35,5.14,796.3,
                    32,6.05,5507.55,30,1.19,242.73,29,6.12,529.69,27,0.31,398.15,
                    25,2.28,553.57,24,4.38,5223.69,21,3.75,0.98,17,0.9,951.72,
                    15,5.76,1349.87,14,4.36,1748.02,13,3.72,1194.45,13,2.95,6438.5,
                    12,2.97,2146.17,11,1.27,161000.69,10,0.6,3154.69,10,5.99,6286.6,
                    9,4.8,5088.63,9,5.23,7084.9,8,3.31,213.3,8,3.42,5486.78,
                    7,6.19,4690.48,7,3.43,4694,6,1.6,2544.31,6,1.98,801.82,
                    6,2.48,10977.08,5,1.44,6836.65,5,2.34,1592.6,5,1.31,4292.33,
                    5,3.81,149854.4,4,0.04,7234.79,4,4.94,7632.94,4,1.57,71430.7,
                    4,3.17,6309.37,3,0.99,6040.35,3,0.67,1059.38,3,3.18,2352.87,
                    3,3.55,8031.09,3,1.92,10447.39,3,2.52,6127.66,3,4.42,9437.76,
                    3,2.71,3894.18,3,0.67,25132.3,3,5.27,6812.77,3,0.55,6279.55),
                new Array(2892,5.8438,6283.0758,168,5.488,12566.152,30,5.2,155.42,13,4.72,3.52,7,5.3,18849.23,6,5.97,242.73,4,3.79,553.57,1,4.3,6286.6,1,0.91,6127.66),//EL3
                new Array(77,4.13,6283.08,8,3.84,12566.15,4,0.42,155.42),//EL4
                new Array(2,2.77,6283.08,1,2.01,155.42)//EL5
            ),

            EB:new Array(//地球黄纬数据,误差0.2"
                new Array(2796,3.1987,84334.6616,1016,5.4225,5507.5532,804,3.88,5223.694,438,3.704,2352.866,319,4,1577.344,227,3.985,1047.747),//EB0
                new Array(90,3.9,5507.55,62,1.73,5223.69),//EB1
                new Array(17,1.63,84334.66)//EB2
            ),

            ER:new Array(//地球向径数据,误差0.00001AU
                new Array(//ER0
                    1000139888,0,0,16706996,3.09846351,6283.07584999,
                    139560,3.055246,12566.1517,30837,5.19847,77713.77147,
                    16285,1.17388,5753.38488,15756,2.84685,7860.41939,
                    9248,5.4529,11506.7698,5424,4.5641,3930.2097,
                    4721,3.661,5884.9268,3460,0.9637,5507.5532,
                    3288,5.8998,5223.6939,3068,0.2987,5573.1428,
                    2432,4.2735,11790.6291,2118,5.8471,1577.3435,
                    1858,5.0219,10977.0788,1748,3.0119,18849.2275),
                new Array(1030186,1.1074897,6283.07585,17212,1.06442,12566.1517,7022,3.1416,0),//ER1
                new Array(43594,5.78455,6283.07585,1236,5.5793,12566.1517,123,3.142,0,88,3.63,77713.77),//ER2
                new Array(1446,4.2732,6283.0758,67,3.92,12566.15),//ER3
                new Array(39,2.56,6283.08,3,2.27,12566.15),//ER4
                new Array(1,1.22,6283.08)//ER5
            ),

//以下是月球黄经周期项及泊松项,精度3角秒,平均误差0.5角秒
//各坐标均是余弦项,各列单位:角秒,1,1,1e-4,1e-8,1e-8
            ML:new Array(
                new Array(//ML0
                    22639.59,0.784758,8328.6914246,1.52292,25.07,-0.1236,4586.44,0.18740,7214.0628654,-2.1848,-18.86,0.083,
                    2369.91,2.54295,15542.754290,-0.6618,6.2,-0.041,769.03,3.1403,16657.382849,3.046,50.1,-0.25,
                    666.42,1.5277,628.301955,-0.027,0.1,-0.01,411.60,4.8266,16866.932315,-1.280,-1.1,-0.01,
                    211.66,4.1150,-1114.62856,-3.708,-44,0.21,205.44,0.2305,6585.76091,-2.158,-19,0.09,
                    191.96,4.8985,23871.44571,0.861,31,-0.16,164.73,2.5861,14914.45233,-0.635,6,-0.04,
                    147.32,5.4553,-7700.38947,-1.550,-25,0.12,124.99,0.4861,7771.37714,-0.331,3,-0.02,
                    109.38,3.8832,8956.99338,1.496,25,-0.1,55.18,5.570,-1324.17803,0.62,7,0,
                    45.10,0.899,25195.62374,0.24,24,-0.1,39.53,3.812,-8538.24089,2.80,26,-0.1,
                    38.43,4.301,22756.81716,-2.85,-13,0,36.12,5.496,24986.07427,4.57,75,-0.4,
                    30.77,1.946,14428.1257,-4.37,-38,0.2,28.40,3.286,7842.3648,-2.21,-19,0.1,
                    24.36,5.641,16171.0562,-0.69,6,0,18.58,4.414,-557.3143,-1.85,-22,0.1,
                    17.95,3.585,8399.6791,-0.36,3,0,14.53,4.942,23243.1438,0.89,31,-0.2,
                    14.38,0.971,32200.1371,2.38,56,-0.3,14.25,5.764,-2.3012,1.52,25,-0.1,
                    13.90,0.374,31085.5086,-1.32,12,-0.1,13.19,1.759,-9443.3200,-5.23,-69,0.3,
                    9.68,3.100,-16029.0809,-3.1,-50,0,9.37,0.30,24080.9952,-3.5,-20,0,
                    8.61,4.16,-1742.9305,-3.7,-44,0,8.45,2.84,16100.0686,1.2,28,0,
                    8.05,2.63,14286.1504,-0.6,6,0,7.63,6.24,17285.6848,3.0,50,0,
                    7.45,1.48,1256.6039,-0.1,0,0,7.37,0.27,5957.4590,-2.1,-19,0,
                    7.06,5.67,33.7570,-0.3,-4,0,6.38,4.78,7004.5134,2.1,32,0,
                    5.74,2.66,32409.6866,-1.9,5,0,4.37,4.34,22128.5152,-2.8,-13,0,
                    4.00,3.25,33524.3152,1.8,49,0,3.21,2.24,14985.4400,-2.5,-16,0,
                    2.91,1.71,24499.748,0.8,31,0,2.73,1.99,13799.824,-4.3,-38,0,
                    2.57,5.41,-7072.088,-1.6,-25,0,2.52,3.24,8470.667,-2.2,-19,0,
                    2.49,4.07,-486.327,-3.7,-44,0,2.15,5.61,-1952.480,0.6,7,0,
                    1.98,2.73,39414.200,0.2,37,0,1.93,1.57,33314.766,6.1,100,0,
                    1.87,0.42,30457.207,-1.3,12,0,1.75,2.06,-8886.006,-3.4,-47,0,
                    1.44,2.39,-695.876,0.6,7,0,1.37,3.03,-209.549,4.3,51,0,
                    1.26,5.94,16728.371,1.2,28,0,1.22,6.17,6656.749,-4.0,-41,0,
                    1.19,5.87,6099.434,-5.9,-63,0,1.18,1.01,31571.835,2.4,56,0,
                    1.16,3.84,9585.295,1.5,25,0,1.14,5.64,8364.740,-2.2,-19,0,
                    1.08,1.23,70.988,-1.9,-22,0,1.06,3.33,40528.829,3.9,81,0,
                    0.99,5.01,40738.378,0,30,0,0.95,5.7,-17772.011,-7,-94,0,
                    0.88,0.3,-0.352,0,0,0,0.82,3.0,393.021,0,0,0,
                    0.79,1.8,8326.390,3,50,0,0.75,5.0,22614.842,1,31,0,
                    0.74,2.9,8330.993,0,0,0,0.67,0.7,-24357.772,-5,-75,0,
                    0.64,1.3,8393.126,-2,-19,0,0.64,5.9,575.338,0,0,0,
                    0.64,1.1,23385.119,-3,-13,0,0.58,5.2,24428.760,3,53,0,
                    0.58,3.5,-9095.555,1,0,0,0.57,6.1,29970.880,-5,-32,0,
                    0.56,3.0,0.329,2,25,0,0.56,4.0,-17981.561,-2,-43,0,
                    0.56,0.5,7143.075,0,0,0,0.55,2.3,25614.376,5,75,0,
                    0.54,4.2,15752.304,-5,-45,0,0.49,3.3,-8294.934,-2,-29,0,
                    0.49,1.7,8362.448,1,21,0,0.48,1.8,-10071.622,-5,-69,0,
                    0.45,0.9,15333.205,4,57,0,0.45,2.1,8311.771,-2,-19,0,
                    0.43,0.3,23452.693,-3,-20,0,0.42,4.9,33733.865,-3,0,0,
                    0.41,1.6,17495.234,-1,0,0,0.40,1.5,23314.131,-1,9,0,
                    0.39,2.1,38299.571,-4,-6,0,0.38,2.7,31781.385,-2,5,0,
                    0.37,4.8,6376.211,2,32,0,0.36,3.9,16833.175,-1,0,0,
                    0.36,5.0,15056.428,-4,-38,0,0.35,5.2,-8257.704,-3,0,0,
                    0.34,4.2,157.734,0,0,0,0.34,2.7,13657.848,-1,0,0,
                    0.33,5.6,41853.007,3,74,0,0.32,5.9,-39.815,0,0,0,
                    0.31,4.4,21500.21,-3,0,0,0.30,1.3,786.04,0,0,0,
                    0.30,5.3,-24567.32,0,0,0,0.30,1.0,5889.88,-2,0,0,
                    0.29,4.2,-2371.23,-4,0,0,0.29,3.7,21642.19,-7,-57,0,
                    0.29,4.1,32828.44,2,56,0,0.29,3.5,31713.81,-1,0,0,
                    0.29,5.4,-33.78,0,0,0,0.28,6.0,-16.92,-4,0,0,
                    0.28,2.8,38785.90,0,0,0,0.27,5.3,15613.74,-3,0,0,
                    0.26,4.0,25823.93,0,0,0,0.25,0.6,24638.31,-2,0,0,
                    0.25,1.3,6447.20,0,0,0,0.25,0.9,141.98,-4,0,0,
                    0.25,0.3,5329.16,-2,0,0,0.25,0.1,36.05,-4,0,0,
                    0.23,2.3,14357.14,-2,0,0,0.23,5.2,2.63,0,0,0,
                    0.22,5.1,47742.89,2,63,0,0.21,2.1,6638.72,-2,0,0,
                    0.20,4.4,39623.75,-4,0,0,0.19,2.1,588.49,0,0,0,
                    0.19,3.1,-15400.78,-3,-50,0,0.19,5.6,16799.36,-1,0,0,
                    0.18,3.9,1150.68,0,0,0,0.18,1.6,7178.01,2,0,0,
                    0.18,2.6,8328.34,2,0,0,0.18,2.1,8329.04,2,0,0,
                    0.18,3.2,-9652.87,-1,0,0,0.18,1.7,-8815.02,-5,-69,0,
                    0.18,5.7,550.76,0,0,0,0.17,2.1,31295.06,-6,0,0,
                    0.17,1.2,7211.76,-1,0,0,0.16,4.5,14967.42,-1,0,0,
                    0.16,3.6,15540.45,1,0,0,0.16,4.2,522.37,0,0,0,
                    0.16,4.6,15545.06,-2,0,0,0.16,0.5,6428.02,-2,0,0,
                    0.16,2.0,13171.52,-4,0,0,0.16,2.3,7216.36,-4,0,0,
                    0.15,5.6,7935.67,2,0,0,0.15,0.5,29828.90,-1,0,0,
                    0.15,1.2,-0.71,0,0,0,0.15,1.4,23942.43,-1,0,0,
                    0.14,2.8,7753.35,2,0,0,0.14,2.1,7213.71,-2,0,0,
                    0.14,1.4,7214.42,-2,0,0,0.14,4.5,-1185.62,-2,0,0,
                    0.14,3.0,8000.10,-2,0,0,0.13,2.8,14756.71,-1,0,0,
                    0.13,5.0,6821.04,-2,0,0,0.13,6.0,-17214.70,-5,-72,0,
                    0.13,5.3,8721.71,2,0,0,0.13,4.5,46628.26,-2,0,0,
                    0.13,5.9,7149.63,2,0,0,0.12,1.1,49067.07,1,55,0,
                    0.12,2.9,15471.77,1,0,0),
                new Array(//ML1
                    1.677,4.669,628.30196,-0.03,0,0,0.516,3.372,6585.7609,-2.16,-19,0.1,
                    0.414,5.728,14914.4523,-0.64,6,0,0.371,3.969,7700.3895,1.55,25,0,
                    0.276,0.74,8956.9934,1.5,25,0,0.246,4.23,-2.3012,1.5,25,0,
                    0.071,0.14,7842.365,-2.2,-19,0,0.061,2.50,16171.056,-0.7,6,0,
                    0.045,0.44,8399.679,-0.4,0,0,0.040,5.77,14286.150,-0.6,6,0,
                    0.037,4.63,1256.604,-0.1,0,0,0.037,3.42,5957.459,-2.1,-19,0,
                    0.036,1.80,23243.144,0.9,31,0,0.024,0,16029.081,3,50,0,
                    0.022,1.0,-1742.931,-4,-44,0,0.019,3.1,17285.685,3,50,0,
                    0.017,1.3,0.329,2,25,0,0.014,0.3,8326.390,3,50,0,
                    0.013,4.0,7072.088,2,25,0,0.013,4.4,8330.993,0,0,0,
                    0.013,0.1,8470.667,-2,-19,0,0.011,1.2,22128.515,-3,0,0,
                    0.011,2.5,15542.754,-1,0,0,0.008,0.2,7214.06,-2,0,0,
                    0.007,4.9,24499.75,1,0,0,0.007,5.1,13799.82,-4,0,0,
                    0.006,0.9,-486.33,-4,0,0,0.006,0.7,9585.30,1,0,0,
                    0.006,4.1,8328.34,2,0,0,0.006,0.6,8329.04,2,0,0,
                    0.005,2.5,-1952.48,1,0,0,0.005,2.9,-0.71,0,0,0,
                    0.005,3.6,30457.21,-1,0,0),
                new Array(//ML2
                    0.0049,4.67,628.3020,0,0,0,0.0023,2.67,-2.301,1.5,25,0,
                    0.0015,3.37,6585.761,-2.2,-19,0,0.0012,5.73,14914.452,-0.6,6,0,
                    0.0011,3.97,7700.389,2,25,0,0.0008,0.7,8956.993,1,25,0)
            ),

            MB:new Array( //精度3角秒
                new Array(//MB0
                    18461.24,0.057109,8433.4661575,-0.64006,-0.53,-0.0029,1010.17,2.41266,16762.157582,0.883,24.5,-0.13,
                    999.69,5.44004,-104.774733,2.163,25.6,-0.12,623.65,0.9150,7109.288132,-0.022,6.7,-0.04,
                    199.48,1.8153,15647.52902,-2.825,-19,0.08,166.57,4.8427,-1219.40329,-1.545,-18,0.09,
                    117.26,4.1709,23976.22045,-1.302,6,-0.04,61.91,4.768,25090.84901,2.41,50,-0.3,
                    33.36,3.271,15437.97956,1.50,32,-0.2,31.76,1.512,8223.91669,3.69,51,-0.2,
                    29.58,0.958,6480.9862,0,7,0,15.57,2.487,-9548.0947,-3.07,-43,0.2,
                    15.12,0.243,32304.9119,0.22,31,-0.2,12.09,4.014,7737.5901,-0.05,7,0,
                    8.87,1.86,15019.2271,-2.8,-19,0,8.05,5.38,8399.7091,-0.3,3,0,
                    7.96,4.21,23347.9185,-1.3,6,0,7.43,4.89,-1847.7052,-1.5,-18,0,
                    6.73,3.83,-16133.8556,-0.9,-24,0,6.58,2.67,14323.3510,-2.2,-12,0,
                    6.46,3.16,9061.7681,-0.7,0,0,6.30,0.17,25300.3985,-1.9,-2,0,
                    5.63,0.80,733.0767,-2.2,-26,0,5.37,2.11,16204.8433,-1.0,3,0,
                    5.31,5.51,17390.4595,0.9,25,0,5.08,2.26,523.5272,2.1,26,0,
                    4.84,6.18,-7805.1642,0.6,1,0,4.81,5.14,-662.0890,0.3,4,0,
                    3.98,0.84,33419.5404,3.9,75,0,3.67,5.03,22652.0424,-0.7,13,0,
                    3.00,5.93,31190.283,-3.5,-13,0,2.80,2.18,-16971.707,3.4,27,0,
                    2.41,3.57,22861.592,-5.0,-38,0,2.19,3.94,-9757.644,1.3,8,0,
                    2.15,5.63,23766.671,3.0,57,0,1.77,3.31,14809.678,1.5,32,0,
                    1.62,2.60,7318.838,-4.3,-44,0,1.58,3.87,16552.608,5.2,76,0,
                    1.52,2.60,40633.603,1.7,56,0,1.52,0.13,-17876.786,-4.6,-68,0,
                    1.51,3.93,8399.685,-0.3,0,0,1.32,4.91,16275.831,-2.9,-19,0,
                    1.26,0.99,24604.522,-1.3,6,0,1.19,2.00,39518.975,-2.0,12,0,
                    1.13,0.29,31676.610,0.2,31,0,1.09,1.00,5852.684,0,7,0,
                    1.02,2.53,33629.090,0,23,0,0.82,0.1,16066.282,1,32,0,
                    0.80,2.0,-33.787,0,0,0,0.80,5.2,16833.145,-1,0,0,
                    0.79,1.5,-24462.547,-2,-50,0,0.79,1.7,-591.101,-2,-18,0,
                    0.67,4.5,24533.535,1,28,0,0.65,2.5,-10176.397,-3,-43,0,
                    0.64,1.6,25719.151,2,50,0,0.63,0.3,5994.660,-4,-37,0,
                    0.63,2.1,8435.767,-2,-26,0,0.63,1.1,8431.165,1,25,0,
                    0.60,2.7,13695.049,-2,-12,0,0.59,1.2,7666.602,2,29,0,
                    0.47,1.1,30980.734,1,38,0,0.46,0.1,-71.018,2,22,0,
                    0.43,2.8,-8990.780,-1,-21,0,0.42,1.5,16728.401,1,28,0,
                    0.41,5.1,22023.740,-1,13,0,0.38,4.3,22719.617,-1,6,0,
                    0.35,3.0,14880.665,0,10,0,0.34,6.0,30561.981,-3,0,0,
                    0.33,1.6,-18086.336,0,0,0,0.33,1.0,8467.223,-1,0,0,
                    0.31,1.9,14390.93,-3,0,0,0.31,4.6,8852.22,4,51,0,
                    0.31,0.6,6551.97,-2,0,0,0.30,4.7,-7595.61,-4,-51,0,
                    0.30,1.9,7143.05,0,0,0,0.29,3.2,-1428.95,3,0,0,
                    0.27,4.9,-2476.01,-1,0,0,0.26,3.2,41748.23,5,100,0,
                    0.25,3.4,-1009.85,-6,-70,0,0.24,1.9,32514.46,-4,0,0,
                    0.24,3.3,32933.21,0,0,0,0.21,3.6,22233.29,-5,0,0,
                    0.21,4.4,47847.67,0,0,0,0.21,3.9,23418.91,-3,0,0,
                    0.17,5.8,14951.65,-2,0,0,0.16,2.0,38890.67,-2,0,0),
                new Array(//MB1
                    0.074,4.10,6480.986,0,7,0,0.030,0.9,7737.590,0,7,0,
                    0.022,5.0,15019.227,-3,-19,0,0.020,1.1,23347.918,-1,6,0,
                    0.019,1.7,-1847.705,-2,-18,0,0.017,5.6,16133.856,1,24,0,
                    0.016,0,9061.768,-1,0,0,0.014,3.9,733.077,-2,-26,0,
                    0.013,2.4,17390.460,1,25,0,0.013,5.6,8399.685,0,0,0,
                    0.013,0.9,-523.527,-2,-26,0,0.012,3.2,7805.164,-1,0,0,
                    0.011,3.7,8435.767,-2,0,0,0.011,5.9,8431.165,1,0,0)
            ),

            MR:new Array( //精度3千米
                new Array(//MR0
                    385000.5,0,0,0,0,0,
                    20905.4,5.497147,8328.6914246,1.52292,25.07,-0.1236,3699.1,4.89979,7214.062865,-2.1848,-18.9,0.083,
                    2956.0,0.97216,15542.754290,-0.6618,6.2,-0.041,569.9,1.5695,16657.382849,3.046,50,-0.25,
                    246.2,5.6858,-1114.62856,-3.708,-44,0.21,204.6,1.0153,14914.45233,-0.635,6,-0.04,
                    170.7,3.3277,23871.44571,0.86,31,-0.2,152.1,4.943,6585.76091,-2.16,-19,0.1,
                    129.6,0.743,-7700.38947,-1.55,-25,0.1,108.7,5.198,7771.37714,-0.33,3,0,
                    104.8,2.312,8956.99338,1.50,25,-0.1,79.7,5.383,-8538.24089,2.80,26,-0.1,
                    48.9,6.240,628.3020,-0.03,0,0,34.8,2.730,22756.8172,-2.85,-13,0,
                    30.8,4.071,16171.0562,-0.69,6,0,24.2,1.715,7842.3648,-2.21,-19,0.1,
                    23.2,3.925,24986.0743,4.57,75,-0.4,21.6,0.375,14428.1257,-4.37,-38,0.2,
                    16.7,2.014,8399.6791,-0.4,3,0,14.4,3.33,-9443.3200,-5.2,-69,0,
                    12.8,3.37,23243.1438,0.9,31,0,11.6,5.09,31085.5086,-1.3,12,0,
                    10.4,5.68,32200.1371,2.4,56,0,10.3,0.86,-1324.1780,0.6,7,0,
                    10.1,5.73,-1742.9305,-3.7,-44,0,9.9,1.06,14286.1504,-0.6,6,0,
                    8.8,4.79,-9652.8694,-0.9,-18,0,8.4,5.98,-557.3143,-1.9,-22,0,
                    7.0,4.67,-16029.0809,-3.1,-50,0,6.3,1.27,16100.0686,1.2,28,0,
                    5.8,4.67,17285.6848,3.0,50,0,5.0,4.99,5957.459,-2.1,-19,0,
                    4.4,4.60,-209.549,4.3,51,0,4.1,3.21,7004.513,2.1,32,0,
                    4.0,2.77,22128.515,-2.8,-13,0,3.3,0.67,14985.440,-2.5,-16,0,
                    3.1,0.11,16866.932,-1.3,0,0,2.6,0.14,24499.748,0.8,31,0,
                    2.4,1.67,8470.667,-2.2,-19,0,2.1,0.70,-7072.088,-1.6,-25,0,
                    1.9,0.42,13799.824,-4.3,-38,0,1.7,3.63,-8886.006,-3,-47,0,
                    1.6,5.1,30457.207,-1,12,0,1.4,1.2,39414.200,0,37,0,
                    1.4,6.2,23314.131,-1,9,0,1.2,2.3,9585.295,1,25,0,
                    1.1,6.3,33314.766,6,100,0,1.1,6.2,1256.604,0,0,0,
                    1.1,4.1,8364.740,-2,-19,0,0.9,4.4,16728.371,1,28,0,
                    0.9,4.6,6656.749,-4,-41,0,0.9,2.8,70.988,-2,-22,0,
                    0.8,5.7,31571.835,2,56,0,0.8,5.1,-9095.555,1,0,0,
                    0.8,1.0,-17772.011,-7,-94,0,0.8,2.7,15752.304,-5,-45,0,
                    0.7,0.3,8326.390,3,50,0,0.7,1.3,8330.993,0,0,0,
                    0.7,1.8,40528.829,4,81,0,0.7,3.4,22614.842,1,31,0,
                    0.7,0.9,-1952.480,1,7,0,0.6,6.0,8393.126,-2,-19,0,
                    0.6,5.0,24080.995,-3,-20,0,0.6,5.8,23385.119,-3,0,0,
                    0.5,4.3,6099.43,-6,-63,0,0.5,1.8,14218.58,0,0,0,
                    0.5,5.2,7143.08,0,0,0,0.5,3.4,-10071.62,-5,-69,0,
                    0.5,2.4,-17981.56,-2,0,0,0.5,4.9,-8294.93,-2,0,0,
                    0.5,0.2,8362.45,1,0,0,0.4,4.5,29970.88,-5,0,0,
                    0.4,2.3,-24357.77,-5,-75,0,0.4,1.1,13657.85,-1,0,0,
                    0.4,0.5,8311.77,-2,0,0,0.4,3.6,24428.76,3,53,0,
                    0.4,0.7,25614.38,5,75,0,0.3,5.8,-2371.23,-4,0,0,
                    0.3,0.9,9166.54,-3,0,0,0.3,0.4,-8257.70,-3,0,0,
                    0.3,4.8,-10281.17,-1,0,0,0.3,5.8,5889.88,-2,0,0,
                    0.3,0.6,38299.57,-4,0,0,0.3,5.6,15333.20,4,57,0,
                    0.3,2.8,21500.21,-3,0,0,0.3,0.7,14357.14,-2,0,0),
                new Array(//MR1
                    0.514,4.16,14914.4523,-0.6,6,0,0.382,1.80,6585.7609,-2.2,-19,0,
                    0.327,2.40,7700.3895,1.5,25,0,0.264,5.45,8956.9934,1.5,25,0,
                    0.123,3.10,628.302,0,0,0,0.078,0.93,16171.056,-0.7,6,0,
                    0.061,4.86,7842.365,-2.2,-19,0,0.050,4.2,14286.150,-1,6,0,
                    0.042,5.2,8399.679,0,0,0,0.032,0.2,23243.144,1,31,0,
                    0.025,2.6,-1742.931,-4,-44,0,0.025,1.8,5957.459,-2,-19,0,
                    0.018,4.8,16029.081,3,50,0,0.014,1.5,17285.68,3,50,0,
                    0.014,1.0,15542.75,-1,0,0,0.013,5.0,8326.39,3,50,0,
                    0.012,4.8,8470.67,-2,0,0,0.012,2.8,8330.99,0,0,0,
                    0.011,2.4,7072.09,2,0,0,0.010,5.9,22128.52,-3,0,0),
                new Array(//MR2
                    0.0015,4.2,14914.452,-1,6,0,0.0011,1.8,6585.761,-2,-19,0,
                    0.0009,2.4,7700.389,2,25,0,0.0008,5.5,8956.993,1,25,0)
            ),

//=====================

//星历函数(日月球面坐标计算)
            Enn:function(ob,t,n){ //计算E_L0或E_L1或E_L2等
                var i,j,F,N,v=0,tn=1,c;
                if(ob==this.EL){
                    var t2=t*t, t3=t2*t, t4=t3*t, t5=t4*t; //千年数的各次方
                    v += 1753469512 + 6283319653318*t + 529674*t2 + 432*t3 - 1124*t4 - 9*t5 + 630 * Math.cos(6+3*t); //地球平黄经(已拟合DE406)
                }
                n*=3; if(n<0) n = ob[0].length;
                for(i=0;i<ob.length;i++,tn*=t){
                    F = ob[i];
                    N = int2( n*F.length/ob[0].length+0.5 );  if(i) N+=3;  if(N >= F.length) N=F.length;
                    for(j=0,c=0;j<N;j+=3) c+=F[j]*Math.cos(F[j+1] +t*F[j+2]);
                    v += c*tn;
                }
                return v/1000000000;
            },
            E_coord:function(t,re,n){ //返回地球坐标,t为世纪数
                t/=10;
                re[0]= this.Enn( this.EL, t, n);
                re[1]= this.Enn( this.EB, t,-1);
                re[2]= this.Enn( this.ER, t,-1);
            },

            E_Lon:function(t,n){ return this.Enn(this.EL,t/10,n); }, //地球经度计算,返回Date分点黄经,传入世纪数、取项数

            Mnn:function(ob,t,n){ //计算ML0或ML1或ML2
                var i,j,F,N,v=0,tn=1,c;
                var t2=t*t,t3=t2*t,t4=t3*t,t5=t4*t,tx=t-10;
                if(ob==this.ML){
                    v += (3.81034409 + 8399.684730072*t -3.319e-05*t2 + 3.11e-08*t3 - 2.033e-10*t4)*rad; //月球平黄经(弧度)
                    v += 5028.792262*t + 1.1124406*t2 + 0.00007699*t3 - 0.000023479*t4 -0.0000000178*t5; //岁差(角秒)
                    if(tx>0) v += -0.866 +1.43*tx +0.054*tx*tx; //对公元3000年至公元5000年的拟合,最大误差小于10角秒
                }
                t2/=1e4,t3/=1e8,t4/=1e8;
                n*=6; if(n<0) n = ob[0].length;
                for(i=0;i<ob.length;i++,tn*=t){
                    F=ob[i];
                    N = int2( n*F.length/ob[0].length+0.5 );  if(i) N+=6;  if(N >= F.length) N=F.length;
                    for(j=0,c=0;j<N;j+=6) c+=F[j]*Math.cos(F[j+1] +t*F[j+2] +t2*F[j+3] +t3*F[j+4] +t4*F[j+5]);
                    v += c*tn;
                }
                if(ob!=this.MR) v/=rad;
                return v;
            },
            M_coord:function(t,re,n1,n2,n3){ //返回月球坐标,n1,n2,n3为各坐标所取的项数
                re[0] = this.Mnn( this.ML, t, n1 );
                re[1] = this.Mnn( this.MB, t, n2 );
                re[2] = this.Mnn( this.MR, t, n3 );
            },
            M_Lon:function(t,n){ return this.Mnn(this.ML,t,n); }, //月球经度计算,返回Date分点黄经,传入世纪数,n是项数比例

//=========================
            E_v:function(t){ //地球速度,t是世纪数,误差小于万分3
                var f=628.307585*t;
                return 628.332 +21 *Math.sin(1.527+f) +0.44 *Math.sin(1.48+f*2)
                    +0.129*Math.sin(5.82+f)*t +0.00055*Math.sin(4.21+f)*t*t;
            },
            M_v:function(t){ //月球速度计算,传入世经数
                var v = 8399.71 - 914*Math.sin( 0.7848 + 8328.691425*t + 0.0001523*t*t ); //误差小于5%
                v-=179*Math.sin( 2.543  +15542.7543*t ) //误差小于0.3%
                    +160*Math.sin( 0.1874 + 7214.0629*t )
                    +62 *Math.sin( 3.14   +16657.3828*t )
                    +34 *Math.sin( 4.827  +16866.9323*t )
                    +22 *Math.sin( 4.9    +23871.4457*t )
                    +12 *Math.sin( 2.59   +14914.4523*t )
                    +7  *Math.sin( 0.23   + 6585.7609*t )
                    +5  *Math.sin( 0.9    +25195.624 *t )
                    +5  *Math.sin( 2.32   - 7700.3895*t )
                    +5  *Math.sin( 3.88   + 8956.9934*t )
                    +5  *Math.sin( 0.49   + 7771.3771*t );
                return v;
            },

//=========================
            MS_aLon:function(t,Mn,Sn){ //月日视黄经的差值
                return this.M_Lon(t,Mn) + ZB.gxc_moonLon(t) - ( this.E_Lon(t,Sn) + ZB.gxc_sunLon(t) + Math.PI );
            },
            S_aLon:function(t,n){ //太阳视黄经
                return this.E_Lon(t,n) + ZB.nutationLon(t) + ZB.gxc_sunLon(t) + Math.PI; //注意，这里的章动计算很耗时
            },

//=========================

            E_Lon_t:function(W){ //已知地球真黄经求时间
                var t,v= 628.3319653318;
                t  = ( W - 1.75347          )/v; v=this.E_v(t); //v的精度0.03%，详见原文
                t += ( W - this.E_Lon(t,10) )/v; v=this.E_v(t); //再算一次v有助于提高精度,不算也可以
                t += ( W - this.E_Lon(t,-1) )/v;
                return t;
            },
            M_Lon_t:function(W){ //已知真月球黄经求时间
                var t,v= 8399.70911033384;
                t  = ( W - 3.81034          )/v;
                t += ( W - this.M_Lon(t,3 ) )/v; v=this.M_v(t); //v的精度0.5%，详见原文
                t += ( W - this.M_Lon(t,20) )/v;
                t += ( W - this.M_Lon(t,-1) )/v;
                return t;
            },
            MS_aLon_t:function(W){ //已知月日视黄经差求时间
                var t,v= 7771.37714500204;
                t  = ( W + 1.08472               )/v;
                t += ( W - this.MS_aLon(t, 3, 3) )/v; v=this.M_v(t)-this.E_v(t); //v的精度0.5%，详见原文
                t += ( W - this.MS_aLon(t,20,10) )/v;
                t += ( W - this.MS_aLon(t,-1,60) )/v;
                return t;
            },
            S_aLon_t:function(W){ //已知太阳视黄经反求时间
                var t,v= 628.3319653318;
                t  = ( W - 1.75347-Math.PI   )/v; v=this.E_v(t); //v的精度0.03%，详见原文
                t += ( W - this.S_aLon(t,10) )/v; v=this.E_v(t); //再算一次v有助于提高精度,不算也可以
                t += ( W - this.S_aLon(t,-1) )/v;
                return t;
            },
            /****
             MS_aLon_t1:function(W){ //已知月日视黄经差求时间,高速低精度,误差不超过40秒
  var t,v = 7771.37714500204;
  t  = ( W + 1.08472               )/v;
  t += ( W - this.MS_aLon(t, 3, 3) )/v;  v=this.M_v(t)-this.E_v(t); //v的精度0.5%，详见原文
  t += ( W - this.MS_aLon(t,50,20) )/v;
  return t;
},
             S_aLon_t1:function(W){ //已知太阳视黄经反求时间,高速低精度,最大误差不超过50秒,平均误差15秒
  var t,v= 628.3319653318;
  t  = ( W - 1.75347-Math.PI   )/v; v = 628.332 + 21*Math.sin( 1.527+628.307585*t );
  t += ( W - this.S_aLon(t,3) )/v;
  t += ( W - this.S_aLon(t,40))/v;
  return t;
},
             ****/
            MS_aLon_t2:function(W){ //已知月日视黄经差求时间,高速低精度,误差不超过600秒
                var t,v = 7771.37714500204;
                t  = ( W + 1.08472 )/v;
                var L,t2 = t*t;
                t -= ( -0.00003309*t2 + 0.10976*Math.cos( 0.784758 + 8328.6914246*t + 0.000152292*t2 ) + 0.02224 *Math.cos( 0.18740  + 7214.0628654*t - 0.00021848 *t2 ) - 0.03342 *Math.cos( 4.669257 + 628.307585*t ) )/v;
                L = this.M_Lon(t,20) - (4.8950632+ 628.3319653318*t + 0.000005297*t*t + 0.0334166*Math.cos(4.669257+628.307585*t) + 0.0002061*Math.cos(2.67823+628.307585*t)*t + 0.000349*Math.cos(4.6261+1256.61517*t) - 20.5/rad);
                v = 7771.38 - 914*Math.sin( 0.7848 + 8328.691425*t + 0.0001523*t*t ) - 179*Math.sin( 2.543 + 15542.7543*t ) - 160*Math.sin( 0.1874 + 7214.0629*t );
                t += ( W - L )/v;
                return t;
            },
            S_aLon_t2:function(W){ //已知太阳视黄经反求时间,高速低精度,最大误差不超过600秒
                var t,L,v= 628.3319653318;
                t =  ( W - 1.75347-Math.PI )/v;
                t -= ( 0.000005297*t*t + 0.0334166 * Math.cos( 4.669257 + 628.307585*t) + 0.0002061 * Math.cos( 2.67823  + 628.307585*t)*t )/v;
                t += ( W - this.E_Lon(t,8) - Math.PI + (20.5+17.2*Math.sin(2.1824-33.75705*t))/rad )/v;
                return t;
            },
            moonIll:function(t){ //月亮被照亮部分的比例
                var t2 = t*t, t3 =t2*t, t4 = t3*t;
                var D,M,m,a, dm=Math.PI/180;
                D = 297.8502042 + 445267.1115168*t - 0.0016300*t2 + t3/545868 - t4/113065000; //日月距角
                M = 357.5291092 +  35999.0502909*t - 0.0001536*t2 + t3/24490000; //太阳平近点
                m = 134.9634114 + 477198.8676313*t + 0.0089970*t2 + t3/69699 - t4/14712000; //月亮平近点
                D*=dm, M*=dm, m*=dm;
                a = Math.PI - D + (-6.289*Math.sin(m) +2.100*Math.sin(M) -1.274*Math.sin(D*2-m) -0.658*Math.sin(D*2) -0.214*Math.sin(m*2) -0.110*Math.sin(D))*dm;
                return (1+Math.cos(a))/2;
            },
            moonRad:function(r,h){ //转入地平纬度及地月质心距离,返回站心视半径(角秒)
                return 358473400/r*(1+Math.sin(h)*6378.14/r);
            }
        };

        var SZJ={//日月的升中天降,不考虑气温和气压的影响
            L  : 0, //站点地理经度,向东测量为负
            fa : 0, //站点地理纬度
            dt : 0, //TD-UT
            E  : 0.409092614, //黄赤交角
            getH:function(h,w){ //h地平纬度,w赤纬,把回时角
                var c = ( Math.sin(h) - Math.sin(this.fa)*Math.sin(w) ) / Math.cos(this.fa)/Math.cos(w);
                if(Math.abs(c)>1) return Math.PI;
                return Math.acos(c);
            },

            Mcoord:function(getJD,H0,z){ //章动同时影响恒星时和天体坐标,所以不计算章动。返回时角及赤经纬
                XL.M_coord( (jd+this.dt)/36525, z, 30,20,8 ); //低精度月亮赤经纬
                ZB.llrConv( z, this.E ); //转为赤道坐标
                z.H = rad2mrad(ZB.gst(jd,this.dt) - this.L - z[0]);   if( z.H>Math.PI ) z.H -= pi2; //得到此刻天体时角
                if(H0) z.H0 = this.getH( 0.7275*6378.14/z[2]-34*60/rad, z[1] ); //升起对应的时角
            },
            Mt : function(getJD){ //月亮到中升降时刻计算,传入jd含义与St()函数相同
                this.dt = JD.deltatT2(jd);
                this.E  = ZB.hcjj(jd/36525);
                jd -= mod2(0.1726222 + 0.966136808032357*jd - 0.0366*this.dt - this.L/pi2, 1); //查找最靠近当日中午的月上中天,mod2的第1参数为本地时角近似值

                var r = new Array(), sv = pi2*0.966;
                r.z = r.s = r.j = r.c = r.h = jd;
                this.Mcoord(jd,1,r); //月亮坐标
                r.s += (-r.H0 - r.H )/sv;
                r.j += ( r.H0 - r.H )/sv;
                r.z += (    0 - r.H )/sv;
                this.Mcoord(r.s,1,r);  r.s += ( -r.H0 - r.H )/sv;
                this.Mcoord(r.j,1,r);  r.j += ( +r.H0 - r.H )/sv;
                this.Mcoord(r.z,0,r);  r.z += (     0 - r.H )/sv;
                return r;
            },

            Scoord:function(getJD,H0,H1,z){ //章动同时影响恒星时和天体坐标,所以不计算章动。返回时角及赤经纬
                z[0] = XL.E_Lon( (jd+this.dt)/36525, 5 ) + Math.PI - 20.5/rad; //太阳坐标(修正了光行差)
                z[1] = 0; z[2]=1;
                ZB.llrConv( z, this.E ); //转为赤道坐标
                z.H = rad2mrad(ZB.gst(jd,this.dt) - this.L - z[0]);   if( z.H>Math.PI ) z.H -= pi2; //得到此刻天体时角
                if(H0) z.H0 = this.getH(-50*60/rad,z[1]); //地平以下50分
                if(H1) z.H1 = this.getH(-Math.PI/30,z[1]); //地平以下6度
            },
            St : function(getJD){ //太阳到中升降时刻计算,传入jd是当地中午12点时间对应的2000年首起算的格林尼治时间UT
                this.dt = JD.deltatT2(jd);
                this.E  = ZB.hcjj(jd/36525);
                jd -= mod2(jd - this.L/pi2, 1); //查找最靠近当日中午的日上中天,mod2的第1参数为本地时角近似值

                var r = new Array(), sv = pi2;
                r.z = r.s = r.j = r.c = r.h = jd;
                this.Scoord(jd,1,1,r); //太阳坐标
                r.s += (-r.H0 - r.H )/sv; //升起
                r.j += ( r.H0 - r.H )/sv; //降落
                r.c += (-r.H1 - r.H )/sv; //民用晨
                r.h += ( r.H1 - r.H )/sv; //民用昏
                r.z += (    0 - r.H )/sv; //中天
                this.Scoord(r.s,1,0,r);  r.s += ( -r.H0 - r.H )/sv;
                this.Scoord(r.j,1,0,r);  r.j += ( +r.H0 - r.H )/sv;
                this.Scoord(r.c,0,1,r);  r.c += ( -r.H1 - r.H )/sv;
                this.Scoord(r.h,0,1,r);  r.h += ( +r.H1 - r.H )/sv;
                this.Scoord(r.z,0,0,r);  r.z += (     0 - r.H )/sv;
                return r;
            },

            rts:new Array(),//多天的升中降
            calcRTS:function(getJD,n,Jdl,Wdl,sq){ //多天升中降计算,jd是当地起始略日(中午时刻),sq是时区
                var i,c,r;
                if(!this.rts.length) { for(var i=0;i<31;i++) this.rts[i] = new Array(); }
                this.L = Jdl, this.fa = Wdl, sq/=24; //设置站点参数
                for(i=0;i<n;i++){ r=this.rts[i];  r.Ms=r.Mz=r.Mj=""; }
                for(i=-1;i<=n;i++){
                    if(i>=0&&i<n){ //太阳
                        r = SZJ.St(jd+i+sq);
                        this.rts[i].s = JD.timeStr(r.s-sq); //升
                        this.rts[i].z = JD.timeStr(r.z-sq); //中
                        this.rts[i].j = JD.timeStr(r.j-sq); //降
                        this.rts[i].c = JD.timeStr(r.c-sq); //晨
                        this.rts[i].h = JD.timeStr(r.h-sq); //昏
                        this.rts[i].ch = JD.timeStr(r.h-r.c-0.5); //光照时间,timeStr()内部+0.5,所以这里补上-0.5
                        this.rts[i].sj = JD.timeStr(r.j-r.s-0.5); //昼长
                    }
                    r = SZJ.Mt(jd+i+sq); //月亮
                    c=int2(r.s-sq+0.5)-jd;  if(c>=0&&c<n) this.rts[c].Ms = JD.timeStr(r.s-sq);
                    c=int2(r.z-sq+0.5)-jd;  if(c>=0&&c<n) this.rts[c].Mz = JD.timeStr(r.z-sq);
                    c=int2(r.j-sq+0.5)-jd;  if(c>=0&&c<n) this.rts[c].Mj = JD.timeStr(r.j-sq);
                }
                this.rts.dn = n;
            }
        }

        /****************
         [地理经纬度数据库]

         经纬度的压缩编码细节(以经度79度48分 北纬12度49分 为例,):
         字元表 s = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'; 共62个字元
         数字0 编码为s中的第1个字符(0)
         数字1 编码为s中的第2个字符(1)
         数字10编码为s中的第11个字符(A)
         数字59编码为s中的第60个字符(x)
         ...
         1.将'度'减去73，即79-73 = 6，因为我国各地经度在73到133度之间,减73之後,经度就变为0到60之间的数
         2.使用字元表对 '6度'进行编码,得到字符6,编码後只用一个字母就可以表示"度"
         3.使用字元表对'48分'进行编码,得到字符m,编码後只用一个字母就可以表示"分"
         4.最後，79度48分被编码为 6m
         5.同样方法对纬度编码(但不用减73)得到 Cn
         6.经纬度的总编码为(纬度放在前) Cn6m
         7.解码过程是上面过程的逆运算。通过以上处理，比常规表示法减少60%的数据量
         *****************/
        JWv=new Array(
            '北京市 dshN天安门 dthS北京 dshe通州区 eDhD昌平区 e8hc顺义区 eJhc怀柔区 dihK大兴区 e8i7平谷区 eMho密云县 eSgw延庆县',
            '上海市 VEmS上海 VPmT宝山区 VBmg川沙县 VNmF嘉定区 VEmU浦东新区 Usm9金山区 V1mE松江区 V9m6青浦区 V3mj南汇区 UtmR奉贤区 VcmN崇明县',
            '浙江省 UFlA杭州 UAlG萧山区 UPlI余杭区 TTkH建德市 U4kv富阳市 UEkh临安市 Tmkd桐庐县 Tbk2淳安县 UHku余杭镇 Uql6湖州 Ucke安吉 V0ks长兴 UXl5德清 Uakq莫干山 UTkZ天荒坪 UNkO龙王山 TqmX宁波 TqmY鄞州区 Tvmi镇海区 U3m9余姚市 UBmE慈溪市 TemP奉化市 THmP宁海县 TTmr象山县 SemQ椒江 SRms大陈镇 SdmF黄岩 SXmF院桥镇 SYmC沙埠镇 Sbm6北洋镇 Scm9头陀镇 Scm0屿头镇 SZlw宁溪镇 SZmM路桥 SUmV金清镇 SXmT蓬街镇 SVmP新桥镇 SWmQ横街镇 Som6临海 SkmU杜桥镇 Ssls白水洋镇 SmmA汛桥镇 SomZ桃渚镇 SumG东塍镇 SkmE沿江镇 Splx扩苍镇 SkmJ涌泉镇 SpmR小芝镇 SjmZ上盘镇 Sim6尤溪镇 Sym6河头镇 Srm5永丰镇 SumD汇溪镇 ShmJ红光 SvmD两头门 SjmE水家洋 SMmL温岭 SUmM泽国镇 SSmQ新河镇 SKmP城南镇 SKma松门镇 SOmV箬横镇 SLmR石桥头镇 SGma石塘镇 SJmX木耳 SImQ沙岙 SHma箬山 SLmY淋头 S7mD玉环 S8mE珠港镇 SDmI楚门镇 SFmH清港镇 SEmN沙门镇 S5m9大麦屿镇 SCmE芦浦镇 SAmL干江镇 S5mG坎门 T8m1天台 T7mM三门县 T8mM海游镇 T9mO沙柳镇 T4mH珠岙镇 T3mL亭旁镇 T5ma六敖镇 T0mT横渡镇 T3mb健跳镇 Swmb浬浦镇 StmT花桥镇 SrmY小雄镇 Spli仙居 SilW皤滩 SemP台州',
            '福建省 Q5kI福州 Q0kR马尾区 PikN福清市 PwkV长乐市 Q9k9闽侯县 QCkW连江县 QTkX罗源县 QDjq闽清县 Pqju永泰县 PUkl平潭县 ORj5厦门 OSix海沧区 OYj6集美区 Oij9同安区 PQk1莆田 PQk1莆田县 PMjf仙游县 PJk6秀屿区 OtjZ泉州 P7jr泉港区 Oijc石狮市 OnjY晋江市 OvjN南安市 P1jm惠安县 P4jB安溪县 PKjH永春县 PTjE德化县 OQjJ金门县 OVid漳州 OQin龙海市 NwiK云霄县 O7ib漳浦县 NgiA诏安县 Obij长泰县 NgiQ东山县 OUiM南靖县 OLiI平和县 OyiV华安县 QdjA南平 RKiT邵武市 Rjj2武夷山市 R2jJ建瓯市 RKj6建阳市 Rkj1崇安县 Qmim顺昌县 RtjW浦城县 RWiK光泽县 RWjk松溪县 RMjp政和县 P7i2龙岩 PHiO漳平市 P5h5武平县 PohL长汀县 Ohhh永定县 Phhj连城县 P3hP上杭县 QDia三明 PwiM永安市 QLiC明溪县 QAhn清流县 QGhe宁化县 Pgio大田县 QAjB尤溪县 QOil沙县 QhiR将乐县 QsiA泰宁县 Qoho建宁县 QekV宁德 R5kd福安市 RKlD福鼎市 Qrkx霞浦县 QZji古田县 Qtjw屏南县 RSkV寿宁县 R7kK周宁县 RFks柘荣县',
            '江苏省 W5jm南京 W3jm玄武区 W2jm白下区 W1jm秦淮区 W2jk建邺区 W4jj鼓楼区 W6ji下关区 W7jg浦口区 W8jq栖霞区 Vyjk雨花台区 Vvjo江宁区 WLjo六合区 Vdk1溧水县 VKjq高淳县 VZlI无锡 VZlI崇安区 VYlI南长区 VZlH北塘区 VYlF滨湖区 VZlM锡山区 VflG惠山区 VslG江阴市 VMkn宜兴市 YGiB徐州 YFiD云龙区 YHiB鼓楼区 YIi8九里区 YRiR贾汪区 YFiB泉山区 YNjK新沂市 YJiu邳州市 YghZ丰县 Yiht沛县 YCiA铜山县 Xsiv睢宁县 Vlkv常州 Vlkv钟楼区 Vkkv天宁区 Vil3戚墅堰区 Vokw新北区 Viku武进区 VjkY金坛市 VPkT溧阳市 VIlZ苏州 VJla金阊区 VIlb沧浪区 VJlc平江区 VIlY虎丘区 VGlb吴中区 VLlb相城区 Vdli常熟市 VqlW张家港市 VNlv昆山市 VAlc吴江市 VRm6太仓市 Vxlr南通 W0lp崇川区 W2ln港闸区 Vnmd启东市 WOlX如皋市 W5m4通州市 Vsm9海门市 WXlR海安县 WJmA如东县 YakA连云港 YakA新浦区 YikM连云区 YYk8海州区 Yok7赣榆县 YVjk东海县 YIkF灌云县 Y6kL灌南县 Xbk1淮安 Xak0清河区 Xak2清浦区 XUk9楚州区 Xck2淮阴区 XkkG涟水县 XIjp洪泽县 X0jT盱眙县 X1k1金湖县 XLl9盐城 XOl8亭湖区 XLl8盐都区 WplJ东台市 XClR大丰市 YCkY响水县 Xyko滨海县 Xlkm阜宁县 XklF射阳县 XSkm建湖县 WNkQ扬州 WOkQ广陵区 WNkO邗江区 WPkO维扬区 WGkB仪征市 WlkQ高邮市 WQkX江都市 XEkJ宝应县 WCkQ镇江 WCkR京口区 WCkO润州区 W8kQ丹徒区 VykY丹阳市 WEkn扬中市 VukA句容市 WTks泰州 WUkt海陵区 WIkr高港区 Wuko兴化市 W1lF靖江市 WAl0泰兴市 WUl8姜堰市 XvjI宿迁 XwjF宿城区 XvjJ宿豫区 Y8jk沭阳县 Xhje泗阳县 XRjC泗洪县',
            '江西省 Sfgs南昌 SXgu南昌县 Sfgn新建县 SpgX安义县 SMhG进贤县 TCi7景德镇 Swi7乐平市 TNiE浮梁县 Rceo萍乡 R8ev莲花县 Rrem上栗县 Rcf2芦溪县 Thgx九江 Tfgd瑞昌市 Tbgr九江县 TGg6武宁县 T2fY修水县 T3gn永修县 TKgj德安县 TRh2星子县 TGhB都昌县 TihD湖口县 TshX彭泽县 Rmfu新余 Rnff分宜县 SFi2鹰潭 SHiC贵溪县 SChn余江县 Ppfu赣州 Pqh1瑞金市 Pefj南康市 Pqg0赣县 PNfu信丰县 POfL大余县 PmfW上犹县 PgfI崇义县 P8gO安远县 Osfl龙南县 Okg1定南县 OjfV全南县 QSh1宁都县 PvgP于都县 QJgL兴国县 PZgl会昌县 Ovgc寻乌县 QKhK石城县 R6fw吉安 QYfA井冈山市 R2fs吉安县 RDg8吉水县 RXg9峡江县 RkgO新干县 RJgQ永丰县 QKfU遂川县 Qmfs泰和县 QSfl万安县 RNfb安福县 QvfE永新县 RmfM宜春 SCgl丰城市 S4gW樟树市 SQgM高安市 SggN奉新县 S7fR万载县 SEfu上高县 SOfl宜丰县 SqgL靖安县 SVfL铜鼓县 RuhI临川区 RYhc南城县 RIht黎川县 RDhW南丰县 Rjh4崇仁县 RQgo乐安县 RXhD宜黄县 Rthl金溪县 Rgi4资溪县 SEha东乡县 QohJ广昌县 SRiw上饶 SviZ德兴市 SQis上饶县 SQjB广丰县 SfjE玉山县 SIig铅山县 SPia横峰县 SOiP弋阳县 Sfhf余干县 Syhe波阳县 Sgi4万年县 TFip婺源县',
            '安徽省 VqiH合肥 WTiA长丰县 Vhi9肥西县 VriS肥东县 VKjM芜湖 V9jY芜湖县 UtjK南陵县 V5jC繁昌县 WuiK蚌埠 WviC怀远县 XJiJ固镇县 X8ir五河县 Wchx淮南 Wghh凤台县 VijT马鞍山 VXjT当涂县 Xvhj淮北 Xthl濉溪县 Uvil铜陵 UUi3安庆 V3hu桐城市 U9h7宿松县 UgiD枞阳县 UPhG太湖县 UPhd怀宁县 UphL岳西县 U7he望江县 UchY潜山县 ThjJ黄山 ThjH屯溪区 TljB休宁县 TqjQ歙县 Tpig祁门县 Tuiu黟县 WIjI滁州 Wfjy天长市 Wlix明光市 W6jG全椒县 WRjQ来安县 WWif定远县 WqiX凤阳县 Wsgn阜阳 XGgL界首市 X4gF临泉县 WchF颍上县 WcgZ阜南县 XAgb太和县 Xchy宿州 YChu萧县 XTir泗县 YQhK砀山县 XXiX灵璧县 Vhj6含山县 VIit无为县 VFiH庐江县 VhjM和县 VZig巢湖 VjhT六安 WZhl寿县 VOhJ霍山县 WKhG霍邱县 VRhu舒城县 Vfgq金寨县 Xqgk亳州 Xrgk谯城区 X8hC利辛县 XVhD涡阳县 XGhX蒙城县 UdiT池州 UdiT贵池区 U6i1东至县 UCiS石台县 Uciq青阳县 Uuji宣城 Uvji宣州区 Ubjx宁国市 UskP广德县 V8kB郎溪县 UfjO泾县 UHjW旌德县 U5jZ绩溪县',
            '山东省 adhw济南 aXhi长清区 ahiV章丘县 aHhQ平阴县 awiD济阳县 bIi9商河县 ahiV明水街道 a5lL青岛 aHl0胶州市 aNlS即墨市 alku平度市 Zrkx胶南市 aplV莱西市 aplW水集街道 amj3淄博 anio周村区 aTip博山区 aciv淄川区 alj4张店区 awj6桓台县 bAin高青县 aBjA沂源县 avj6索镇 aBjA南麻镇 YqiX枣庄 YmiG薛城区 YkiZ峄城区 Z5iR山亭区 YXij台儿庄区 Z5i9滕州市 YaiM韩庄 bRjS东营 bUjF利津县 bZjW垦利县 b3jO广饶县 bXmM烟台 bYmL芝罘区 bUmF福山区 bNmZ牟平区 bdlK龙口市 awlg莱阳市 bAkv莱州市 bmlj蓬莱市 bLlO招远市 bIlp栖霞市 akmA海阳市 btli长岛县 agk6潍坊 akkD寒亭区 afjT青州市 ZykO诸城市 arji寿光县 aQkC安丘市 aNkj高密市 apkO昌邑市 agjn昌乐县 aVjW临朐县 bUn7威海 bBn3文登市 asmV乳山市 bAnO荣城市 ZOhZ济宁 ZZhx曲阜市 ZXhn兖州市 ZOhv邹城市 Yyhd鱼台县 Z4hI金乡县 ZOhK嘉祥县 Ymi7微山县 ZihT汶上县 ZdiG泗水县 Zlh6梁山县 Yxhd谷亭镇 aBi8泰安 Zsik新泰市 aEhk肥城市 Zjhl宁阳县 ZthI东平县 ZPkR日照 ZjkC五莲县 ZZjn莒县 aBie莱芜 Z3jK临沂 ZXjS沂南县 YbjK郯城县 Zljc沂水县 Ypj3苍山县 ZGiv费县 ZUic平邑县 ZBjn莒南县 Zgiu蒙阴县 Ytjd临沭县 ZXjR界湖镇 Ypj3卞庄镇 ZAjo十字路镇 bRhH德州 biiC乐陵市 avhd禹城市 bKhY陵县 bdhl宁津县 bliN庆云县 bBhp临邑县 amhj齐河县 bAhQ平原县 avh0夏津县 bDh4武城县 amhi晏城镇 aRgw聊城 apgg临清市 a7gl阳谷县 aEge莘县 aZhE茌平县 aKhE东阿县 aSgQ冠县 aqhE高唐县 aJhE铜城镇 bMj1滨州 bTiU惠民县 bciZ阳信县 biia无棣县 bgj8沾化县 b8j8博兴县 arii邹平县 bgj8富国镇 ZEgQ菏泽 YogW曹县 Ymh5单县 Yvgq成武县 ZNh5巨野县 Zagu郓城县 ZYgU鄄城县 Z4gY定陶县 ZHg6东明县',
            '山西省 bsdX太原 bpdY迎泽区 btdA古交市 c4de阳曲县 badK清徐县 c4cm娄烦县 e6eH大同 e2ea大同县 ePf5天镇县 dQfE灵丘县 eMei阳高县 e0dg左云县 dkfG广灵县 dgef浑源县 bpeX阳泉 bmea平定县 c5eO盂县 aBe6长治 aKeE潞城市 a3e3长治县 aWe3襄垣县 aJdr屯留县 aCeQ平顺县 aUeN黎城县 a7eC壶关县 a7dq长子县 aodq武乡县 ajdg沁县 aUdK沁源县 a3e3韩店镇 ZUdo晋城 Zmdt高平市 ZYds泽州县 ZfdA沁水县 ZleH陵川县 ZTdP阳城县 dJdP朔州 dVdn山阴县 dYeB应县 dxdS右玉县 dne5怀仁县 bgdi晋中 bfdi榆次区 b2ct介休市 b4dw榆社县 b5eM左权县 bKeY和顺县 bbef昔阳县 breA寿阳县 bPdX太谷县 bLdJ祁县 bCdA平遥县 aock灵石县 Z1bx运城 YqbQ永济市 ZZbg河津市 Yfbf芮城县 Z9bk临猗县 ZPbn万荣县 ZbcD新绛县 Zabw稷山县 ZLcC闻喜县 Z8cD夏县 ZTcY绛县 YocC平陆县 ZIcd垣曲县 cOdi忻州 cidi原平市 cTdv定襄县 cheF五台县 d4dv代县 dBeG繁峙县 cxdI宁武县 cLcu静乐县 d5dB神池县 csco五寨县 cgcY岢岚县 dNc8河曲县 d1c5保德县 dQcT偏关县 a5cU临汾 ZbcL侯马市 aYch霍州市 ZccS曲沃县 Zicg翼城县 ZqcQ襄汾县 aFce洪洞县 aGct古县 a9dF安泽县 Zwcp浮山县 a6be吉县 Zwbo乡宁县 aPc6蒲县 aSbi大宁县 akbc永和县 afbt隰县 adcY汾西县 bVc8吕梁市 bVc8离石区 b9cl孝义市 bGcl汾阳市 bQd1文水县 bKcB中阳县 cSc5兴县 bvbx临县 brcE方山县 bQbr柳林县 cHce岚县 axcB交口县 bXd9交城县 aybo石楼县',
            '内蒙古 encd呼和浩特 eHc9托克托县 f6cR武川县 eMcn和林格尔县 dtce清水河县 ehc8土默特左旗 eeam包头 f2b3固阳县 fgbQ达尔罕茂明安联合旗 eXbV土默特右旗 eXbV萨拉齐镇 ffbQ百灵庙镇 deXm乌海 dUXg乌达区 gGjv赤峰 fakK宁城县 haj3林西县 fujg喀喇沁旗 hVje巴林右旗 gHks敖汉旗 hrl5阿鲁科尔沁旗 guk1翁牛特旗 hFiV克什克腾旗 hxkN巴林左旗 fZkK天义镇 ftjf锦山镇 gHks新惠镇 hql5天山镇 guk1乌丹镇 hFiU经棚镇 hxkN林东镇 hVje大板镇 hbnG通辽 jWkd霍林郭勒市 hamI开鲁县 i7oJ科尔沁左翼中旗 gvnL科尔沁左翼後旗 gimk库伦旗 gpld奈曼旗 iXls扎鲁特旗 i8oJ保康镇 gvnK甘旗卡镇 giml库伦镇 gold大沁他拉镇 iXls鲁北镇 dnax鄂尔多斯市 dnay东胜区 dcbq准格尔旗 cZZo乌审旗 dYaj伊金霍洛旗 d6Yx鄂托克旗 cBYS鄂托克前旗 dpZi杭锦旗 eOb1达拉特旗 nCkk呼伦贝尔 nDkh海拉尔区 nZiQ满洲里市 nHli牙克石市 lynj扎兰屯市 olmW根河市 oElA额尔古纳市 nJkQ陈巴尔虎旗 m7oS阿荣旗 mDjG新巴尔虎左旗 mdhn新巴尔虎右旗 oaoh鄂伦春自治旗 mSpU莫力达瓦达斡尔族自治旗 n8ki鄂温克族自治旗 nJkQ巴彦库仁镇 m7oS那吉镇 mDjG阿穆古郎镇 oaoh阿里河镇 mehn阿拉坦额莫勒镇 mSpU尼尔基镇 n8ki巴彦托海镇 ejYQ巴彦淖尔市 eiYQ临河区 f5ZG五原县 eKY1磴口县 erY9杭锦後旗 fYZV乌拉特中旗 ehZd乌拉特前旗 fQY0乌拉特後旗 eKXy巴彦高勒镇 erY9陕坝镇 fXZV海流图镇 f3e6乌兰察布市 f2e5集宁区 eRe8丰镇市 erer兴和县 esdY卓资县 fXeW商都县 eWdT凉城县 frf0化德县 fVcf四子王旗 eleC察哈尔右翼前旗 fGdc察哈尔右翼中旗 fReA察哈尔右翼後旗 fVcg乌兰花镇 ekeD土贵乌拉镇 fGdc科布尔镇 huh4锡林浩特市 hdcw二连浩特市 gBhS多伦县 i1fv阿巴嘎旗 iZib西乌珠穆沁旗 jVhx东乌珠穆沁旗 hpei苏尼特左旗 gjdd苏尼特右旗 frgH太仆寺旗 gIg0正镶白旗 gFh0正蓝旗 gEep镶黄旗 iZia巴彦乌拉镇 jVhw乌里雅斯太镇 hpeh满都拉图镇 gide赛汉塔拉镇 frgH宝昌镇 gFeo新宝拉格镇 k4n2兴安盟 k4n4乌兰浩特市 lIkp阿尔山市 jNmX突泉县 khnt扎赉特旗 jpnR科尔沁右翼前旗 j3mS科尔沁右翼中旗 cpWg阿拉善盟 coWe阿拉善左旗 dCSe阿拉善右旗 fwS4额济纳旗 dCSe额肯呼都格镇 fwS4达来呼布镇',
            '黑龙江省 jjrb哈尔滨 jbrd平房区 jxra呼兰区 jWrJ双城市 kIuX依兰县 joto方正县 jvt3木兰县 jwtj通河县 jRtK延寿县 jgro成高子镇 jDsv尚志 jGsV帽儿山镇 iutb亚布力镇 j4t4一面坡镇 ivtN苇河镇 iutk鱼池朝鲜族乡 iusA五常 ilsF山河屯镇 jWrw阿城市区 jTs4亚沟镇 jOsA玉泉镇 jKsI小岭镇 jLs5交界镇 jls0永源镇 jjs9蜚克图镇 jcs3料甸满族乡 jYs7红星乡 jJsO平山镇 jOsQ山河镇 jjsT宾县(宾州) jjsA宾西镇 jksH居仁镇 josj宾安镇 jts4糖坊镇 jXsS松江镇 jist宁远镇 jmt3胜利镇 jtsn新甸镇 kQs7兴隆镇 k5sN巴彦 lLow齐齐哈尔 l9om昂昂溪区 lCob富拉尔基区 lUnr碾子山区 mTpr讷河市 lKoB龙江县 lrqI依安县 kNoP泰来县 ltoU甘南县 llpR富裕县 m1qq克山县 m2rF克东县 lar5拜泉县 jHvw鸡西 jIvw鸡冠区 j5vf梨树区 jCvs恒山区 jMvm滴道区 jKw4城子河区 juyi虎林市 jWwq密山市 jFwA鸡东县 lKvH鹤岗 lYvo萝北县 lHwp绥滨县 kcw9双鸭山 kZwK四方台区 kYw8岭东区 kYwO宝山区 khw8集贤县 kKxC宝清县 kmz1饶河县 knwE福利屯 khw8福利镇 kaq1大庆 kaq2萨尔图区 kXq7龙凤区 kdpq让胡路区 kSpq红岗区 jVq5肇源县 jgqG肇州县 lBpq林甸县 kqpQ杜尔伯特蒙古族自治县 kZq3东水源泡 kaq4东风泡 lhts伊春 l8uH南岔区 lqto友好区 lUuI西林区 lhte翠峦区 lbu7美溪区 lOuQ金山屯区 lhtm乌马河区 l1u1带岭区 kxt4铁力市 muv3嘉荫县 kmvM佳木斯 ldxT同江市 lFx1富锦市 kDvW桦南县 l1vg桦川县 khus汤原县 mMzI抚远县 kivS长发镇 kqvI莲江口镇 kevZ横头山镇 kpv9望江镇 jmvo七台河 jjvY勃利县 iZub牡丹江 itvV穆棱市 iOw8绥芬河市 iYuN海林市 iKuS宁安市 i3w7东宁县 jHvG林口县 itvX八面通镇 iVvG穆棱镇 iavK兴源镇 iYuq磨刀石镇 ifvR下城子镇 ifvW马桥河镇 iPvr绥阳镇 iZu6山市镇 iTtt长汀镇 iPu7新安朝鲜族乡 ikuf柴河镇 inu4横道河子镇 i7uC东京城镇 iGuO兰岗镇 iBuK石岩镇 i7u9渤海镇 iAtw沙兰镇 i1wF三岔口朝鲜族镇 ifuf桦林镇 iZuf铁岭镇 iQuT温春镇 oFsT黑河 oDsW爱辉区 mErV北安市 nAqE嫩江县 nYtS逊克县 nPsJ孙吴县 kcrx绥化 kOqJ安达市 k4qx肇东市 lRrv海伦市 korT望奎县 kGrH兰西县 kfr6青冈县 kqsV庆安县 lBqs明水县 lFs6绥棱县 oQp8大兴安岭地区 oPp7加格达奇区 phrd呼玛县 qKph塔河县 rTnK漠河县',
            '吉林省 hqqL长春 hVqe双阳区 i9qo九台市 inrX榆树市 iWqg德惠市 iPqB农安县 hprY吉林 iOrv舒兰市 gwrj桦甸市 hhsK蛟河市 gur4磐石市 herU永吉县 hApM四平 hUpn公主岭市 hVoU双辽市 hIpJ梨树县 hKqI伊通满族自治县 gsq8辽源 gtpx东辽县 geqV东丰县 fhqu通化 gWqf梅河口市 f7rB集安市 gfr2辉南县 ffqj通化县 gGqi柳河县 furP白山市 gNrm靖宇县 gKsG抚松县 fPtC长白朝鲜族自治县 jbno白城 jKnk洮南市 jUpH大安市 jpoC镇赉县 imo5通榆县 jBpm松原市 jApn宁江区 jApq扶余县 iGox长岭县 iyp1乾安县 j7pn前郭镇 guuU延边州 gsuV延吉市 gwuo图们市 hMtE敦化市 gkuP龙井市 gqvM珲春市 gXu1和龙县 h6tt安图县 hJui汪清县',
            '辽宁省 fmoN沈阳 fnoY东陵区 feoL苏家屯区 fxnn新民市 fUni辽中县 gUoO法库县 gioL康平县 cvmZ大连 cmmF旅顺口区 d6mh金州区 dbn0瓦房店市 dOmw普兰店市 dfnw庄河市 dGnZ长海县 dCmu亮甲店镇 dGmm三十里堡镇 f7nx鞍山 epnj海城市 fNnQ台安县 eHoH岫岩满族自治县 f4no腾鳌镇 fqos抚顺 fqov抚顺县 g6pt清原满族自治县 fhq2新宾满族自治县 fIok本溪 fIp7本溪满族自治县 fFqL桓仁满族自治县 e7pL丹东 dqp9东港市 eSp4凤城市 eipl宽甸满族自治县 drp9大东街道 e2pK浪头镇 f7m9锦州 fAmL凌海市 faml北镇市 ffn7黑山县 fWmF义县 faml广宁街道 fBmL大凌河街道 fan9大虎山镇 fMml沟帮子镇 g0nA新立屯镇 fWmF义州镇 efnH营口 eOnM盖州市 ecnU大石桥市 g1md阜新 gNnW彰武县 g4mi阜新蒙古族自治县 fGoA辽阳 fPoJ灯塔县 fCo4辽阳县 fBn3盘锦 eyn4大洼县 fCn3盘山县 gHoo铁岭 gSoW调兵山市 gWp2开原市 gIop铁岭县 giph西丰县 gkp8昌图县 fZlR朝阳 fnlk北票市 fEkO凌源市 falP朝阳县 fOkd建平县 f8ki喀喇沁左翼蒙古族自治县 fOkc叶柏寿街道 f7ki大城子镇 eilp葫芦岛市 eblg兴城市 eJlL绥中县 emkm建昌县',
            '天津市 d8iC天津 diiI宝坻区 dNi4武清区 dKio宁河县 cuht静海县 e3iO蓟县',
            '河北省 c3fU石家庄 c2fn藁城市 btgD辛集市 c2g2晋州市 cKfe新乐市 c5fI鹿泉市 cFfC平山县 c2f8井陉县 brfd栾城县 c8fY正定县 cQfX行唐县 cIfM灵寿县 bafb高邑县 bjfk赵县 befN赞皇县 cBgC深泽县 cBfw无极县 bjfV元氏县 dbjB唐山 doj7丰润区 dYj7丰南区 eBiv遵化市 dyjg迁安市 e9jJ迁西县 dVjf滦南县 drii玉田县 dHjS唐海县 dPjt乐亭县 dijj滦县 duka秦皇岛 dgkA昌黎县 drjq卢龙县 drkE抚宁县 eJk4青龙满族自治县 aafS邯郸 agfC武安市 aZfW邯郸县 alfT永年县 alfv曲周县 aWgI馆陶县 aLfu魏县 aQfg成安县 aHg9大名县 aYee涉县 atfq鸡泽县 angA邱县 aTfu广平县 aXfm肥乡县 aKfa临漳县 aMfM磁县 b3fU邢台 bMgN南宫市 apfT沙河市 b4fU邢台县 bUff柏乡县 b7fe任县 b4gd清河县 bbft宁晋县 awgG威县 bLfk隆尧县 bQfU临城县 b4g9广宗县 aqgT临西县 bIfV内丘县 b4g1平乡县 bDg1巨鹿县 bWgF新河县 ayff南和县 cpgT保定 dTgw涿州市 cUfx定州市 cPgJ安国市 dJgp高碑店市 cvgJ满城县 cjgT清苑县 dOgg涞水县 cpfB阜平县 d1gd徐水县 dGgk定兴县 cifw唐县 cfgk高阳县 d3gq容城县 dLff涞源县 cgg8望都县 cog7完县 cugu安新县 dLgU易县 cbff曲阳县 cTgY蠡县 cRgS博野县 cwh5雄县 enfr张家口 eag2宣化县 fpfa康保县 f9fh张北县 e7fA阳原县 etgn赤城县 fegg沽源县 eefP怀安县 eOgV怀来县 exgG崇礼县 f5ew尚义县 dofY蔚县 eNgD涿鹿县 ejfh万全县 ewiu承德 ekj9承德县 ePiT兴隆县 fJii隆化县 f0jf平泉县 euiK滦平县 fChc丰宁满族自治县 fvii围场满族蒙古族自治县 eajT宽城满族自治县 cJhq沧州 c4hX泊头市 cgh5任丘市 cMiL黄骅市 cQh5河间市 cJhq沧县 cYhm青县 cBh7献县 brhV东光县 c8iU海兴县 c3iD盐山县 cPgn肃宁县 c2hg南皮县 bbhN吴桥县 c4i5孟村回族自治县 dVhf廊坊 d6hO霸州市 dxi5三河市 dQhG固安县 dKhT永清县 dkhy香河县 cghb大城县 cphR文安县 drhx大厂回族自治县 bigf衡水 bYgY冀州市 c0gW深州市 cFgi饶阳县 bUgh枣强县 bLgw故城县 bqh9阜城县 cEgV安平县 bmgr武邑县 bfhF景县 c3gx武强县',
            '河南省 Yked郑州 YneH上街区 YOeh新郑市 YleN荥阳市 YWeN新密市 Yjdx巩义市 YRe2登封市 Yif1中牟县 YlfK开封 YXfl杞县 YSfS通许县 YPfB尉氏县 Ynfn兰考县 YedM洛阳 YbdS洛龙区 Ysda吉利区 Yidk偃师市 YodQ孟津县 Yid8新安县 Xlcb栾川县 Y8d5嵩县 Y9dS汝阳县 YVdA宜阳县 YNcd洛宁县 YPdP伊川县 XieI平顶山 XHeT舞钢市 YAdo汝州市 Xqe4宝丰县 XbeL叶县 Xidr鲁山县 XweC郏县 ZFe9焦作 ZEeA中站区 ZGeJ马村区 Z5du沁阳市 Ysdl孟州市 ZEeQ修武县 ZAe4博爱县 Z6eN武陟县 Yue4温县 ZsfA鹤壁 ZjfH淇滨区 ZsfB山城区 ZwfA鹤山区 ZefW浚县 ZafB淇县 ZJeq新乡 ZOet凤泉区 ZPf4卫辉市 ZSem辉县市 ZGed获嘉县 Z3ev原阳县 Z8fB延津县 ZCff长垣县 Z2fP封丘县 a6fK安阳 a4en林州市 ZtfL汤阴县 Zvfs内黄县 ZYfU滑县 Zlg3濮阳 Zsg6清丰县 a4gC南乐县 ZsgT范县 Zxgp台前县 Zgg1濮阳县 Y1em许昌 Y1en魏都区 YAeS禹州市 YDek长葛市 Y1eo许昌县 Y6fB鄢陵县 XpeS襄城县 XYf2漯河 Xaey郾城区 XQeZ舞阳县 Xnev临颖县 YlcC三门峡 Yjcq义马市 YVbq灵宝市 Ygc5陕县 Ykcj渑池县 Y3c2卢氏县 WydW南阳 Wfd5邓州市 XTdP南召县 XFdy方城县 X2dE镇平县 X3du社旗县 Wfdo唐河县 WVdL新野县 X3cp内乡县 XIcS西峡县 X8cS淅川县 WMeO桐柏县 YQgc商丘 YQgd梁园区 YNgb睢阳区 XuhM永城市 Ycg8民权县 YPg3睢县 YQgJ宁陵县 Y4gH柘城县 YNgp虞城县 YEh8夏邑县 W8f4信阳 W6f7平桥区 WBfV罗山县 W1fs光山县 Vbfp新县 VmgO商城县 WAge固始县 W8g3潢川县 WQgO淮滨县 WLfh息县 Xbfc周口 Xcfc川汇区 XQfs项城市 Y4fO扶沟县 XlfW西华县 XXfa商水县 XNg4沈丘县 XcgB郸城县 Xifr淮阳县 Y4fq太康县 XpgS鹿邑县 Wxf1驻马店 XNf1西平县 XGfF上蔡县 Wvfb平舆县 WafN正阳县 Wmf1确山县 WheJ泌阳县 WyfL汝南县 X8ex遂平县 Wjfw新蔡县 Z5dZ济源市',
            '湖北省 UYfH武汉 UZf2汉阳区 ULfJ武昌区 UqfL黄陂区 Upfl新洲区 UDg6黄石 U6fw大冶市 TogD阳新县 W5d6襄樊 W1d9襄阳区 W8dj枣阳市 WNcf老河口市 VgdF宜城县 WGcd谷城县 VrcG保康县 Vkco南漳县 Wdbl十堰 Wobn郧县 WybP郧西县 WEbE竹山县 WKah竹溪县 W4bi房县 UIdF沙市区 ThdO石首市 TneS洪湖市 UBck松滋市 U3dE公安县 Tnds监利县 ULdB江陵县 UgcH宜昌 UNcR宜都市 Uocl当阳市 UPcj枝江市 V4cc远安县 VEbj兴山县 V0bf秭归县 UScB长阳土家族自治县 UCbe五峰土家族自治县 Upc1三峡大坝 V2dC荆门 V1e6京山县 VAdZ钟祥县 UgdZ沙洋县 Uqdd旧口镇 V1e6新市镇 UOfr鄂州 Utes孝感 Udeo汉川市 VFef安陆市 UueY应城市 VXf7大悟县 VFex孝昌县 V1ei云梦县 VEew花园镇 VTfG新城镇 URfq黄州区 VBg2麻城市 TpgX武穴市 Ucfq团风县 VHfb红安县 UlgN罗田县 Ujge英山县 USgF浠水县 UEgP蕲春县 U5gu黄梅县 UlgN凤山镇 USgF清泉镇 TqfG咸宁 Theq赤壁市 Txes嘉鱼县 TGem通城县 TXf3崇阳县 TafU通山县 VheM随州 Vben广水市 UGaS恩施 UIZu利川市 Ubai建始县 V2bO巴东县 TxaT宣恩县 Tfa9咸丰县 TUaO来凤县 Tsb2鹤峰县 UMeR仙桃市 UPds潜江市 UdeA天门市 Vjbf神农架林区',
            '湖南省 SCdw长沙 S9eb浏阳市 SCdx长沙县 SNdm望城县 SFdW宁乡县 Rqe7株洲 ReeT醴陵市 Rhe9株洲县 QyeK攸县 QleW茶陵县 QUek炎陵县 Rqds湘潭 RidV湘乡市 Rqdu湘潭县 Qsdb衡阳 REdh南岳区 QPdp耒阳市 QOdM常宁市 QxdK衡阳县 Qqda衡南县 REdp衡山县 R5dv衡东县 Qld7祁东县 RFcS邵阳 Qibb武冈市 RFci邵东县 RKcR新邵县 QycF邵阳县 R7c1隆回县 R4bY洞口县 QZb9绥宁县 QQbo新宁县 QLbI城步苗族自治县 QZb9长铺镇 TNe6岳阳 Sne5汨罗市 TSeS临湘县 T8e7岳阳县 TVdX华容县 Shdm湘阴县 SgeY平江县 TAdm洞庭湖 T2cf常德 Tccp津市市 TPd9安乡县 Stcw汉寿县 TQcc临澧县 Tccj澧县 SscS桃源县 TZcM石门县 T8bT张家界 TQc7慈利县 TObA桑植县 SZdK益阳 SpdM沅江市 TMdO南县 SVd7桃江县 SNcC安化县 Pne2郴州 PveD资兴市 Pidh桂阳县 POdv宜章县 Q8e7永兴县 PZdL嘉禾县 PHdW临武县 PXee汝城县 Q5eu桂东县 QgeF安仁县 QQcZ永州 QRcY冷水滩区 QDca零陵区 QZcp祁阳县 QOcH东安县 Pwcd双牌县 PWcY道县 PGcJ江永县 Pacv宁远县 PMdB蓝山县 PsdC新田县 PBcZ江华瑶族自治县 PBcY沱江镇 RXav怀化 R7ax洪江市 SRbO沅陵县 S0bA辰溪县 RsbZ溆浦县 RJb7中方县 Qrag会同县 Rram麻阳苗族自治县 RLaA新晃侗族自治县 RRae芷江侗族自治县 QYaf靖州苗族侗族自治县 QAak通道侗族自治县 RCam黔城镇 Rjcx娄底 RfcP冷水江市 Rgce涟源市 RRdB双峰县 RjcH新化县 SJai吉首市 SHb9泸溪县 RvaZ凤凰县 SaaS花垣县 Sgad保靖县 Sbau古丈县 T0ao永顺县 TRaQ龙山县 Saaw古阳镇',
            '贵州省 QYXg贵阳 QXXS清镇市 R4Xw开阳县 QpXa修文县 R6Xi息烽县 QZVq六盘水 QZVq水城县 PmVd盘县 QCWT六枝特区 RgXu遵义 SZWg赤水市 RnXP仁怀市 RWXn遵义县 RwYB绥阳县 S8Xn桐梓县 SJXC习水县 RwYh凤冈县 SXYR正安县 RDYs余庆县 RkYT湄潭县 SrYa道真仡佬族苗族自治县 SWYr务川仡佬族苗族自治县 QFWu安顺 QJWj普定县 QPXG平坝县 Q3Wk镇宁布依族苗族自治县 PjX5紫云苗族布依族自治县 PvWb关岭布依族苗族自治县 RhaC铜仁 SGZ7德江县 RgZp江口县 RuZF思南县 RVZE石阡县 REZt玉屏侗族自治县 SAaC松桃苗族自治县 S0ZP印江土家族苗族自治县 SYZU沿河土家族自治县 RVaD万山特区 RIWH毕节 R2X2黔西县 R9Wa大方县 RIWH毕节县 QeWk织金县 RSXD金沙县 R8Vh赫章县 QlWN纳雍县 QqVH威宁彝族回族苗族自治县 P5Vs兴义市 PAX6望谟县 PQWB兴仁县 PlVv普安县 OyWn册亨县 PoWD晴隆县 PNWd贞丰县 P7WS安龙县 QZYx凯里市 R2Z7施秉县 PjZs从江县 QfaC锦屏县 R3ZP镇远县 QUYZ麻江县 QfZJ台江县 QtaC天柱县 QsYs黄平县 PuZV榕江县 QdZZ剑河县 QwZf三穗县 QNZ4雷山县 QEa8黎平县 RDZi岑巩县 QCYm丹寨县 QGYV都匀市 QgYV福泉市 QZYE贵定县 Q8Xd惠水县 PQXj罗甸县 R4YT瓮安县 PPYr荔波县 QSXx龙里县 PoYK平塘县 Q2XR长顺县 PoYX独山县 PyYq三都水族自治县',
            '云南省 P3Tg昆明 Q6UB东川区 OsTT安宁市 OsTm呈贡县 OeTa晋宁县 PETT富民县 OtU9宜良县 PKU2嵩明县 OkUG石林彝族自治县 PYTS禄劝彝族苗族自治县 PYUF寻甸回族彝族自治县 PaUn沾益县 PTUm曲靖 QDV6宣威市 PQUZ马龙县 P2Ue陆良县 OoUx师宗县 OrVI罗平县 PeVF富源县 QPUI会泽县 OLTW玉溪 OITj江川县 OeTt澄江县 O6Tj通海县 OCTu华宁县 OeT9易门县 OATO峨山彝族自治县 O5Sx新平彝族傣族自治县 NaT0元江哈尼族彝族傣族自治县 P7QA保山 P1PU腾冲县 OiQB施甸县 OZPf龙陵县 OoQa昌宁县 RLUh昭通 RCUX鲁甸县 QtTt巧家县 S5VF盐津县 RjUs大关县 SEUc永善县 SaUv绥江县 RQVq镇雄县 RcV3彝良县 RpW3威信县 ScVO水富县 QfRj永胜县 QcSG华坪县 QrRE玉龙纳西族自治县 RHRp宁蒗彝族自治县 MmRx思茅 N4S2普洱哈尼族彝族自治县 NQSg墨江哈尼族自治县 ORRo景东彝族自治县 NURg景谷傣族彝族自治县 NqRr镇沅彝族哈尼族拉祜族自治县 MaSq江城哈尼族彝族自治县 MKQa孟连傣族拉祜族佤族自治县 MYQu澜沧拉祜族自治县 MiQS西盟佤族自治县 NrR5临沧 OaQt凤庆县 OQR8云县 O2QF永德县 NrQ1镇康县 NSQo双江拉祜族佤族布朗族傣族自治县 NWQP耿马傣族佤族自治县 N9QF沧源佤族自治县 NMVE文山 NNVE文山县 NbVK砚山县 NRVe西畴县 N7Vf麻栗坡县 N1VN马关县 O3VC丘北县 O3W4广南县 NcWb富宁县 NMUO蒙自县 NLUA个旧市 NhUE开远市 N0TO绿春县 NbTn建水县 NhTT石屏县 OPUQ弥勒县 OWUk泸西县 NATj元阳县 NMTP红河县 MlUD金平苗族瑶族傣族自治县 MVUw河口瑶族自治县 MxUf屏边苗族自治县 M1Rm景洪市 LwRR勐海县 LTSY勐腊县 P2SX楚雄市 OgSc双柏县 PJSW牟定县 PCSH南华县 PVSF姚安县 PiSK大姚县 Q4Se永仁县 PgSr元谋县 PWTO武定县 P9T5禄丰县 PZRE大理 PTRY祥云县 PoRZ宾川县 PLRU弥渡县 PSQV永平县 PsQM云龙县 Q7Qv洱源县 QWQs剑川县 QYRB鹤庆县 PdQw漾濞彝族自治县 P3RW南涧彝族自治县 PERJ巍山彝族回族自治县 ORPZ潞西市 O1Oq瑞丽市 OmPI梁河县 OgOu盈江县 OMOw陇川县 QRQP兰坪县 PxPn泸水县 QsPr福贡县 RjPe贡山独龙族怒族自治县 STPs德钦县 RnQg香格里拉县 STPt德钦县 RBQH维西傈僳族自治县',
            '海南省 K2bL海口 K0bL琼山区 IEaU三亚 Jbbj文昌市 JFbS琼海市 ImbO万宁市 J6Zc东方市 IkaV五指山市 JVaZ儋州市 Jtaf临高县 Jib1澄迈县 JgbJ定安县 JMb6屯昌县 JGa3昌江黎族自治县 JEaR白沙黎族自治县 J3ao琼中黎族苗族自治县 IUb2陵水黎族自治县 Icag保亭黎族苗族自治县 IjaA乐东黎族自治县',
            '港澳台 MCf5香港 M8eK澳门 P2mU台北市 MblH高雄市 P8mi基隆市 O9le台中市 N0lC台南市 Onlv新竹市 NTlQ嘉义市 P1mS台北县 Okmj宜兰县 OwmI桃园县 OWlm苗栗县 OFlh台中县 O5lW彰化县 Ntle南投县 NhlW云林县 NJlJ台南县 MclM高雄县 MelT屏东县 Mjm9台东县 Nxma花莲县 NZkZ澎湖县',
            '广东省 N7eG广州 MveM番禺区 NNeC花都区 NIeo增城市 NXeZ从化市 MXf7深圳 MZer宝安区 MGeY珠海 MDeH斗门区 NLhf汕头 NGha潮阳区 NShk澄海区 NQi1南澳县 OmeZ韶关 Ofea曲江区 P8eL乐昌市 P7fI南雄市 Ovf4始兴县 P5ej仁化县 OLf8翁源县 O4fC新丰县 OleG乳源瑶族自治县 N2e7佛山 MpeF顺德区 NAdr三水区 Mrdp高明区 MZe5江门 MWe2新会区 MFdm台山市 MNdf开平市 Mkdv鹤山市 MCdI恩平市 Lebr茂名 Ltbp高州市 Ldbc化州市 MMbu信宜市 LVc0电白县 LBbN湛江 LbbH廉江市 Ksb5雷州市 LRbl吴川市 LNbF遂溪县 KKbA徐闻县 N3dR肇庆 N3dR高要市 NLdg四会市 NddQ广宁县 NtdB怀集县 NRcU封开县 N9ck德庆县 N6fO惠州 MmfS惠阳区 NAfH博罗县 Mxfh惠东县 NifF龙门县 OJh7梅州 O8gi兴宁市 OIh7梅县 OLhf大埔县 NkhA丰顺县 Nugk五华县 OYgr平远县 OdhA蕉岭县 MkgL汕尾 Mvgc陆丰县 MxgK海丰县 NJgd陆河县 Niff河源 NdgA紫金县 O6gF龙川县 OLfT连平县 OQfu和平县 Lpcv阳江 MBcl阳春市 Ljcc阳西县 Nhe1清远 OAeO英德市 OldN连州市 NqeW佛冈县 OTdc阳山县 OYd4连山壮族瑶族自治县 OhdH连南瑶族自治县 N3ei东莞 MWeM中山 Nehc潮州 Nfi0饶平县 NWhL揭阳 NIhA普宁市 NQgo揭西县 N2hH惠来县 Mud2云浮 MkcY罗定市 MgdE新兴县 NFcV郁南县',
            '广西壮族 MmZJ南宁 MjZT邕宁区 NAZH武鸣县 NBYf隆安县 NhZA马山县 NRZZ上林县 NDZn宾阳县 MgaG横县 OJaO柳州 OFaK柳江县 OdaE柳城县 OTai鹿寨县 PDaN融安县 P4aF融水苗族自治县 Plaa三江侗族自治县 PHbH桂林 OlbT阳朔县 PEbC临桂县 PPbJ灵川县 Ocbd平乐县 Pbbe兴安县 PTc9灌阳县 OUbN荔浦县 Q2bc资源县 Oxax永福县 Pmb1龙胜各族自治县 Oobn恭城瑶族自治县 NTcI梧州 Muc0岑溪市 NPcE苍梧县 NMbs藤县 OCbV蒙山县 LTa7北海 LeaB合浦县 LkZL防城区 M9Yx上思县 OPcW贺县 OWcI钟山县 OAbm昭平县 OncG富川瑶族自治县 NiaE来宾 NmZq合山市 Nvaf象州县 Naad武宣县 O4Ze忻城县 O8bB金秀瑶族自治县 N6ab贵港 NOb4桂平县 NXbO平南县 Mcb8玉林 MhbL北流市 MqbX容县 MKbG陆川县 MHaw博白县 NsXb百色 OLXZ凌云县 NJYY平果县 OUW5西林县 OmXY乐业县 NKXb德保县 OIXE田林县 NiXt田阳县 N9XP靖西县 NaY7田东县 NPWo那坡县 OlWK隆林各族自治县 OgZ3河池 OTZd宜州市 P1Y9天峨县 OXY3凤山县 OxYW南丹县 OVYM东兰县 NuZ6都安瑶族自治县 OlZs罗城仫佬族自治县 O9YF巴马瑶族自治县 OoZF环江毛南族自治县 NjYx大化瑶族自治县 LvZb钦州 MQaH灵山县 MGaW浦北县 MPYL崇左 M8Y4宁明县 MdYs扶绥县 MLXp龙州县 MoYC大新县 N5Y8天等县',
            '重庆市 TXXV重庆 TWZl黔江区 ToXQ北碚区 ThXb江北区 UnZM万州区 TNXV巴南区 TTWk双桥区 ToY4长寿区 TyXG合川市 TMWs永川市 THXF江津市 TAY6南川市 T2Xc綦江县 UAWn潼南县 TpX3铜梁县 TgWg大足县 TOWZ荣昌县 TaXD璧山县 UJYL垫江县 TJYj武隆县 TrYh丰都县 VvZe城口县 UeYl梁平县 VCZP开县 VOab巫溪县 V5ar巫山县 V3aV奉节县 UwZr云阳县 UHZ1忠县 TyZ7石柱土家族自治县 SRZx秀山土家族苗族自治县 SoZk酉阳土家族苗族自治县 TIZ9彭水苗族土家族自治县',
            '四川省 UeV4成都 UoV9新都区 UgUo温江区 V0Ub都江堰市 UxUu彭州市 UPUR邛崃市 UcUe崇州市 UpVQ金堂县 UmUr郫县 UPUm新津县 UYUt双流县 UCUU蒲江县 UZUV大邑县 TLVk自贡 TSVP荣县 TBVx富顺县 QXSi攀枝花 QrT7米易县 QtSX盐边县 SrWR泸州 SlWN纳溪区 SsWQ泸县 SnWo合江县 SBWR叙永县 S2Wn古蔺县 V9VN德阳 UxVH广汉市 V8VA什邡市 VLVC绵竹市 V3Vf中江县 VSVi绵阳 VlVi江油市 VEWN盐亭县 V6W5三台县 WPVW平武县 VdVQ安县 VcW9梓潼县 VoVR北川羌族自治县 WRWn广元 WZWE青川县 WDXH旺苍县 W2WS剑阁县 VjWu苍溪县 UVWZ遂宁 UrWN射洪县 UlWh蓬溪县 TZW4内江 TlVp资中县 TLWG隆昌县 TVVe威远县 TYUj乐山 TaUT峨眉山市 TiUY夹江县 TeV5井研县 TDUv犍为县 SwUs沐川县 SoUW马边彝族自治县 TEUG峨边彝族自治县 UmX5南充 VZWw阆中市 V5XY营山县 V2XP蓬安县 VWXO仪陇县 VMX4南部县 V1Wr西充县 U3Uo眉山 U0V9仁寿县 UCUq彭山县 TtUM洪雅县 U2UV丹棱县 ToUp青神县 SkVb宜宾 SgVV宜宾县 SKW5兴文县 SpVw南溪县 SNVm珙县 SZVs长宁县 SOVX高县 SiW3江安县 SAVV筠连县 SdVA屏山县 USXc广安区 UNXk华蓥市 UXXQ岳池县 UKXt邻水县 UMXH武胜县 W4Z3万源市 VEYU达县 UpXw渠县 VMYh宣汉县 V5Yq开江县 UiYC大竹县 TxTx雅安 UATu芦山县 TETM石棉县 U6U6名山县 U5Tj天全县 TmTo荥经县 UMTn宝兴县 TLTf汉源县 VpXk巴中 WMXo南江县 VYY7平昌县 VuYF通江县 U8Vd资阳 UNVX简阳市 U7WJ安岳县 UHW1乐至县 VtTE马尔康县 XGVE九寨沟县 WmTX红原县 VTUZ汶川县 WsSg阿坝县 VRUA理县 UyTL小金县 XZTw若尔盖县 W4Tx黑水县 VTT3金川县 WdUa松潘县 WGRw壤塘县 VfUp茂县 U3Sw康定县 UrSr丹巴县 VORf炉霍县 T0SV九龙县 VcQx甘孜县 U2S0雅江县 UvRI新龙县 UxS7道孚县 VDPo白玉县 TyRG理塘县 VmPZ德格县 SuQm乡城县 WxP6石渠县 T2RI稻城县 WGRK色达县 TtTE泸定县 U1Q7巴塘县 ShQH得荣县 RsTG西昌市 SKU8美姑县 S1To昭觉县 RgUF金阳县 SwTk甘洛县 RhTm布拖县 SGUY雷波县 RNTW普格县 R4Tj宁南县 SJTO喜德县 QdTY会东县 SdTU越西县 QeTE会理县 RQSU盐源县 ROTA德昌县 SXTA冕宁县 RuSH木里藏族自治县',
            '西藏 TdI8拉萨 TsIG林周县 UTI6当雄县 TQHA尼木县 TLHi曲水县 TeHv堆龙德庆县 TeIL达孜县 ToIi墨竹工卡县 V9OA昌都 V8OA昌都县 VUPC江达县 UqPG贡觉县 VDNZ类乌齐县 VPMc丁青县 U3Nt八宿县 TfOp左贡县 TfPZ芒康县 UjMo洛隆县 UuLg边坝县 UeOY察雅县 TEIl山南地区 TEIl乃东县 TDII扎囊县 THHx贡嘎县 T2If琼结县 T3JC曲松县 SQIQ措美县 SNHq洛扎县 T8JZ加查县 SPJS隆子县 RyIv错那县 SwHO浪卡子县 TGFs日喀则 TfG6南木林县 StGa江孜县 SeE7定日县 SsF1萨迦县 T5Ec拉孜县 THEE昂仁县 TQFG谢通门县 T6GF白朗县 TEGo仁布县 SYGf康马县 SMEk定结县 TdBB仲巴县 RTFs亚东县 SpCJ吉隆县 S9Cw聂拉木县 TJCD萨嘎县 SGFW岗巴县 VTJ3那曲 VTJ3那曲县 UaKU嘉黎县 VTKf比如县 W7JH聂荣县 WGIe安多县 UuFg申扎县 VrKl索县 VMH1班戈县 VtL4巴青县 WU76阿里地区 WU75噶尔县 V1C9措勤县 UJ8B普兰县 VT6m札达县 XP6d日土县 WO87革吉县 WIB4改则县 WV76狮泉河 TeLL林芝地区 TeLL八一镇 TZLT林芝县 T3K6朗县 TDLC米林县 SeOT察隅县 TqMj波密县 TrKF工布江达县 TEIl泽当镇',
            '新疆维吾尔 hlEZ乌鲁木齐 iJBp独山子区 jaBq克拉玛依 huET五家渠市 iID2石河子市 eX8G阿拉尔市 dw6D图木舒克市 gwGB吐鲁番市 gqHD鄯善县 glFd托克逊县 gnKV哈密市 hFLf伊吾县 haK1巴里坤哈萨克自治县 fA7F阿克苏市 fG7E温宿县 fD9k沙雅县 fm8q拜城县 ec7N阿瓦提县 fh9w库车县 eU63柯坪县 fX9a新和县 fD6E乌什县 b76t和田市 b66u和田县 bG6i墨玉县 bb5H皮山县 b47B洛浦县 b07m策勒县 ap8e于田县 b49f民丰县 dS2x喀什市 dl5X巴楚县 cB4G泽普县 dU3i伽师县 br4P叶城县 dE3k岳普湖县 dP33疏勒县 cs4d麦盖提县 cu3A英吉沙县 cP4F莎车县 dN2p疏附县 bl2E塔什库尔干塔吉克自治县 dh3A阿图什市 d92u阿克陶县 eu5R阿合奇县 dg2B乌恰县 fkBF轮台县 fKDG尉犁县 d1FA若羌县 c8CW且末县 g4DY焉耆回族自治县 gJDN和静县 gFDq和硕县 fwDc博湖县 i1EI昌吉市 iAEw阜康市 hwEd米泉市 iBDs呼图壁县 iIDD玛纳斯县 i1GZ奇台县 hyGB吉木萨尔县 hnHH木垒哈萨克自治县 is94博乐市 ib9r精河县 iw82温泉县 ht8I伊宁市 iQBs奎屯市 hx8V伊宁县 i37q霍城县 hT9E巩留县 hQAF新源县 h988昭苏县 hD8o特克斯县 hl9U尼勒克县 ho89察布查尔锡伯自治县 kj9x塔城市 iQBf乌苏市 kVAb额敏县 iJCb沙湾县 juAa托里县 kD9w裕民县 kmCi和布克赛尔蒙古自治县 lgDq布尔津县 kyGV富蕴县 l7EU福海县 m4DP哈巴河县 keHN青河县 lQCr吉木乃县',
            '甘肃省 a4Uj兰州 aiUG永登县 ZoV6榆中县 aKUu皋兰县 cSTA金昌 cFSw永昌县 aXVC白银 aYVf靖远县 b9V5景泰县 ZgW3会宁县 YZWh天水 YhVs武山县 YiWJ甘谷县 YjX7清水县 YpWe秦安县 YxXC张家川回族自治县 dmPJ嘉峪关 btTc武威 cbU5民勤县 bSTr古浪县 awU8天祝藏族自治县 cuRR张掖 cQRn民乐县 clS5山丹县 d9RA临泽县 dMQn高台县 coQb肃南裕固族自治县 ZXXf平凉 Z4Ya灵台县 ZVWh静宁县 ZIY2崇信县 ZDXd华亭县 ZKYL泾川县 ZCX2庄浪县 djPV酒泉 dnOY玉门市 e8Le敦煌市 eWMl安西县 dxPs金塔县 dPLG阿克塞哈萨克族自治县 dVLr肃北蒙古族自治县 dmPJ嘉峪关 ZiYc庆阳市 ZiYc西峰区 a0Yr庆城县 ZfYB镇原县 ZnZ1合水县 aRYx华池县 aYYJ环县 ZUYt宁县 ZTZM正宁县 ZZVb定西 ZZVb安定区 ZCWE通渭县 ZNUp临洮县 YpVS漳县 YQV2岷县 Z8VC渭源县 Z0Vc陇西县 XOVu陇南市 XOVt武都区 XjWh成县 Y3VO宕昌县 XKWa康县 WvVf文县 Y1WH西和县 YCWA礼县 XtXI两当县 XkX5徽县 ZaUC临夏 ZUTy临夏县 ZMUg康乐县 ZuUK永靖县 ZTUY广河县 ZQUL和政县 ZeUN东乡族自治县 ZCTT甘南藏族自治州 ZCTV合作市 YfUM临潭县 YaUU卓尼县 XlVM舟曲县 Y4UD迭部县 XyT5玛曲县 YaTT碌曲县 ZJTH夏河县',
            '宁夏回族 cSXG银川 c6XK灵武市 cHXF永宁县 cXXL贺兰县 d1XM石嘴山 d3XO大武口区 d7Xf惠农区 csXX平罗县 bxXC吴忠 brX0青铜峡市 axWt同心县 blYO盐池县 a1XG固原 ZwWh西吉县 ZpXc彭阳县 ZUXK泾源县 ZbX7隆德县 bVWA中卫 aXWc海原县 bTWe中宁县',
            '青海省 abSl西宁 afSG湟源县 aUSY湟中县 auSf大通回族土族自治县 auSg桥头镇 aUT6平安县 aTTO乐都县 aKTm民和回族土族自治县 aoSv互助土族自治县 a6TG化隆回族自治县 ZpTT循化撒拉族自治县 aoSv威远镇 asRx海晏县 cARE祁连县 bKR8刚察县 bMSb门源回族自治县 bMSb浩门镇 bKR8沙柳河镇 cBRF八宝镇 ZVT1同仁县 ZuT2尖扎县 Z2SS泽库县 YiSb河南蒙古族自治县 ZVSy隆务镇 YiSa优干宁镇 aHRb共和县 ZFRZ同德县 a3SQ贵德县 ZZQx兴海县 ZZRj贵南县 aGRb恰卜恰镇 ZFRZ尕巴松多镇 a2SP河阴镇 ZZQx子科滩镇 ZYRk茫曲镇 YSRF玛沁县 WuRj班玛县 XvQt甘德县 XjQd达日县 XQST久治县 YtPD玛多县 WtRi赛来塘镇 YSRE大武镇 XwQr柯曲镇 X0O1玉树县 WyO0结古镇 WsMI杂多县 XMO6称多县 XpMb治多县 WCNT囊谦县 Y8Mk曲麻莱县 aPLr格尔木市 bMOM德令哈市 auPT乌兰县 aIP5都兰县 bIQ1天峻县 aIP5察汗乌苏镇 atPV希里沟镇 bIQ1新源镇',
            '陕西省 YGZr西安 YMaC临潼区 YAZv长安区 YWa5高陵县 Y9aI蓝田县 Y7Za户县 YAZC周至县 Z4a4铜川 YtZw耀州区 ZOa7宜君县 YNY9宝鸡 YLYN陈仓区 YVYN凤翔县 YRYb岐山县 YMYq扶风县 YGYi眉县 YsXp陇县 YdY8千阳县 YfYm麟游县 XtXV凤县 Y4YI太白县 YKZZ咸阳 YIZT兴平市 YbZt三原县 YWZo泾阳县 YWZE乾县 YTZP礼泉县 YgZ8永寿县 Z2Z4彬县 ZDYl长武县 Z7ZJ旬邑县 YmZZ淳化县 YGZC武功县 YUaU渭南 YZb6华阴市 ZSbQ韩城市 YVak华县 YXbE潼关县 Ymau大荔县 YvaZ蒲城县 ZBat澄城县 ZBaZ白水县 ZEb8合阳县 YjaA富平县 aaaT延安 aZb1延长县 asbA延川县 b9af子长县 aqaJ安塞县 anZk志丹县 atZB吴起县 aHaK甘泉县 ZyaM富县 ZkaP洛川县 a3bA宜川县 ZZan黄龙县 ZZaG黄陵县 X4Y1汉中 X0Xu南郑县 X9YJ城固县 XDYW洋县 WxYj西乡县 X9Xe勉县 WoXF宁强县 XKX9略阳县 WWYs镇巴县 XbXu留坝县 XVYx佛坪县 cHaj榆林 cnbT神木县 d2c4府谷县 bwaH横山县 bZZm靖边县 bZYZ定边县 bUbF绥德县 bjbA米脂县 c1bT佳县 bRbi吴堡县 b5b7清涧县 bbb2子洲县 Wfa1安康 WsZV汉阴县 X2ZF石泉县 XJZI宁陕县 WVZV紫阳县 WJZs岚皋县 WOaL平利县 VraV镇坪县 WoaM旬阳县 Wmb6白河县 Xqau商洛市 Xqau商州区 Y5b8洛南县 XfbJ丹凤县 XWbq商南县 XVaq山阳县 XQaA镇安县 Xfa6柞水县'
        );

        for(i=0;i<JWv.length;i++) JWv[i] = JWv[i].split(" "); //解开清单
        function JWdecode(v){
            var i;
            v = v.split('');
            for(i=0;i<4;i++){ //对经纬度解压缩
                v[i] = v[i].charCodeAt(0);
                if(v[i]>96)      v[i] -= 97-36;
                else if(v[i]>64) v[i] -= 65-10;
                else             v[i] -= 48;
            }
            this.J = -(v[2]+v[3]/60+73)/180*Math.PI;
            this.W =  (v[0]+v[1]/60)   /180*Math.PI;
        }

        //纪年数据结构：数据用逗号分开，每7个描述一个年号，格式为:起始公元,使用年数,已用年数,朝代,朝号,皇帝,年号
        var JNs ='';
        JNs+='-2069,45,0,夏,禹,,禹,-2024,10,0,夏,启,,启,-2014,25,0,夏,太康,,太康,-1986,14,0,夏,仲康,,仲康,-1972,28,0,夏,相,,相,-1944,2,0,夏,后羿,,后羿,-1942,38,0,夏,寒浞,,寒浞,-1904,21,0,夏,少康,,少康,-1883,17,0,夏,杼,,杼,-1866,26,0,夏,槐,,槐,-1840,18,0,夏,芒,,芒,-1822,16,0,夏,泄,,泄,-1806,59,0,夏,不降,,不降,-1747,21,0,夏,扃,,扃,-1726,21,0,夏,廑,,廑,';
        JNs+='-1705,31,0,夏,孔甲,,孔甲,-1674,11,0,夏,皋,,皋,-1663,11,0,夏,发,,发,-1652,52,0,夏,桀,,桀,-1600,12,0,商,商太祖,汤,商汤,-1588,1,0,商,商代王,太乙,商代王,-1587,2,0,商,哀王,子胜,外丙,-1585,4,0,商,懿王,子庸,仲壬,-1581,12,0,商,太宗,子至,太甲,-1569,29,0,商,昭王,子绚,沃丁,-1540,25,0,商,宣王,子辩,太庚,-1515,17,0,商,敬王,子高,小甲,-1498,13,0,商,元王,子密,雍己,-1485,75,0,商,中宗,子伷,太戊,-1410,11,0,商,孝成王,子庄,仲丁,';
        JNs+='-1399,15,0,商,思王,子发,外壬,-1384,9,0,商,前平王,子整,河亶甲,-1375,19,0,商,穆王,子滕,祖乙,-1356,16,0,商,桓王,子旦,祖辛,-1340,5,0,商,僖王,子逾,沃甲,-1335,9,0,商,庄王,子新,祖丁,-1326,6,0,商,顷王,子更,南庚,-1320,7,0,商,悼王,子和,阳甲,-1313,42,0,商,世祖,子旬,盘庚,-1271,21,0,商,章王,子颂,小辛,-1250,1,0,商,惠王,子敛,小乙,-1249,59,0,商,高宗,子昭,武丁,-1190,2,0,商,後平王,子跃,祖庚,-1188,33,0,商,世宗,子载,祖甲,-1155,8,0,商,甲宗,子先,廪辛,';
        JNs+='-1147,1,0,商,康祖,子嚣,庚丁,-1146,35,0,商,武祖,子瞿,武乙,-1111,11,0,商,匡王,子托,文丁,-1100,26,0,商,德王,子羡,帝乙,-1074,29,0,商,纣王,子寿,帝辛,-1045,4,0,西周,武王,姬发,武王,-1041,22,0,西周,成王,姬诵,成王,-1019,25,0,西周,康王,姬钊,康王,-994,19,0,西周,昭王,姬瑕,昭王,-975,54,0,西周,穆王,姬满,穆王,-921,23,0,西周,共王,姬繄,共王,-898,8,0,西周,懿王,姬囏,懿王,-890,6,0,西周,孝王,姬辟方,孝王,-884,8,0,西周,夷王,姬燮,夷王,-876,36,0,西周,厉王,姬胡,厉王,';
        JNs+='-840,14,0,西周,厉王,姬胡,共和,-826,46,0,西周,宣王,姬静,宣王,-780,11,0,西周,幽王,姬宫湦,幽王,-769,51,0,东周,平王,姬宜臼,平王,-718,23,0,东周,桓王,姬林,桓王,-695,15,0,东周,庄王,姬佗,庄王,-680,5,0,东周,釐王,姬胡齐,釐王,-675,25,0,东周,惠王,姬阆,惠王,-650,33,0,东周,襄王,姬郑,襄王,-617,6,0,东周,顷王,姬壬臣,顷王,-611,6,0,东周,匡王,姬班,匡王,-605,21,0,东周,定王,姬瑜,定王,-584,14,0,东周,简王,姬夷,简王,-570,27,0,东周,灵王,姬泄心,灵王,-543,24,0,东周,景王,姬贵,景王,';
        JNs+='-519,1,0,东周,悼王,姬勐,悼王,-518,44,0,东周,敬王,姬匄,敬王,-474,7,0,东周,元王,姬仁,元王,-467,27,0,东周,贞定王,姬介,贞定王,-440,1,0,东周,哀王-思王,姬去疾-姬叔,哀王-思王,-439,15,0,东周,考王,姬嵬,考王,-424,24,0,东周,威烈王,姬午,威烈王,-400,26,0,东周,安王,姬骄,安王,-374,7,0,东周,烈王,姬喜,烈王,-367,48,0,东周,显王,姬扁,显王,-319,6,0,东周,慎靓王,姬定,慎靓王,-313,8,0,东周,赧王,姬延,赧王,-305,56,0,战国-秦,昭襄王,嬴则,昭襄王,-249,1,0,战国-秦,孝文王,嬴柱,孝文王,-248,3,0,战国-秦,庄襄王,嬴子楚,庄襄王,';
        JNs+='-245,25,0,秦,嬴政,嬴政,嬴政,-220,12,0,秦,始皇帝,嬴政,始皇,-208,3,0,秦,二世皇帝,嬴胡亥,二世,-205,12,0,西汉,高帝,刘邦,高帝,-193,7,0,西汉,惠帝,刘盈,惠帝,-186,8,0,西汉,高后,吕雉,高后,-178,16,0,西汉,文帝,刘恒,文帝,-162,7,0,西汉,文帝,刘恒,後元,-155,7,0,西汉,景帝,刘启,景帝,-148,6,0,西汉,景帝,刘启,中元,-142,3,0,西汉,景帝,刘启,後元,-139,6,0,西汉,武帝,刘彻,建元,-133,6,0,西汉,武帝,刘彻,元光,-127,6,0,西汉,武帝,刘彻,元朔,-121,6,0,西汉,武帝,刘彻,元狩,';
        JNs+='-115,6,0,西汉,武帝,刘彻,元鼎,-109,6,0,西汉,武帝,刘彻,元封,-103,4,0,西汉,武帝,刘彻,太初,-99,4,0,西汉,武帝,刘彻,天汉,-95,4,0,西汉,武帝,刘彻,太始,-91,4,0,西汉,武帝,刘彻,征和,-87,2,0,西汉,武帝,刘彻,後元,-85,6,0,西汉,昭帝,刘弗陵,始元,-79,6,0,西汉,昭帝,刘弗陵,元凤,-73,1,0,西汉,昭帝,刘弗陵,元平,-72,4,0,西汉,宣帝,刘询,本始,-68,4,0,西汉,宣帝,刘询,地节,-64,4,0,西汉,宣帝,刘询,元康,-60,4,0,西汉,宣帝,刘询,神爵,-56,4,0,西汉,宣帝,刘询,五凤,';
        JNs+='-52,4,0,西汉,宣帝,刘询,甘露,-48,1,0,西汉,宣帝,刘询,黄龙,-47,5,0,西汉,元帝,刘奭,初元,-42,5,0,西汉,元帝,刘奭,永光,-37,5,0,西汉,元帝,刘奭,建昭,-32,1,0,西汉,元帝,刘奭,竟宁,-31,4,0,西汉,成帝,刘骜,建始,-27,4,0,西汉,成帝,刘骜,河平,-23,4,0,西汉,成帝,刘骜,阳朔,-19,4,0,西汉,成帝,刘骜,鸿嘉,-15,4,0,西汉,成帝,刘骜,永始,-11,4,0,西汉,成帝,刘骜,元延,-7,2,0,西汉,成帝,刘骜,绥和,-5,4,0,西汉,哀帝,刘欣,建平,-1,2,0,西汉,哀帝,刘欣,元寿,';
        JNs+='1,5,0,西汉,平帝,刘衍,元始,6,2,0,西汉,孺子婴,王莽摄政,居摄,8,1,0,西汉,孺子婴,王莽摄政,初始,9,5,0,新,,王莽,始建国,14,6,0,新,,王莽,天凤,20,3,0,新,,王莽,地皇,23,2,0,西汉,更始帝,刘玄,更始,25,31,0,东汉,光武帝,刘秀,建武,56,2,0,东汉,光武帝,刘秀,建武中元,58,18,0,东汉,明帝,刘庄,永平,76,8,0,东汉,章帝,刘炟,建初,84,3,0,东汉,章帝,刘炟,元和,87,2,0,东汉,章帝,刘炟,章和,89,16,0,东汉,和帝,刘肇,永元,105,1,0,东汉,和帝,刘肇,元兴,';
        JNs+='106,1,0,东汉,殇帝,刘隆,延平,107,7,0,东汉,安帝,刘祜,永初,114,6,0,东汉,安帝,刘祜,元初,120,1,0,东汉,安帝,刘祜,永宁,121,1,0,东汉,安帝,刘祜,建光,122,4,0,东汉,安帝,刘祜,延光,126,6,0,东汉,顺帝,刘保,永建,132,4,0,东汉,顺帝,刘保,阳嘉,136,6,0,东汉,顺帝,刘保,永和,142,2,0,东汉,顺帝,刘保,汉安,144,1,0,东汉,顺帝,刘保,建康,145,1,0,东汉,冲帝,刘炳,永嘉,146,1,0,东汉,质帝,刘缵,本初,147,3,0,东汉,桓帝,刘志,建和,150,1,0,东汉,桓帝,刘志,和平,';
        JNs+='151,2,0,东汉,桓帝,刘志,元嘉,153,2,0,东汉,桓帝,刘志,永兴,155,3,0,东汉,桓帝,刘志,永寿,158,9,0,东汉,桓帝,刘志,延熹,167,1,0,东汉,桓帝,刘志,永康,168,4,0,东汉,灵帝,刘宏,建宁,172,5,0,东汉,灵帝,刘宏,熹平,178,6,0,东汉,灵帝,刘宏,光和,184,6,0,东汉,灵帝,刘宏,中平,190,4,0,东汉,献帝,刘协,初平,194,2,0,东汉,献帝,刘协,兴平,196,24,0,东汉,献帝,刘协,建安,220,7,0,三国-魏,文帝,曹丕,黄初,227,6,0,三国-魏,明帝,曹叡,太和,233,4,0,三国-魏,明帝,曹叡,青龙,';
        JNs+='237,3,0,三国-魏,明帝,曹叡,景初,240,9,0,三国-魏,齐王,曹芳,正始,249,5,0,三国-魏,齐王,曹芳,嘉平,254,2,0,三国-魏,高贵乡公,曹髦,正元,256,4,0,三国-魏,高贵乡公,曹髦,甘露,260,4,0,三国-魏,元帝,曹奂,景元,264,1,0,三国-魏,元帝,曹奂,咸熙,265,10,0,西晋,武帝,司马炎,泰始,275,5,0,西晋,武帝,司马炎,咸宁,280,10,0,西晋,武帝,司马炎,太康,290,10,0,西晋,武帝,司马炎,太熙,300,1,0,西晋,惠帝,司马衷,永康,301,1,0,西晋,惠帝,司马衷,永宁,302,2,0,西晋,惠帝,司马衷,太安,304,2,0,西晋,惠帝,司马衷,永安,';
        JNs+='306,1,0,西晋,惠帝,司马衷,光熙,307,6,0,西晋,怀帝,司马炽,永嘉,313,4,0,西晋,愍帝,司马邺,建兴,317,1,0,东晋,元帝,司马睿,建武,318,4,0,东晋,元帝,司马睿,大兴,322,1,0,东晋,元帝,司马睿,永昌,323,3,0,东晋,明帝,司马绍,太宁,326,9,0,东晋,成帝,司马衍,咸和,335,8,0,东晋,成帝,司马衍,咸康,343,2,0,东晋,康帝,司马岳,建元,345,12,0,东晋,穆帝,司马聃,永和,357,5,0,东晋,穆帝,司马聃,升平,362,1,0,东晋,哀帝,司马丕,隆和,363,3,0,东晋,哀帝,司马丕,兴宁,366,5,0,东晋,海西公,司马奕,太和,';
        JNs+='371,2,0,东晋,简文帝,司马昱,咸安,373,3,0,东晋,孝武帝,司马曜,甯康,376,21,0,东晋,孝武帝,司马曜,太元,397,5,0,东晋,安帝,司马德宗,隆安,402,3,0,东晋,安帝,司马德宗,元兴,405,14,0,东晋,安帝,司马德宗,义熙,419,1,0,东晋,恭帝,司马德文,元熙,420,3,0,南朝/宋,武帝,刘裕,永初,423,2,0,南朝/宋,少帝,刘义符,景平,424,30,0,南朝/宋,文帝,刘義隆,元嘉,454,3,0,南朝/宋,孝武,帝刘骏,孝建,457,8,0,南朝/宋,孝武,帝刘骏,大明,465,1,0,南朝/宋,废帝,刘子业,永光,465,1,0,南朝/宋,废帝,刘子业,景和,';
        JNs+='465,7,0,南朝/宋,明帝,刘彧,泰始,472,1,0,南朝/宋,明帝,刘彧,泰豫,473,5,0,南朝/宋,废帝,刘昱,元徽,477,3,0,南朝/宋,顺帝,刘准,升明,479,4,0,南朝/齐,高帝,萧道成,建元,483,11,0,南朝/齐,武帝,萧赜,永明,494,1,0,南朝/齐,欎林王,萧昭业,隆昌,494,1,0,南朝/齐,海陵王,萧昭文,延兴,494,5,0,南朝/齐,明帝,萧鸾,建武,498,1,0,南朝/齐,明帝,萧鸾,永泰,499,3,0,南朝/齐,东昏侯,萧宝,中兴,501,2,0,南朝/齐,和帝,萧宝融,中兴,502,18,0,南朝/梁,武帝,萧衍,天监,520,8,0,南朝/梁,武帝,萧衍,普通,527,3,0,南朝/梁,武帝,萧衍,大通,';
        JNs+='529,6,0,南朝/梁,武帝,萧衍,中大通,535,12,0,南朝/梁,武帝,萧衍,大同,546,2,0,南朝/梁,武帝,萧衍,中大同,547,3,0,南朝/梁,武帝,萧衍,太清,550,2,0,南朝/梁,简文帝,萧纲,大宝,551,2,0,南朝/梁,豫章王,萧栋,天正,552,4,0,南朝/梁,元帝,萧绎,承圣,555,1,0,南朝/梁,贞阳侯,萧渊明,天成,555,2,0,南朝/梁,敬帝,萧方智,绍泰,556,2,0,南朝/梁,敬帝,萧方智,太平,557,3,0,南朝/陈,武帝,陈霸先,太平,560,7,0,南朝/陈,文帝,陈蒨,天嘉,566,1,0,南朝/陈,文帝,陈蒨,天康,567,2,0,南朝/陈,废帝,陈伯宗,光大,569,14,0,南朝/陈,宣帝,陈顼,太建,';
        JNs+='583,4,0,南朝/陈,後主,陈叔宝,至德,587,3,0,南朝/陈,後主,陈叔宝,祯明,555,8,0,南朝/後梁,宣帝,萧詧,大定,562,24,0,南朝/後梁,明帝,萧岿,天保,586,2,0,南朝/後梁,莒公,萧琮,广运,386,11,0,北朝/北魏,道武帝,拓跋圭,登国,396,3,0,北朝/北魏,道武帝,拓跋圭,皇始,398,7,0,北朝/北魏,道武帝,拓跋圭,天兴,404,6,0,北朝/北魏,道武帝,拓跋圭,天赐,409,5,0,北朝/北魏,明元帝,拓跋嗣,永兴,414,3,0,北朝/北魏,明元帝,拓跋嗣,神瑞,416,8,0,北朝/北魏,明元帝,拓跋嗣,泰常,424,5,0,北朝/北魏,太武帝,拓跋焘,始光,428,4,0,北朝/北魏,太武帝,拓跋焘,神麚,432,3,0,北朝/北魏,太武帝,拓跋焘,延和,';
        JNs+='435,6,0,北朝/北魏,太武帝,拓跋焘,太延,440,12,0,北朝/北魏,太武帝,拓跋焘,太平真君,451,2,0,北朝/北魏,太武帝,拓跋焘,正平,452,1,0,北朝/北魏,南安王,拓跋余,承平,452,3,0,北朝/北魏,文成帝,拓跋浚,兴安,454,2,0,北朝/北魏,文成帝,拓跋浚,兴光,455,5,0,北朝/北魏,文成帝,拓跋浚,太安,460,6,0,北朝/北魏,文成帝,拓跋浚,和平,466,2,0,北朝/北魏,献文帝,拓跋弘,天安,467,5,0,北朝/北魏,献文帝,拓跋弘,皇兴,471,6,0,北朝/北魏,教文帝,拓跋宏,延兴,476,1,0,北朝/北魏,孝文帝,拓跋宏,承明,477,23,0,北朝/北魏,孝文帝,拓跋宏,太和,500,4,0,北朝/北魏,宣武帝,元恪,景明,504,5,0,北朝/北魏,宣武帝,元恪,正始,';
        JNs+='508,5,0,北朝/北魏,宣武帝,元恪,永平,512,4,0,北朝/北魏,宣武帝,元恪,延昌,516,3,0,北朝/北魏,孝明帝,元诩,熙平,518,3,0,北朝/北魏,孝明帝,元诩,神龟,520,6,0,北朝/北魏,孝明帝,元诩,正光,525,3,0,北朝/北魏,孝明帝,元诩,孝昌,528,1,0,北朝/北魏,孝明帝,元诩,武泰,528,1,0,北朝/北魏,孝庄帝,元子攸,建义,528,3,0,北朝/北魏,孝庄帝,元子攸,永安,530,2,0,北朝/北魏,东海王,元晔,建明,531,2,0,北朝/北魏,节闵帝,元恭,普泰,531,2,0,北朝/北魏,安定王,元朗,中兴,532,1,0,北朝/北魏,孝武帝,元修,太昌,532,1,0,北朝/北魏,孝武帝,元修,永兴,532,3,0,北朝/北魏,孝武帝,元修,永熙,';
        JNs+='534,4,0,北朝/东魏,孝静帝,元善见,天平,538,2,0,北朝/东魏,孝静帝,元善见,元象,539,4,0,北朝/东魏,孝静帝,元善见,兴和,543,8,0,北朝/东魏,孝静帝,元善见,武定,535,17,0,北朝/西魏,文帝,元宝炬,大统,552,3,0,北朝/西魏,废帝,元钦,大统,554,3,0,北朝/西魏,恭帝,元廓,大统,550,10,0,北朝/北齐,文宣帝,高洋,天保,560,1,0,北朝/北齐,废帝,高殷,乾明,560,2,0,北朝/北齐,孝昭帝,高演,皇建,561,2,0,北朝/北齐,武成帝,高湛,太宁,562,4,0,北朝/北齐,武成帝,高湛,河清,565,5,0,北朝/北齐,温公,高纬,天统,570,7,0,北朝/北齐,温公,高纬,武平,576,2,0,北朝/北齐,温公,高纬,隆化,';
        JNs+='576,1,0,北朝/北齐,安德王,高延宗,德昌,577,1,0,北朝/北齐,幼主,高恒,承光,557,1,0,北朝/北周,闵帝,宇文觉,空,557,2,0,北朝/北周,明帝,宇文毓,空,559,2,0,北朝/北周,明帝,宇文毓,武成,561,5,0,北朝/北周,武帝,宇文邕,保定,566,7,0,北朝/北周,武帝,宇文邕,天和,572,7,0,北朝/北周,武帝,宇文邕,建德,578,1,0,北朝/北周,武帝,宇文邕,宣政,579,1,0,北朝/北周,宣帝,宇文贇,大成,579,2,0,北朝/北周,静帝,宇文衍,大象,581,1,0,北朝/北周,静帝,宇文衍,大定,581,20,0,隋,文帝,杨坚,开皇,601,4,0,隋,文帝,杨坚,仁寿,605,13,0,隋,炀帝,杨广,大业,';
        JNs+='617,2,0,隋,恭帝,杨侑,义宁,618,9,0,唐,高祖,李渊,武德,627,23,0,唐,太宗,李世民,贞观,650,6,0,唐,高宗,李治,永徽,656,6,0,唐,高宗,李治,显庆,661,3,0,唐,高宗,李治,龙朔,664,2,0,唐,高宗,李治,麟德,666,3,0,唐,高宗,李治,乾封,668,3,0,唐,高宗,李治,总章,670,5,0,唐,高宗,李治,咸亨,674,3,0,唐,高宗,李治,上元,676,4,0,唐,高宗,李治,仪凤,679,2,0,唐,高宗,李治,调露,680,2,0,唐,高宗,李治,永隆,681,2,0,唐,高宗,李治,开耀,';
        JNs+='682,2,0,唐,高宗,李治,永淳,683,1,0,唐,高宗,李治,弘道,684,1,0,唐,中宗,李显,嗣圣,684,1,0,唐,睿宗,李旦,文明,684,1,0,武周,则天后,武曌,光宅,685,4,0,武周,则天后,武曌,垂拱,689,1,0,武周,则天后,武曌,永昌,689,2,0,武周,则天后,武曌,载初,690,3,0,武周,则天后,武曌,天授,692,1,0,武周,则天后,武曌,如意,692,3,0,武周,则天后,武曌,长寿,694,1,0,武周,则天后,武曌,延载,695,1,0,武周,则天后,武曌,证圣,695,2,0,武周,则天后,武曌,天册万岁,696,1,0,武周,则天后,武曌,万岁登封,';
        JNs+='696,2,0,武周,则天后,武曌,万岁通天,697,1,0,武周,则天后,武曌,神功,698,3,0,武周,则天后,武曌,圣历,700,1,0,武周,则天后,武曌,久视,701,1,0,武周,则天后,武曌,大足,701,4,0,武周,则天后,武曌,长安,705,1,0,武周,则天后,李显,神龙,705,2,0,唐,中宗,李显,神龙,707,4,0,唐,中宗,李显,景龙,710,1,0,唐,温王,李重茂,唐隆,710,2,0,唐,睿宗,李旦,景云,712,1,0,唐,睿宗,李旦,太极,712,1,0,唐,睿宗,李旦,延和,712,2,0,唐,玄宗,李隆基,先天,713,29,0,唐,玄宗,李隆基,开元,';
        JNs+='742,15,0,唐,玄宗,李隆基,天宝,756,3,0,唐,肃宗,李亨,至德,758,3,0,唐,肃宗,李亨,乾元,760,3,0,唐,肃宗,李亨,上元,762,2,0,唐,肃宗,李亨,宝应,763,2,0,唐,代宗,李豫,广德,765,2,0,唐,肃宗,李亨,永泰,766,14,0,唐,肃宗,李亨,大历,780,4,0,唐,德宗,李适,建中,784,1,0,唐,德宗,李适,兴元,785,21,0,唐,德宗,李适,贞元,805,1,0,唐,顺宗,李诵,永贞,806,15,0,唐,宪宗,李纯,元和,821,4,0,唐,穆宗,李恒,长庆,825,3,0,唐,敬宗,李湛,宝历,';
        JNs+='827,9,0,唐,文宗,李昂,大和,836,5,0,唐,文宗,李昂,开成,841,6,0,唐,武宗,李炎,会昌,847,14,0,唐,宣宗,李忱,大中,860,15,0,唐,宣宗,李忱,咸通,874,6,0,唐,僖宗,李儇,乾符,880,2,0,唐,僖宗,李儇,广明,881,5,0,唐,僖宗,李儇,中和,885,4,0,唐,僖宗,李儇,光启,888,1,0,唐,僖宗,李儇,文德,889,1,0,唐,昭宗,李晔,龙纪,890,2,0,唐,昭宗,李晔,大顺,892,2,0,唐,昭宗,李晔,景福,894,5,0,唐,昭宗,李晔,乾宁,898,4,0,唐,昭宗,李晔,光化,';
        JNs+='901,4,0,唐,昭宗,李晔,天复,904,1,0,唐,昭宗,李晔,天佑,905,3,1,唐,昭宣帝,李祝,天佑,907,5,0,五代/梁,太祖,朱温,开平,911,2,0,五代/梁,太祖,朱温,乾化,913,1,0,五代/梁,庶人,朱友圭,凤历,913,3,2,五代/梁,末帝,朱友贞,乾化,915,7,0,五代/梁,末帝,朱友贞,贞明,921,3,0,五代/梁,末帝,朱友贞,龙德,923,4,0,五代/唐,庄宗,李存勗,同光,926,5,0,五代/唐,明宗,李嗣源,天成,930,4,0,五代/唐,明宗,李嗣源,长兴,934,1,0,五代/唐,闵帝,李从厚,应顺,934,3,0,五代/唐,潞王,李从珂,清泰,936,6,0,五代/晋,高祖,石敬瑭,天福,';
        JNs+='942,2,6,五代/晋,出帝,石重贵,天福,944,3,0,五代/晋,出帝,石重贵,开运,947,12,0,五代/汉,高祖,刘知远,天福,948,1,0,五代/汉,隐帝,刘承祐,乾祐,948,3,0,五代/汉,隐帝,刘承祐,乾祐,951,3,0,五代/周,太祖,郭威,广顺,954,1,0,五代/周,太祖,郭威,显德,954,6,0,五代/周,世宗,柴荣,显德,959,2,5,五代/周,恭帝,郭宗训,显德,960,4,0,北宋,太祖,赵匡胤,建隆,963,6,0,北宋,太祖,赵匡胤,乾德,968,9,0,北宋,太祖,赵匡胤,开宝,976,9,0,北宋,太宗,赵炅,太平兴国,984,4,0,北宋,太宗,赵炅,雍熙,988,2,0,北宋,太宗,赵炅,端拱,';
        JNs+='990,5,0,北宋,太宗,赵炅,淳化,995,3,0,北宋,太宗,赵炅,至道,998,6,0,北宋,真宗,赵恒,咸平,1004,4,0,北宋,真宗,赵恒,景德,1008,9,0,北宋,真宗,赵恒,大中祥符,1017,5,0,北宋,真宗,赵恒,天禧,1022,1,0,北宋,真宗,赵恒,乾兴,1023,10,0,北宋,仁宗,赵祯,天圣,1032,2,0,北宋,仁宗,赵祯,明道,1034,5,0,北宋,仁宗,赵祯,景祐,1038,3,0,北宋,仁宗,赵祯,宝元,1040,2,0,北宋,仁宗,赵祯,康定,1041,8,0,北宋,仁宗,赵祯,庆历,1049,6,0,北宋,仁宗,赵祯,皇祐,1054,3,0,北宋,仁宗,赵祯,至和,';
        JNs+='1056,8,0,北宋,仁宗,赵祯,嘉祐,1064,4,0,北宋,英宗,赵曙,治平,1068,10,0,北宋,神宗,赵顼,熙宁,1078,8,0,北宋,神宗,赵顼,元丰,1086,9,0,北宋,哲宗,赵煦,元祐,1094,5,0,北宋,哲宗,赵煦,绍圣,1098,3,0,北宋,哲宗,赵煦,元符,1101,1,0,北宋,徽宗,赵佶,建中靖国,1102,5,0,北宋,徽宗,赵佶,崇宁,1107,4,0,北宋,徽宗,赵佶,大观,1111,8,0,北宋,徽宗,赵佶,政和,1118,2,0,北宋,徽宗,赵佶,重和,1119,7,0,北宋,徽宗,赵佶,宣和,1126,2,0,北宋,钦宗,赵桓,靖康,1127,4,0,南宋,高宗,赵构,建炎,';
        JNs+='1131,32,0,南宋,高宗,赵构,绍兴,1163,2,0,南宋,孝宗,赵慎,隆兴,1165,9,0,南宋,孝宗,赵慎,乾道,1174,16,0,南宋,孝宗,赵慎,淳熙,1190,5,0,南宋,光宗,赵暴,绍熙,1195,6,0,南宋,宁宗,赵扩,庆元,1201,4,0,南宋,宁宗,赵扩,嘉泰,1205,3,0,南宋,宁宗,赵扩,开禧,1208,17,0,南宋,宁宗,赵扩,嘉定,1225,3,0,南宋,理宗,赵昀,宝庆,1228,6,0,南宋,理宗,赵昀,绍定,1234,3,0,南宋,理宗,赵昀,端平,1237,4,0,南宋,理宗,赵昀,嘉熙,1241,12,0,南宋,理宗,赵昀,淳祐,1253,6,0,南宋,理宗,赵昀,寶祐,';
        JNs+='1259,1,0,南宋,理宗,赵昀,开庆,1260,5,0,南宋,理宗,赵昀,景定,1265,10,0,南宋,度宗,赵禥,咸淳,1275,2,0,南宋,恭宗,赵(上“日”下“丝”),德祐 ,1276,3,0,南宋,端宗,赵(上“日”下“正”),景炎,1278,2,0,南宋,帝昺,赵昺,祥兴,1271,24,7,元,世祖,孛儿只斤·忽必烈,至元,1295,3,0,元,成宗,孛儿只斤·铁穆耳,元贞,1297,11,0,元,成宗,孛儿只斤·铁穆耳,大德,1308,4,0,元,武宗,孛儿只斤·海山,至大,1312,2,0,元,仁宗,孛儿只斤·爱育黎拔力八达,皇庆,1314,7,0,元,仁宗,孛儿只斤·愛育黎拔力八達,延祐,1321,3,0,元,英宗,孛儿只斤·宗硕德八剌,至治,1324,5,0,元,泰定帝,孛儿只斤·也孙铁木耳,泰定,1328,1,0,元,泰定帝,孛儿只斤·也孙铁木耳,至和,';
        JNs+='1328,1,0,元,幼主,孛儿只斤·阿速吉八,天顺,1328,3,0,元,文宗,孛儿只斤·图贴睦尔,天历,1330,3,0,元,文宗,孛儿只斤·图贴睦尔,至顺,1333,3,0,元,惠宗,孛儿只斤·妥镤贴睦尔,元统,1335,6,0,元,惠宗,孛儿只斤·妥镤贴睦尔,至元,1341,28,0,元,惠宗,孛儿只斤·妥镤贴睦尔,至正,1368,31,0,明,太祖,朱元璋,洪武,1399,4,0,明,惠帝,朱允溫,建文,1403,22,0,明,成祖,朱棣,永乐,1425,1,0,明,仁宗,朱高炽,洪熙,1426,10,0,明,宣宗,朱瞻基,宣德,1436,14,0,明,英宗,朱祁镇,正统,1450,7,0,明,代宗,朱祁钰,景泰,1457,8,0,明,英宗,朱祁镇,天顺,1465,23,0,明,宪宗,朱见深,成化,';
        JNs+='1488,18,0,明,孝宗,朱祐樘,弘治,1506,16,0,明,武宗,朱厚照,正德,1522,45,0,明,世宗,朱厚熜,嘉靖,1567,6,0,明,穆宗,朱载贺,隆庆,1573,48,0,明,神宗,朱翊钧,万历,1620,1,0,明,光宗,朱常洛,泰昌,1621,7,0,明,熹宗,朱同校,天启,1628,17,0,明,毅宗,朱由检,崇祯,1644,18,0,清,世祖,爱新觉罗福临,顺治,1662,61,0,清,圣祖,爱新觉罗玄烨,康熙,1723,13,0,清,世宗,爱新觉罗胤禛,雍正,1736,60,0,清,高宗,爱新觉罗弘历,乾隆,1796,25,0,清,仁宗,爱新觉罗颙琰,嘉庆,1821,30,0,清,宣宗,爱新觉罗旻宁,道光,1851,11,0,清,文宗,爱新觉罗奕詝,咸丰,';
        JNs+='1862,13,0,清,穆宗,爱新觉罗载淳,同治,1875,34,0,清,德宗,爱新觉罗载湉,光绪,1909,3,0,清,末帝,爱新觉罗溥仪,宣统,1912,15,0,中华,北洋军阀,,民国,1927,9999,15,,,,民国,1949,9999,0,,,,共和';
        JNs = JNs.split(',');
        for(i=0;i<JNs.length;i+=7) { JNs[i]-=0; JNs[i+1]-=0; JNs[i+2]-=0; }
        function getNH(y){ //取年号
            var i,j,k,c;
            this.nh = this.nh2 = '';
            for(i=0;i<JNs.length;i+=7){
                j = JNs[i];
                if(y<j||y>=j+JNs[i+1]) continue;
                c = JNs[i+3];//朝代
                k = JNs[i+6]+(y-j+1+JNs[i+2])+'年'; //年号及年次
                this.nh = c+k;
                this.nh2 += c+JNs[i+4]+' '+JNs[i+5]+' '+k + '; '; //i为年号元年,i+3朝代,i+4朝号,i+5皇帝,i+6年号
            }
        }

        /*********************************
         =====以下是公历、农历、回历综合日历计算=====

         Lunar：日历计算物件

         使用条件：事先引用eph.js、JN.js、kwb.js三个文件

         一、 calc:function(getJD,jing)方法
         ·功能：
         农历排月序计算,可定出农历基本信息(如大小月、闰月、合朔等)
         ·入口参数：
         jd是J2000.0起算的儒略日数TD，使用UT也可以
         jing=1表示精算合朔及节气时刻
         jing=0则是精算，但在日期临界时精算
         ·返回：
         leap  闰月位置(即置闰的月序号),0表示不置闰
         ym    数组，各月名称，共12或13个有效月分
         ZQ:   数组，节气表(整数儒略日)，25个有效，整数儒略日对应该日的12:00:00
         HS    数组，合朔表(整数儒略日)，15个有效，整数儒略日对应该日的12:00:00
         dx    数组，14个有效
         nu    数组，闰月情况，14个有效
         ZQ.mangzhong 芒种儒略日，计算入梅用到
         ZQ.xiaoshu   小暑儒略日，计算出梅用到
         ZQ.liqiu     立秋儒略日，计算三伏用到
         ZQ.lichun    立春儒略日，计算纪年用到

         二、Lunar.calc2(By,Bm,sw)方法
         ·功能：
         计算某一个月的“公历、农历、回历”三合历
         ·入口参数：
         By是年(公历)
         Bm是月(公历)
         sw表示是否计算月相及节气时刻。
         ·返回：
         结果返回在Lunar.lun中，它是一个数组，以下说明简写为lun，它包含完整的公历一个月的信息。
         lun[0]是本月第一天信息，lun[2]为第二天，其余类推。
         lun中的各元数下文记作ob。
         ·注意：
         此函数被调用时,Lunar.calc()被执行
         ·公历月信息
         lun.w0  本月第一天的星期
         lun.y   公历年份
         lun.m   公历月分
         lun.d0  月首的J2000.0起算的儒略日数
         lun.dn  本月的天数
         lun.Ly  该年的干支纪年
         lun.ShX 该年的生肖
         lun.nianhao.nh 年号
         lun.nianhao.nh2 年号详细
         ·各日公历信息
         ob.d0   2000.0起算儒略日,北京时12:00
         ob.di   所在公历月内日序数
         ob.y    所在公历年,同lun.y
         ob.m    所在公历月,同lun.m
         ob.d    日名称(公历)
         ob.dn   所在公历月的总天数,同lun.d0
         ob.week0所在月的月首的星期,同lun.w0
         ob.week 星期
         ob.weeki在本月中的周序号
         ob.weekN本月的总周数
         ·各日农历信息
         ob.Ldi  距农历月首的编移量,0对应初一
         ob.Ldc  日名称(农历)
         ob.cur_dz 距冬至的天数
         ob.cur_xz 距夏至的天数
         ob.cur_lq 距立秋的天数
         ob.cur_mz 距芒种的天数
         ob.cur_xs 距小暑的天数
         ob.Lmc  月名称
         ob.Ldn  月大小
         ob.Lleap闰状况(值为'闰'或空串)
         ob.Lmc2 下个月名称,判断除夕时要用到
         ·各日的农历纪年、月、日、时及星次
         ob.Lyear  农历纪年(10进制,1984年起算,分界点可以是立春也可以是春节,在程序中选择一个)
         ob.Lyear2 干支纪年
         ob.Lmonth  纪月处理,1998年12月7日(大雪)开始连续进行节气计数,0为甲子
         ob.Lmonth2 干支纪月
         ob.Lday2  纪日
         ob.Ltime2 纪时
         ob.XiZ 星次
         ·各日节日信息
         ob.A 重要喜庆日子名称(可将日子名称置红)
         ob.B 重要日子名称
         ob.C 各种日子名称(连成一大串)
         ob.Fjia 放假日子(可用于日期数字置红)
         ·各日回历信息
         ob.Hyear  年(回历)
         ob.Hmonth 月(回历)
         ob.Hday   日(回历)
         ·其它信息,sw=1时有效
         ob.yxmc 月相名称
         ob.yxjd 月相时刻(儒略日)
         ob.yxsj 月相时间串
         ob.jqmc 节气名称
         ob.jqjd 节气时刻(儒略日)
         ob.jqsj 节气时间串
         **********************************/

        /************************
         第一部分：古代日历生成
         适用范围 -103年2月22日——1959年12月
         平气平朔计算使用古历参数进行计算
         定朔、定气计算使用开普勒椭圆轨道计算，同时考虑了光行差和力学时与UT1的时间差
         古代历算仅在晚期才使用开普勒方法计算，此前多采用一些修正表并插值得到，精度很低，与本程序中
         的开普勒方法存在误差，造成朔日计算错误1千多个，这些错误使用一个修正表进行订正。同样，定气部分
         也使用了相同的方法时行订正。
         suo_high()与qi_high()依赖外部星历函数
         *************************/
        function qiSuo_jieya(s){ //气朔解压缩
            s=s.replace(/J/g,'00');
            s=s.replace(/I/g,'000');
            s=s.replace(/H/g,'0000');
            s=s.replace(/G/g,'00000');

            s=s.replace(/t/g,'02');
            s=s.replace(/s/g,'002');
            s=s.replace(/r/g,'0002');
            s=s.replace(/q/g,'00002');
            s=s.replace(/p/g,'000002');
            s=s.replace(/o/g,'0000002');
            s=s.replace(/n/g,'00000002');
            s=s.replace(/m/g,'000000002');
            s=s.replace(/l/g,'0000000002');

            s=s.replace(/k/g,'01');
            s=s.replace(/j/g,'0101');
            s=s.replace(/i/g,'001');
            s=s.replace(/h/g,'001001');
            s=s.replace(/g/g,'0001');
            s=s.replace(/f/g,'00001');
            s=s.replace(/e/g,'000001');
            s=s.replace(/d/g,'0000001');
            s=s.replace(/c/g,'00000001');
            s=s.replace(/b/g,'000000001');
            s=s.replace(/a/g,'0000000001');

            var o="0000000000",o2=o+o;
            s=s.replace(/A/g,o2+o2+o2);
            s=s.replace(/B/g,o2+o2+o);
            s=s.replace(/C/g,o2+o2);
            s=s.replace(/D/g,o2+o);
            s=s.replace(/E/g,o2);
            s=s.replace(/F/g,o);
            return s;
        }

        //气朔日期计算公式：D = k*n + b  , 式中n=0,1,2,3,...,N-1, N为该式适用的范围
        //h表示k不变b允许的误差,如果b不变则k许可误差为h/N
        //每行第1个参数为k,第2参数为b

        //朔直线拟合参数
        var suoKB=Array(

            1457698.231017,29.53067166, // -721-12-17 h=0.00032 古历·春秋
            1546082.512234,29.53085106, // -479-12-11 h=0.00053 古历·战国
            1640640.735300,29.53060000, // -221-10-31 h=0.01010 古历·秦汉
            1642472.151543,29.53085439, // -216-11-04 h=0.00040 古历·秦汉

            1683430.509300,29.53086148, // -104-12-25 h=0.00313 汉书·律历志(太初历)平气平朔
            1752148.041079,29.53085097, //   85-02-13 h=0.00049 後汉书·律历志(四分历)
            1807665.420323,29.53059851, //  237-02-12 h=0.00033 晋书·律历志(景初历)
            1883618.114100,29.53060000, //  445-01-24 h=0.00030 宋书·律历志(何承天元嘉历)
            1907360.704700,29.53060000, //  510-01-26 h=0.00030 宋书·律历志(祖冲之大明历)
            1936596.224900,29.53060000, //  590-02-10 h=0.01010 随书·律历志(开皇历)
            1939135.675300,29.53060000, //  597-01-24 h=0.00890 随书·律历志(大业历)
            1947168.00//  619-01-21
        );
        //气直线拟合参数
        var qiKB=Array(
            1640650.479938,15.21842500, // -221-11-09 h=0.01709 古历·秦汉
            1642476.703182,15.21874996, // -216-11-09 h=0.01557 古历·秦汉

            1683430.515601,15.218750011, // -104-12-25 h=0.01560 汉书·律历志(太初历)平气平朔 回归年=365.25000
            1752157.640664,15.218749978, //   85-02-23 h=0.01559 後汉书·律历志(四分历) 回归年=365.25000
            1807675.003759,15.218620279, //  237-02-22 h=0.00010 晋书·律历志(景初历) 回归年=365.24689
            1883627.765182,15.218612292, //  445-02-03 h=0.00026 宋书·律历志(何承天元嘉历) 回归年=365.24670
            1907369.128100,15.218449176, //  510-02-03 h=0.00027 宋书·律历志(祖冲之大明历) 回归年=365.24278
            1936603.140413,15.218425000, //  590-02-17 h=0.00149 随书·律历志(开皇历) 回归年=365.24220
            1939145.524180,15.218466998, //  597-02-03 h=0.00121 随书·律历志(大业历) 回归年=365.24321
            1947180.798300,15.218524844, //  619-02-03 h=0.00052 新唐书·历志(戊寅元历)平气定朔 回归年=365.24460
            1964362.041824,15.218533526, //  666-02-17 h=0.00059 新唐书·历志(麟德历) 回归年=365.24480
            1987372.340971,15.218513908, //  729-02-16 h=0.00096 新唐书·历志(大衍历,至德历) 回归年=365.24433
            1999653.819126,15.218530782, //  762-10-03 h=0.00093 新唐书·历志(五纪历) 回归年=365.24474
            2007445.469786,15.218535181, //  784-02-01 h=0.00059 新唐书·历志(正元历,观象历) 回归年=365.24484
            2021324.917146,15.218526248, //  822-02-01 h=0.00022 新唐书·历志(宣明历) 回归年=365.24463
            2047257.232342,15.218519654, //  893-01-31 h=0.00015 新唐书·历志(崇玄历) 回归年=365.24447
            2070282.898213,15.218425000, //  956-02-16 h=0.00149 旧五代·历志(钦天历) 回归年=365.24220
            2073204.872850,15.218515221, //  964-02-16 h=0.00166 宋史·律历志(应天历) 回归年=365.24437
            2080144.500926,15.218530782, //  983-02-16 h=0.00093 宋史·律历志(乾元历) 回归年=365.24474
            2086703.688963,15.218523776, // 1001-01-31 h=0.00067 宋史·律历志(仪天历,崇天历) 回归年=365.24457
            2110033.182763,15.218425000, // 1064-12-15 h=0.00669 宋史·律历志(明天历) 回归年=365.24220
            2111190.300888,15.218425000, // 1068-02-15 h=0.00149 宋史·律历志(崇天历) 回归年=365.24220
            2113731.271005,15.218515671, // 1075-01-30 h=0.00038 李锐补修(奉元历) 回归年=365.24438
            2120670.840263,15.218425000, // 1094-01-30 h=0.00149 宋史·律历志 回归年=365.24220
            2123973.309063,15.218425000, // 1103-02-14 h=0.00669 李锐补修(占天历) 回归年=365.24220
            2125068.997336,15.218477932, // 1106-02-14 h=0.00056 宋史·律历志(纪元历) 回归年=365.24347
            2136026.312633,15.218472436, // 1136-02-14 h=0.00088 宋史·律历志(统元历,乾道历,淳熙历) 回归年=365.24334
            2156099.495538,15.218425000, // 1191-01-29 h=0.00149 宋史·律历志(会元历) 回归年=365.24220
            2159021.324663,15.218425000, // 1199-01-29 h=0.00149 宋史·律历志(统天历) 回归年=365.24220
            2162308.575254,15.218461742, // 1208-01-30 h=0.00146 宋史·律历志(开禧历) 回归年=365.24308
            2178485.706538,15.218425000, // 1252-05-15 h=0.04606 淳祐历 回归年=365.24220
            2178759.662849,15.218445786, // 1253-02-13 h=0.00231 会天历 回归年=365.24270
            2185334.020800,15.218425000, // 1271-02-13 h=0.00520 宋史·律历志(成天历) 回归年=365.24220
            2187525.481425,15.218425000, // 1277-02-12 h=0.00520 本天历 回归年=365.24220
            2188621.191481,15.218437484, // 1280-02-13 h=0.00013 元史·历志(郭守敬授时历) 回归年=365.24250
            2321919.49// 1645-02-04
        );

        //  619-01-21开始16598个朔日修正表 d0=1947168
        suoS ="EqoFscDcrFpmEsF2DfFideFelFpFfFfFiaipqti1ksttikptikqckstekqttgkqttgkqteksttikptikq2fjstgjqttjkqttgkqt";
        suoS+="ekstfkptikq2tijstgjiFkirFsAeACoFsiDaDiADc1AFbBfgdfikijFifegF1FhaikgFag1E2btaieeibggiffdeigFfqDfaiBkF";
        suoS+="1kEaikhkigeidhhdiegcFfakF1ggkidbiaedksaFffckekidhhdhdikcikiakicjF1deedFhFccgicdekgiFbiaikcfi1kbFibef";
        suoS+="gEgFdcFkFeFkdcfkF1kfkcickEiFkDacFiEfbiaejcFfffkhkdgkaiei1ehigikhdFikfckF1dhhdikcfgjikhfjicjicgiehdik";
        suoS+="cikggcifgiejF1jkieFhegikggcikFegiegkfjebhigikggcikdgkaFkijcfkcikfkcifikiggkaeeigefkcdfcfkhkdgkegieid";
        suoS+="hijcFfakhfgeidieidiegikhfkfckfcjbdehdikggikgkfkicjicjF1dbidikFiggcifgiejkiegkigcdiegfggcikdbgfgefjF1";
        suoS+="kfegikggcikdgFkeeijcfkcikfkekcikdgkabhkFikaffcfkhkdgkegbiaekfkiakicjhfgqdq2fkiakgkfkhfkfcjiekgFebicg";
        suoS+="gbedF1jikejbbbiakgbgkacgiejkijjgigfiakggfggcibFifjefjF1kfekdgjcibFeFkijcfkfhkfkeaieigekgbhkfikidfcje";
        suoS+="aibgekgdkiffiffkiakF1jhbakgdki1dj1ikfkicjicjieeFkgdkicggkighdF1jfgkgfgbdkicggfggkidFkiekgijkeigfiski";
        suoS+="ggfaidheigF1jekijcikickiggkidhhdbgcfkFikikhkigeidieFikggikhkffaffijhidhhakgdkhkijF1kiakF1kfheakgdkif";
        suoS+="iggkigicjiejkieedikgdfcggkigieeiejfgkgkigbgikicggkiaideeijkefjeijikhkiggkiaidheigcikaikffikijgkiahi1";
        suoS+="hhdikgjfifaakekighie1hiaikggikhkffakicjhiahaikggikhkijF1kfejfeFhidikggiffiggkigicjiekgieeigikggiffig";
        suoS+="gkidheigkgfjkeigiegikifiggkidhedeijcfkFikikhkiggkidhh1ehigcikaffkhkiggkidhh1hhigikekfiFkFikcidhh1hit";
        suoS+="cikggikhkfkicjicghiediaikggikhkijbjfejfeFhaikggifikiggkigiejkikgkgieeigikggiffiggkigieeigekijcijikgg";
        suoS+="ifikiggkideedeijkefkfckikhkiggkidhh1ehijcikaffkhkiggkidhh1hhigikhkikFikfckcidhh1hiaikgjikhfjicjicgie";
        suoS+="hdikcikggifikigiejfejkieFhegikggifikiggfghigkfjeijkhigikggifikiggkigieeijcijcikfksikifikiggkidehdeij";
        suoS+="cfdckikhkiggkhghh1ehijikifffffkhsFngErD1pAfBoDd1BlEtFqA2AqoEpDqElAEsEeB2BmADlDkqBtC1FnEpDqnEmFsFsAFn";
        suoS+="llBbFmDsDiCtDmAB2BmtCgpEplCpAEiBiEoFqFtEqsDcCnFtADnFlEgdkEgmEtEsCtDmADqFtAFrAtEcCqAE1BoFqC1F1DrFtBmF";
        suoS+="tAC2ACnFaoCgADcADcCcFfoFtDlAFgmFqBq2bpEoAEmkqnEeCtAE1bAEqgDfFfCrgEcBrACfAAABqAAB1AAClEnFeCtCgAADqDoB";
        suoS+="mtAAACbFiAAADsEtBqAB2FsDqpFqEmFsCeDtFlCeDtoEpClEqAAFrAFoCgFmFsFqEnAEcCqFeCtFtEnAEeFtAAEkFnErAABbFkAD";
        suoS+="nAAeCtFeAfBoAEpFtAABtFqAApDcCGJ";
        //1645-02-03开始7582个节气修正表
        qiS ="EmcFs22AFsckF2tsDtFqEtF1posFdFgiFseFtmelpsEfhkF2anmelpFlF1ikrotcnEqEq2FfqmcDsrFor22FgFrcgDscFs22FgEe";
        qiS+="FtE2sfFs22sCoEsaF2tsD1FpeE2eFsssEciFsFnmelpFcFhkF2tcnEqEpFgkrotcnEqrEtFermcDsrE222FgBmcmr22DaEfnaF22";
        qiS+="2sD1FpeForeF2tssEfiFpEoeFssD1iFstEqFppDgFstcnEqEpFg11FscnEqrAoAF2ClAEsDmDtCtBaDlAFbAEpAAAAAD2FgBiBqo";
        qiS+="BbnBaBoAAAAAAAEgDqAdBqAFrBaBoACdAAf1AACgAAAeBbCamDgEifAE2AABa1C1BgFdiAAACoCeE1ADiEifDaAEqAAFe1AcFbcA";
        qiS+="AAAAF1iFaAAACpACmFmAAAAAAAACrDaAAADG0";

        suoS = qiSuo_jieya(suoS); //定朔修正表解压
        qiS  = qiSuo_jieya(qiS); //定朔修正表解压

        //低精度定气朔计算(仍比古代日历精准很多)
        function suo_low(W){ //低精度定朔计算,在2000年至600，误差在2小时以内
            var v = 7771.37714500204;
            var t  = ( W + 1.08472 )/v, L;
            t -= ( -0.0000331*t*t
                    + 0.10976 *Math.cos( 0.785 + 8328.6914*t)
                    + 0.02224 *Math.cos( 0.187 + 7214.0629*t)
                    - 0.03342 *Math.cos( 4.669 +  628.3076*t ) )/v
                + (32*(t+1.8)*(t+1.8)-20)/86400/36525;
            return t*36525 + 8/24;
        }
        function qi_low(W){ //最大误差小于30分钟，平均5分
            var t,L,v= 628.3319653318;
            t =  ( W - 4.895062166 )/v; //第一次估算,误差2天以内
            t -= ( 53*t*t + 334116*Math.cos( 4.67+628.307585*t) + 2061*Math.cos( 2.678+628.3076*t)*t )/v/10000000; //第二次估算,误差2小时以内

            L = 48950621.66 + 6283319653.318*t + 53*t*t //平黄经
                +334166 * Math.cos( 4.669257+  628.307585*t) //地球椭圆轨道级数展开
                +3489 * Math.cos( 4.6261  + 1256.61517*t ) //地球椭圆轨道级数展开
                +2060.6 * Math.cos( 2.67823 +  628.307585*t ) * t //一次泊松项
                - 994 - 834*Math.sin(2.1824-33.75705*t); //光行差与章动修正

            t -= (L/10000000 -W )/628.332 + (32*(t+1.8)*(t+1.8)-20)/86400/36525;
            return t*36525 + 8/24;
        }
        function qi_high(W){ //较高精度气
            var t = XL.S_aLon_t2(W)*36525;
            t = t - JD.deltatT2(t);
            var v = ( (t+0.5) %1 ) * 86400;
            if(v<600 || v >86400-600) t = XL.S_aLon_t(W)*36525 - JD.deltatT2(t);
            return  t + 8/24;
        }
        function suo_high(W){ //较高精度朔
            var t = XL.MS_aLon_t2(W)*36525;
            t = t - JD.deltatT2(t);
            var v = ( (t+0.5) %1 ) * 86400;
            if(v<600 || v >86400-600) t = XL.MS_aLon_t(W)*36525 - JD.deltatT2(t);
            return  t + 8/24;
        }
        function getQS1(getJD,qs){ //jd应靠近所要取得的气朔日,qs='气'时，算节气的儒略日
            jd += 2451545;
            var i,D,n;
            var B=suoKB,pc=14; if(qs=='气') B=qiKB,pc=7;
            var f1=B[0]-pc, f2=B[B.length-1]-pc, f3=2436935;

            if( jd<f1 || jd>=f3 ){ //平气朔表中首个之前，使用现代天文算法。1960.1.1以後，使用现代天文算法
                if(qs=='气') return Math.floor( qi_high ( Math.floor((jd+pc-2451259)/365.2422*24) * Math.PI/12 ) +0.5 ); //2451259是1999.3.21,太阳视黄经为0,春分.定气计算
                else         return Math.floor( suo_high( Math.floor((jd+pc-2451551)/29.5306) * Math.PI*2 )      +0.5 ); //2451551是2000.1.7的那个朔日,黄经差为0.定朔计算
            }

            if( jd>=f1 && jd<f2 ) { //平气或平朔
                for(i=0;i<B.length;i+=2)  if(jd+pc<B[i+2]) break;
                D = B[i] + B[i+1] * Math.floor( (jd+pc-B[i])/B[i+1] );
                D = Math.floor(D+0.5);
                if(D==1683460) D++; //如果使用太初历计算-103年1月24日的朔日,结果得到的是23日,这里修正为24日(实历)。修正後仍不影响-103的无中置闰。如果使用秦汉历，得到的是24日，本行D不会被执行。
                return D-2451545;;
            }

            if( jd>=f2 && jd<f3){ //定气或定朔
                if(qs=='气'){
                    D = Math.floor( qi_low( Math.floor((jd+pc-2451259)/365.2422*24) * Math.PI/12 ) +0.5 ); //2451259是1999.3.21,太阳视黄经为0,春分.定气计算
                    n = qiS.substr( Math.floor((jd-f2)/365.2422*24),1 ); //找定气修正值
                }else{
                    D = Math.floor( suo_low( Math.floor((jd+pc-2451551)/29.5306) * Math.PI*2 )     +0.5 ); //2451551是2000.1.7的那个朔日,黄经差为0.定朔计算
                    n = suoS.substr( Math.floor((jd-f2)/29.5306),1 ); //找定朔修正值
                }
                if(n=="1") return D+1;
                if(n=="2") return D-1;
                return D;
            }
        }

        //===============气朔时刻精算=======================
        function qi_accurate(W)  { var t=XL.S_aLon_t(W)*36525;  return t - JD.deltatT2(t) + 8/24; } //精气
        function suo_accurate(W) { var t=XL.MS_aLon_t(W)*36525; return t - JD.deltatT2(t) + 8/24; } //精朔
        function qi_accurate2(getJD)  { return qi_accurate  ( Math.floor((jd+293)/365.2422*24) * Math.PI/12 ); } //精气
        function suo_accurate2(getJD) { return suo_accurate ( Math.floor((jd+8)/29.5306) * Math.PI*2 ); } //精朔

        Lunar={
            Gan:new Array("甲","乙","丙","丁","戊","己","庚","辛","壬","癸"),
            Zhi:new Array("子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"),
            ShX:new Array("鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"),
            XiZ:new Array('星纪','玄枵','娵訾','降娄','大梁','实沈','鹑首','鹑火','鹑尾','寿星','大火','析木'),
            yxmc:new Array("朔","上弦","望","下弦"), //月相名称表
            jqmc:new Array('冬至','小寒','大寒','立春','雨水','惊蛰','春分','清明','谷雨','立夏','小满','芒种','夏至','小暑','大暑','立秋','处暑','白露','秋分','寒露','霜降','立冬','小雪','大雪'),
            ymc:new Array('冬','腊','正','二','三','四','五','六','七','八','九','十'), //月名称,建寅
            rmc:new Array('初一','初二','初三','初四','初五','初六','初七','初八','初九','初十','十一','十二','十三','十四','十五','十六','十七','十八','十九','二十','廿一','廿二','廿三','廿四','廿五','廿六','廿七','廿八','廿九','三十','卅一'),
            Weeks:new Array('日','一','二','三','四','五','六','七','八','九','十'),

            //在调用calc()或calc2()後得到以下数据
            leap:0, //闰月位置
            ym:new Array(), //各月名称
            ZQ:new Array(), //中气表,其中.liqiu是节气立秋的儒略日,计算三伏时用到
            HS:new Array(), //合朔表
            dx:new Array(), //各月大小
            nu:new Array(), //闰月情况

            lun:new Array(),//月历数组,在调用calc2()之後得到

            calc:function(getJD){ //农历排月序计算,可定出农历,有效范围：两个冬至之间(冬至一 <= d < 冬至二)
                var A=this.ZQ, B=this.HS; //中气表,日月合朔表(整日)
                var i, k, W, w;

                //该年的中气
                W = int2( (jd-355+183)/365.2422 )*365.2422+355; //355是2000.12冬至,得到较靠近jd的冬至估计值
                if(getQS1(W,'气')>jd) W-=365.2422;
                for(i=0;i<25;i++) A[i]=getQS1(W+15.2184*i,'气'); //25个节气时刻(北京时间),从冬至开始到下一个冬至以後

                A.mangzhong=A[11], A.xiaoshu=A[13], A.liqiu=A[15], A.lichun=A[3]; //保存芒种,小暑,立秋,立春

                //今年"首朔"的日月黄经差w
                w = getQS1(A[0],'朔'); //求较靠近冬至的朔日
                if(w>A[0]) w -= 29.53;

                //该年所有朔,包含14个月的始末
                for(i=0;i<15;i++) B[i]=getQS1(w+29.5306*i,'朔');

                //月大小
                this.leap = 0;
                for(i=0;i<14;i++){
                    this.dx[i] = this.HS[i+1]-this.HS[i]; //月大小
                    this.ym[i]=i; //月序初始化
                    this.nu[i]=''; //闰初始化
                }

                //-721年至-104年的後九月及月建问题,与朔有关，与气无关
                var YY = int2( (this.ZQ[0]+10 +180)/365.2422) + 2000; //确定年份
                if( YY>=-721 && YY <=-104 ){
                    var ly,b0,k0,lName,x0; //ly为历元(本历首月的儒略数),x0月建,lName闰月名称,b0,k0为置闰拟合参数
                    if(YY>=-721) ly=1457698-J2000, k0=12.368422, b0=0.342, lName='十三', x0=2; //春秋历,ly为-722.12.17
                    if(YY>=-479) ly=1546083-J2000, k0=12.368422, b0=0.500, lName='十三', x0=2; //战国历,ly为-480.12.11
                    if(YY>=-220) ly=1640641-J2000, k0=12.369000, b0=0.866, lName='後九', x0=11; //秦汉历,ly为-221.10.31;
                    nY = int2( (this.HS[0]-ly+100)/365.25 ); //年积数
                    var f1 = int2(b0+nY*k0), f2 = int2(b0+nY*k0+k0), f3; //f1有本年首的月积数,f2为下一年首的月积数
                    f1 = int2(f1); f2 = int2(f2);
                    for(i=0;i<14;i++){
                        f3 = int2( (this.HS[i]-ly+15)/29.5306 ); //该月积数
                        if(f3 < f2) f3 -= f1;  else f3 -= f2;
                        if(f3 < 12) this.ym[i] = this.ymc[(f3+x0)%12]; else this.ym[i] = lName;
                    }
                    return;
                }

                //无中气置闰法确定闰月,(气朔结合法,数据源需有冬至开始的的气和朔)
                if( B[13] <= A[24] ){ //第13月的月末没有超过冬至(不含冬至),说明今年含有13个月
                    for(i=1; B[i+1]>A[2*i] && i<13; i++); //在13个月中找第1个没有中气的月份
                    this.leap = i;
                    for(;i<14;i++) this.ym[i]--;
                }

                //名称转换(月建别名)
                for(i=0;i<14;i++){
                    var Dm = this.HS[i]+J2000, v2=this.ym[i]; //Dm初一的儒略日,v2为月建序号
                    var mc = this.ymc[v2%12]; //月建对应的默认月名称：建子冬，建亥十，建寅为正……
                    if     ( Dm>=1724360 && Dm<=1729794 ) mc = this.ymc[(v2+1)%12]; //  8.01.15至 23.12.02 建子为腊月,其它顺推
                    else if( Dm>=1807724 && Dm<=1808699 ) mc = this.ymc[(v2+1)%12]; //237.04.12至239.12.13 建子为腊月,其它顺推
                    else if( Dm>=1999349 && Dm<=1999467 ) mc = this.ymc[(v2+2)%12]; //761.12.02至762.03.30 建子为正月,其它顺推
                    else if( Dm>=1973067 && Dm<=1977112 ){if(v2%12==0) mc="正"; if(v2==2) mc='一';} //689.12.18至701.01.14 建子为正月,建寅为一月,其它不变

                    if(Dm==1729794||Dm==1808699) mc='拾贰'; //239.12.13及23.12.02均为十二月,为避免两个连续十二月，此处改名

                    this.ym[i]=mc;
                    if((i==this.leap) && i) this.nu[i]='闰'; else this.nu[i]='';
                }
            },
            calc2:function(By,Bm,sw){ //返回公历某一个月的'公农回'三合历
                var i,j,k,c,Bd0,Bdn,lun=this.lun;
                if(!this.lun.length) { for(var i=0;i<31;i++) this.lun[i] = new Array(); }

                //日历物件初始化
                JD.h=12, JD.m=0, JD.s=0.1;
                JD.Y=By; JD.M=Bm; JD.D=1;          Bd0 = int2(JD.toJD()) - J2000; //公历月首,中午
                JD.M++; if(JD.M>12) JD.Y++,JD.M=1; Bdn = int2(JD.toJD()) - J2000 - Bd0; //本月天数(公历)

                lun.w0= (Bd0 + J2000 +1)%7; //本月第一天的星期
                lun.y = By; //公历年份
                lun.m = Bm; //公历月分
                lun.d0 =Bd0;
                lun.dn= Bdn;

                //所属公历年对应的农历干支纪年
                c = int2((Bd0-Bm*30+150)/365.2422) + 16 + 9000;
                lun.Ly  = Lunar.Gan[c%10]+Lunar.Zhi[c%12]; //干支纪年
                lun.ShX = Lunar.ShX[c%12]; //该年对应的生肖

                //年号纪年处理
                lun.nianhao = new getNH(lun.y);

                var D,w,ob,ob2;

                //提取各日信息

                for(i=0,j=0;i<Bdn;i++){
                    ob = lun[i];
                    ob.d0 = Bd0+i; //儒略日,北京时12:00
                    ob.di = i; //公历月内日序数
                    ob.y  = By; //公历年
                    ob.m  = Bm; //公历月
                    ob.dn = Bdn; //公历月天数
                    ob.week0 = lun.w0; //月首的星期
                    ob.week  = (lun.w0+i)%7; //当前日的星期
                    ob.weeki = int2((lun.w0+i)/7); //本日所在的周序号
                    ob.weekN = int2((lun.w0+Bdn-1)/7) + 1; //本月的总周数
                    JD.setFromJD(ob.d0+J2000); ob.d = JD.D; //公历日名称

                    //农历月历
                    if(!this.ZQ.length || ob.d0<this.ZQ[0] || ob.d0>=this.ZQ[24]) //如果d0已在计算农历范围内则不再计算
                        this.calc(ob.d0);
                    var mk = int2( (ob.d0-this.HS[0])/30 );  if(mk<13 && this.HS[mk+1]<=ob.d0) mk++; //农历所在月的序数

                    ob.Ldi = ob.d0 - this.HS[mk]; //距农历月首的编移量,0对应初一
                    ob.Ldc = this.rmc[ob.Ldi]; //农历日名称
                    ob.cur_dz = ob.d0-this.ZQ[0]; //距冬至的天数
                    ob.cur_xz = ob.d0-this.ZQ[12]; //距夏至的天数
                    ob.cur_lq = ob.d0-this.ZQ.liqiu;//距立秋的天数
                    ob.cur_mz = ob.d0-this.ZQ.mangzhong;//距芒种的天数
                    ob.cur_xs = ob.d0-this.ZQ.xiaoshu; //距小暑的天数
                    if(ob.d0==this.HS[mk]||ob.d0==Bd0){ //月的信息
                        ob.Lmc  = this.ym[mk]; //月名称
                        ob.Ldn  = this.dx[mk]; //月大小
                        ob.Lleap= this.nu[mk]; //闰状况
                        ob.Lmc2 = mk<13?this.ym[mk+1]:"未知"; //下个月名称,判断除夕时要用到
                    }else{
                        ob2=this.lun[i-1];
                        ob.Lmc  = ob2.Lmc,   ob.Ldn  = ob2.Ldn;
                        ob.Lleap= ob2.Lleap, ob.Lmc2 = ob2.Lmc2;
                    }
                    var qk=int2( (ob.d0-this.ZQ[0]-7)/15.2184 ); if(qk<23 && ob.d0>=this.ZQ[qk+1]) qk++; //节气的取值范围是0-23
                    if(ob.d0==this.ZQ[qk]) ob.Ljq=this.jqmc[qk];
                    else ob.Ljq='';

                    ob.yxmc = ob.yxjd = ob.yxsj ='';//月相名称,月相时刻(儒略日),月相时间串
                    ob.jqmc = ob.jqjd = ob.jqsj ='';//定气名称,节气时刻(儒略日),节气时间串

                    //干支纪年处理
                    //以下被注释的两行以正月初一定年首
                    //for(j=mk;j>=0;j--) if(this.ym[j]=="正月") break;
                    //D=j<0 ? this.HS[2]-365 : this.HS[j]+5810; //该年春节与1984年平均春节(立春附近)相差天数估计
                    D = this.ZQ.lichun + (ob.d0<this.ZQ.lichun?-365:0) + 365.25*16-35; //以立春为界定纪年
                    ob.Lyear =  Math.floor(D/365.2422+0.5); //农历纪年(10进制,1984年起算)
                    D = ob.Lyear +9000;
                    ob.Lyear2 = this.Gan[D%10]+this.Zhi[D%12]; //干支纪年

                    //纪月处理,1998年12月7(大雪)开始连续进行节气计数,0为甲子
                    mk = int2( (ob.d0 - this.ZQ[0])/30.43685 );  if(mk<12 && ob.d0>=this.ZQ[2*mk+1]) mk++; //相对大雪的月数计算,mk的取值范围0-12

                    D = mk + int2( (this.ZQ[12]+390)/365.2422 )*12 + 900000; //相对于1998年12月7(大雪)的月数,900000为正数基数
                    ob.Lmonth = D%12;
                    ob.Lmonth2 = this.Gan[D%10]+this.Zhi[D%12];

                    //纪日,2000年1月7日起算
                    D = (ob.d0 - 6 + 9000000)%60;
                    ob.Lday2 = this.Gan[D%10]+this.Zhi[D%12];

                    //纪时,2000年1月2日起算
                    D = (ob.d0 - 1)*12 + 90000000;
                    for(k=0,c='';k<12;k++){
                        w = (k*2+23)%24; if(w<10) w='0'+w; c+=w+'-';
                        w =  k*2+1;      if(w<10) w='0'+w; c+=w;
                        c += this.Gan[(D+k)%10]+this.Zhi[(D+k)%12]+'时 ';
                        if(k%3==2) c+='<br>';
                    }
                    ob.Ltime2=c;

                    //节日
                    this.getDayName(ob);

                    //星次
                    mk = int2( (ob.d0-this.ZQ[0]-15)/30.43685 );  if( mk<11 && ob.d0>=this.ZQ[2*mk+2] ) mk++; //星次所在月的序数,(如果j=13,ob.d0不会超过第14号中气)
                    ob.XiZ = this.XiZ[(mk+12)%12];
                    //回历
                    this.getHuiLi(ob);
                }

                //以下是月相与节气的处理
                if(!sw) return;
                var d, xn, jd2= Bd0+JD.deltatT2(Bd0)-8/24;
                //月相查找
                w = XL.MS_aLon( jd2/36525,10,3 );
                w = int2( (w-0.78)/Math.PI*2 ) * Math.PI/2;
                do {
                    d = suo_accurate(w);
                    D = int2(d+0.5);
                    xn = int2(w/pi2*4+4000000.01)%4;
                    w += pi2/4;
                    if(D>=Bd0+Bdn) break;
                    if(D<Bd0) continue;
                    ob = this.lun[D-Bd0];
                    ob.yxmc = this.yxmc[xn]; //取得月相名称
                    ob.yxjd = d;
                    ob.yxsj = JD.timeStr(d);
                } while(D+5<Bd0+Bdn);

                //节气查找
                w = XL.S_aLon( jd2/36525, 3 );
                w = int2( (w-0.13)/pi2*24 ) *pi2/24;
                do {
                    d = qi_accurate(w);
                    D = int2(d+0.5);
                    xn = int2(w/pi2*24+24000006.01)%24;
                    w += pi2/24;
                    if(D>=Bd0+Bdn) break;
                    if(D<Bd0) continue;
                    ob = this.lun[D-Bd0];
                    ob.jqmc = this.jqmc[xn]; //取得节气名称
                    ob.jqjd = d;
                    ob.jqsj = JD.timeStr(d);
                } while(D+12<Bd0+Bdn);
            },

            getHuiLi:function(ob){ //回历计算
                //以下算法使用Excel测试得到,测试时主要关心年临界与月临界
                var z,y,m,d;
                d = ob.d0 + 503105;       z = int2((d+0.1)/10631); //10631为一周期(30年)
                d -= z*10631;             y = int2((d+0.5)/354.366); //加0.5的作用是保证闰年正确(一周中的闰年是第2,5,7,10,13,16,18,21,24,26,29年)
                d -= int2(y*354.366+0.5); m = int2((d+0.11)/29.51); //分子加0.11,分每加0.01的作用是第354或355天的的月分保持为12月(m=11)
                d -= int2(m*29.51+0.5);
                ob.Hyear = z*30+y+1;
                ob.Hmonth= m+1;
                ob.Hday  = d+1;
            },

            getDayName:function(r){ //取某日节日
                var m0=(r.m<10?'0':'')+r.m;
                var d0=(r.d<10?'0':'')+r.d;
                var i,j,s,s2,type;

                r.A = r.B = r.C = ''; r.Fjia = 0;
                if(r.week==0||r.week==6) r.Fjia = 1; //星期日或星期六放假


                //农历特殊日子
                if(r.cur_dz==0)  r.B += '冬至';
                if(r.cur_dz>=0&&r.cur_dz<81){ //数九
                    w = this.Weeks[Math.floor(r.cur_dz/9)+1];
                    if(r.cur_dz%9==0) r.B += '『'+ w +'九』 '
                    else r.C += w + '九第'+(r.cur_dz%9+1)+'天 ';
                }

                w = r.Lday2.substr(0,1);
                w2= r.Lday2.substr(1,1);
                if(r.cur_xz>20 && r.cur_xz<=30 && w=='庚') r.B += '初伏 ';
                if(r.cur_xz>30 && r.cur_xz<=40 && w=='庚') r.B += '中伏 ';
                if(r.cur_lq>0  && r.cur_lq<=10 && w=='庚') r.B += '末伏 ';
                if(r.cur_mz>0  && r.cur_mz<=10 && w=='丙') r.B += '入梅 ';
                if(r.cur_xs>0  && r.cur_xs<=12 &&w2=='未') r.B += '出梅 ';
            }
        };

        function nianLiHTML(y){ //html年历生成
            var i,j,s='', s1,s2,v;
            Lunar.calc( int2((y-2000)*365.2422+180) );
            for(i=0;i<14;i++){
                if(Lunar.HS[i+1]>Lunar.ZQ[24]) break; //已包含下一年的冬至
                s1  = Lunar.nu[i]; if(!s1) s1 = '·';
                s1 += Lunar.ym[i]; if(s1.length<3) s1 += '月';
                s1 += Lunar.dx[i]>29?'大':'小';
                s1 += ' '+JD.setFromJD_str(Lunar.HS[i]+J2000).substr(6,5);

                v = suo_accurate2(Lunar.HS[i]);
                s2 = '('+ JD.setFromJD_str(v+J2000).substr(12,8)+')';
                if(int2(v+0.5)!=Lunar.HS[i]) s2 = '<font color=red>'+s2+'</font>';
                //v=(v+0.5+J2000)%1; if(v>0.5) v=1-v; if(v<8/1440) s2 = '<u>'+s2+'</u>'; //对靠近0点的加注
                s1 += s2;

                for(j=0;j<24;j++){
                    if(Lunar.ZQ[j]<Lunar.HS[i] || Lunar.ZQ[j]>=Lunar.HS[i+1]) continue;
                    s1 += ' '+Lunar.jqmc[j]+JD.setFromJD_str(Lunar.ZQ[j]+J2000).substr(6,5);

                    v = qi_accurate2(Lunar.ZQ[j]);
                    s2 = '('+ JD.setFromJD_str(v+J2000).substr(12,8)+')';
                    if(int2(v+0.5)!=Lunar.ZQ[j]) s2 = '<font color=red>'+s2+'</font>';
                    //v=(v+0.5+J2000)%1; if(v>0.5) v=1-v; if(v<8/1440) s2 = '<u>'+s2+'</u>'; //对靠近0点的加注
                    s1 += s2;
                }
                s += s1 + '<br>';
            }
            return y+'年<br>'+s;
        }

        function nianLi2HTML(y){ //html年历生成
            var i,j,s='', s1,s2,v,v2;
            Lunar.calc( int2((y-2000)*365.2422+180) );
            for(i=0;i<14;i++){
                if(Lunar.HS[i+1]>Lunar.ZQ[24]) break; //已包含下一年的冬至
                s1  = Lunar.nu[i]; if(!s1) s1 = '·';
                s1 += Lunar.ym[i]; if(s1.length<3) s1 += '月';
                s1 += Lunar.dx[i]>29?'大':'小';
                v = Lunar.HS[i]+J2000;
                s1 += ' '+Lunar.Gan[(v+9)%10]+Lunar.Zhi[(v+1)%12];
                s1 += ' '+JD.setFromJD_str(v).substr(6,5);

                for(j=0;j<24;j++){
                    if(Lunar.ZQ[j]<Lunar.HS[i] || Lunar.ZQ[j]>=Lunar.HS[i+1]) continue;
                    v2 = Lunar.ZQ[j]+J2000;
                    s1 += ' '+Lunar.rmc[v2-v]+Lunar.Gan[(v2+9)%10]+Lunar.Zhi[(v2+1)%12];
                    s1 += Lunar.jqmc[j]+JD.setFromJD_str(Lunar.ZQ[j]+J2000).substr(6,5);
                }
                s += s1 + '<br>';
            }
            return y+'年<br>'+s;
        }

        var SQv=new Array(
            '-1200 瓜甲兰;换日线',
            '-1100 中途岛;萨摩亚',
            '-1000 夏威夷;夏威夷',
            '-0900*阿拉斯;阿拉斯',
            '-0800*提亚纳;太平洋',
            '-0700*亚历桑;美山区',
            '-0600*美中部;墨西哥',
            '-0500*波哥大;美东部',
            '-0400*大西洋;大西洋',
            '-0330 加东岸;纽芬兰',
            '-0200*大西洋;大西中',
            '-0100*维德角;亚速尔',
            '+0000 伦敦;标准时',
            '+0100 巴黎柏林;马德里',
            '+0200*开罗雅典;南非',
            '+0300*巴格达;莫斯科',
            '+0330*德黑兰;伊朗',
            '+0400*阿布达比;阿拉伯',
            '+0430*喀布尔;阿富汗',
            '+0500 塔须肯;西亚',
            '+0530 新德里;孟买',
            '+0600 阿马提;达卡',
            '+0700 雅加达;曼谷',
            '+0800 重庆;北京',
            '+0900 大阪;日本',
            '+0930 达尔文;澳洲中',
            '+1000 关岛;墨尔本',
            '+1100*马哥大;太平中',
            '+1200 斐济;威灵顿');

    </script>

</head>
<body>
<table>
    <tr><td valign=top> <table width=600>
        <tr><td class=head colspan=7> <span id=Cal2 width=100></span>
            <input id=Cal_y size=5>年<input id=Cal_m size=2>月
            <input type=button value="确定" onclick=changeAssign()>
            <input type=button onclick='changeYear(1)'  value='年▲'>
            <input type=button onclick='changeYear(0)'  value='年▼'>
            <input type=button onclick='changeMonth(1)' value='月▲'>
            <input type=button onclick='changeMonth(0)' value='月▼'>
            <input type=button onclick='changeMonth(2)' value='今日'>
        </td></tr>
        <tr bgColor=grey align=center><td>日</td><td>一</td><td>二</td><td>三</td><td>四</td><td>五</td><td>六</td></tr>
    </table>
        <div id=Cal3></div>
    </td>
        <td class=body2  width=400>
            <a href='javascript:showNH()'>历史事件</a>
            <a href='javascript:getNianli(1)'>朔节时分</a>
            <a href='javascript:getNianli(2)'>朔节干支</a>
            <a href='javascript:getLunar()'>返回</a><br>
            <span style="color:red" border=1 id=Cal4></span><br>
            <span style="color:green" id=Cal_pan></span> <span style="color:green" id=Cal5></span> <span style="color:green" id=Cal6></span>
            <b>本地时间 <span id=Clock1></span><br>
                外地时间<span id=Clock2></span><select id=Sel_dq onChange="change_dq()"></select><span id=Clock2_dq></span><br></b>
            <select id=Sel1 onChange="change(0)" style="width:80px"></select><select id=Sel2 onChange="change2()" style="width:100px"></select><br>
            站点坐标 <span id=Cal_zdzb></span> 暂停<input id=Cal_pause type=checkbox><br>
            力学时<input id=Cal_T size=20> <input type=button value="确定" onclick=zb_calc2()>
            <div id=Cal_zb></div>

        </td><td class=body2 valign=top>
            <a href='javascript:K_show(1)'>气朔计算</a><br>
            <a href='javascript:K_show(2)'>坐标计算</a><br>
            <a href='javascript:K_show(3)'>经纬度压缩</a><br>
            <a href='javascript:K_show(0)'>清空</a>
            <div id=pan_1 style='display:none'>
                年首 <input type=text size=4 id=year  value=2000>
                个数 <input type=text size=3 id=testN value=13>
                <input type=button value=定朔 onclick=dingSuo(0)>
                <input type=button value=定望 onclick=dingSuo(180)>
                <input type=button value=定气 onclick=dingQi()>
                <input type=button value=任意月相 onclick=dingSuo(-1)>
                <input type=button value=粗定气误差 onclick=dingQi_cmp()>
                <input type=button value=粗定朔误差 onclick=dingSuo_cmp()>
                <input type=button value=精算年历 onclick=getLunar2()>
            </div>
            <div id=pan_2  style='display:none'>
                <input type=text size=5 id=Iy  value=2008>年
                <input type=text size=2 id=Im  value=1>月
                <input type=text size=2 id=Id  value=1>日
                <input type=text size=2 id=Ih  value=0>时
                <input type=text size=2 id=Ii  value=0>分
                <input type=text size=2 id=Is  value=0>秒
                <a href="javascript:testDD(0);">坐标计算(TD)</a>
                <a href="javascript:testDD(1);">坐标计算(UT)</a>
                地理经度:<input type=text size=8 id=I_dlLon  value="-116.383">
                地理纬度:<input type=text size=6 id=I_dlLat  value="39.9">
                <a href="javascript:szj()">日月升降(UT)</a>
            </div>
            <div id=pan_3 style='display:none'>
                省 市 北纬(度,分) 东经(度,分) 网友<b>郑彬</b>提供 <input type=button onclick=zh() value="转换"><br>
                <textarea id=txt1 rows=10 cols=35>
北京市 北京 39 55 116 28
北京市 天安门 39 54 116 23
北京市 通州区 39 54 116 40
北京市 昌平区 40 13 116 13
北京市 顺义区 40 8 116 38
北京市 怀柔区 40 19 116 38
北京市 大兴区 39 44 116 20
北京市 平谷区 40 8 117 7
北京市 密云县 40 22 116 50
北京市 延庆县 40 28 115 58
上海市 上海 31 14 121 28
上海市 宝山区 31 25 121 29
上海市 川沙县 31 11 121 42
上海市 嘉定区 31 23 121 15
上海市 浦东新区 31 14 121 30
上海市 金山区 30 54 121 9
上海市 松江区 31 1 121 14
上海市 青浦区 31 9 121 6
上海市 南汇区 31 3 121 45
上海市 奉贤区 30 55 121 27
上海市 崇明县 31 38 121 23
浙江省 杭州 30 15 120 10
浙江省 萧山区 30 10 120 16
浙江省 余杭区 30 25 120 18
浙江省 建德市 29 29 119 17
浙江省 富阳市 30 4 119 57
浙江省 临安市 30 14 119 43
浙江省 桐庐县 29 48 119 39
浙江省 淳安县 29 37 119 2
浙江省 余杭镇 30 17 119 56
浙江省 湖州 30 52 120 6
浙江省 安吉 30 38 119 40
浙江省 长兴 31 0 119 54
浙江省 德清 30 33 120 5
浙江省 莫干山 30 36 119 52
浙江省 天荒坪 30 29 119 35
浙江省 龙王山 30 23 119 24
浙江省 宁波 29 52 121 33
浙江省 鄞州区 29 52 121 34
浙江省 镇海区 29 57 121 44
浙江省 余姚市 30 3 121 9
浙江省 慈溪市 30 11 121 14
浙江省 奉化市 29 40 121 25
浙江省 宁海县 29 17 121 25
浙江省 象山县 29 29 121 53
浙江省 椒江 28 40 121 26
浙江省 大陈镇 28 27 121 54
浙江省 黄岩 28 39 121 15
浙江省 院桥镇 28 33 121 15
浙江省 沙埠镇 28 34 121 12
浙江省 北洋镇 28 37 121 6
浙江省 头陀镇 28 38 121 9
浙江省 屿头镇 28 38 121 0
浙江省 宁溪镇 28 35 120 58
浙江省 路桥 28 35 121 22
浙江省 金清镇 28 30 121 31
浙江省 蓬街镇 28 33 121 29
浙江省 新桥镇 28 31 121 25
浙江省 横街镇 28 32 121 26
浙江省 临海 28 50 121 6
浙江省 杜桥镇 28 46 121 30
浙江省 白水洋镇 28 54 120 54
浙江省 汛桥镇 28 48 121 10
浙江省 桃渚镇 28 50 121 35
浙江省 东塍镇 28 56 121 16
浙江省 沿江镇 28 46 121 14
浙江省 扩苍镇 28 51 120 59
浙江省 涌泉镇 28 46 121 19
浙江省 小芝镇 28 51 121 27
浙江省 上盘镇 28 45 121 35
浙江省 尤溪镇 28 44 121 6
浙江省 河头镇 28 60 121 6
浙江省 永丰镇 28 53 121 5
浙江省 汇溪镇 28 56 121 13
浙江省 红光 28 43 121 19
浙江省 两头门 28 57 121 13
浙江省 水家洋 28 45 121 14
浙江省 温岭 28 22 121 21
浙江省 泽国镇 28 30 121 22
浙江省 新河镇 28 28 121 26
浙江省 城南镇 28 20 121 25
浙江省 松门镇 28 20 121 36
浙江省 箬横镇 28 24 121 31
浙江省 石桥头镇 28 21 121 27
浙江省 石塘镇 28 16 121 36
浙江省 木耳 28 19 121 33
浙江省 沙岙 28 18 121 26
浙江省 箬山 28 17 121 36
浙江省 淋头 28 21 121 34
浙江省 玉环 28 7 121 13
浙江省 珠港镇 28 8 121 14
浙江省 楚门镇 28 13 121 18
浙江省 清港镇 28 15 121 17
浙江省 沙门镇 28 14 121 23
浙江省 大麦屿镇 28 5 121 9
浙江省 芦浦镇 28 12 121 14
浙江省 干江镇 28 10 121 21
浙江省 坎门 28 5 121 16
浙江省 天台 29 8 121 1
浙江省 三门县 29 7 121 22
浙江省 海游镇 29 8 121 22
浙江省 沙柳镇 29 9 121 24
浙江省 珠岙镇 29 4 121 17
浙江省 亭旁镇 29 3 121 21
浙江省 六敖镇 29 5 121 36
浙江省 横渡镇 29 0 121 29
浙江省 健跳镇 29 3 121 37
浙江省 浬浦镇 28 58 121 37
浙江省 花桥镇 28 55 121 29
浙江省 小雄镇 28 53 121 34
浙江省 仙居 28 51 120 44
浙江省 皤滩 28 44 120 32
浙江省 台州 28 40 121 25
福建省 福州 26 5 119 18
福建省 马尾区 26 0 119 27
福建省 福清市 25 44 119 23
福建省 长乐市 25 58 119 31
福建省 闽侯县 26 9 119 9
福建省 连江县 26 12 119 32
福建省 罗源县 26 29 119 33
福建省 闽清县 26 13 118 52
福建省 永泰县 25 52 118 56
福建省 平潭县 25 30 119 47
福建省 厦门 24 27 118 5
福建省 海沧区 24 28 117 59
福建省 集美区 24 34 118 6
福建省 同安区 24 44 118 9
福建省 莆田 25 26 119 1
福建省 莆田县 25 26 119 1
福建省 仙游县 25 22 118 41
福建省 秀屿区 25 19 119 6
福建省 泉州 24 55 118 35
福建省 泉港区 25 7 118 53
福建省 石狮市 24 44 118 38
福建省 晋江市 24 49 118 34
福建省 南安市 24 57 118 23
福建省 惠安县 25 1 118 48
福建省 安溪县 25 4 118 11
福建省 永春县 25 20 118 17
福建省 德化县 25 29 118 14
福建省 金门县 24 26 118 19
福建省 漳州 24 31 117 39
福建省 龙海市 24 26 117 49
福建省 云霄县 23 58 117 20
福建省 漳浦县 24 7 117 37
福建省 诏安县 23 42 117 10
福建省 长泰县 24 37 117 45
福建省 东山县 23 42 117 26
福建省 南靖县 24 30 117 22
福建省 平和县 24 21 117 18
福建省 华安县 24 60 117 31
福建省 南平 26 39 118 10
福建省 邵武市 27 20 117 29
福建省 武夷山市 27 45 118 2
福建省 建瓯市 27 2 118 19
福建省 建阳市 27 20 118 6
福建省 崇安县 27 46 118 1
福建省 顺昌县 26 48 117 48
福建省 浦城县 27 55 118 32
福建省 光泽县 27 32 117 20
福建省 松溪县 27 32 118 46
福建省 政和县 27 22 118 51
福建省 龙岩 25 7 117 2
福建省 漳平市 25 17 117 24
福建省 武平县 25 5 116 5
福建省 长汀县 25 50 116 21
福建省 永定县 24 43 116 43
福建省 连城县 25 43 116 45
福建省 上杭县 25 3 116 25
福建省 三明 26 13 117 36
福建省 永安市 25 58 117 22
福建省 明溪县 26 21 117 12
福建省 清流县 26 10 116 49
福建省 宁化县 26 16 116 40
福建省 大田县 25 42 117 50
福建省 尤溪县 26 10 118 11
福建省 沙县 26 24 117 47
福建省 将乐县 26 43 117 27
福建省 泰宁县 26 54 117 10
福建省 建宁县 26 50 116 50
福建省 宁德 26 40 119 31
福建省 福安市 27 5 119 39
福建省 福鼎市 27 20 120 13
福建省 霞浦县 26 53 119 59
福建省 古田县 26 35 118 44
福建省 屏南县 26 55 118 58
福建省 寿宁县 27 28 119 31
福建省 周宁县 27 7 119 20
福建省 柘荣县 27 15 119 54
江苏省 南京 32 5 118 48
江苏省 苏州 31 18 120 35
江苏省 扬州 32 23 119 26
江西省 井冈山市 26 34 114 10
安徽省 黄山 29 43 118 19
山东省 济南 36 39 116 58
山东省 泰安 36 11 117 8
山西省 太原 37 54 112 33
内蒙古 呼和浩特 40 49 111 39
黑龙江省 哈尔滨 45 45 126 37
黑龙江省 大兴安岭地区 50 26 124 8
黑龙江省 漠河县 53 29 122 20
辽宁省 沈阳 41 48 123 23
辽宁省 大连 38 57 121 35
天津市 天津 39 8 117 12
湖北省 武汉 30 34 114 17
湖北省 神农架林区 31 45 110 41
湖南省 洞庭湖 29 10 112 48
云南省 昆明 25 3 102 42
云南省 大理 25 35 100 14
海南省 海口 20 2 110 21
海南省 三亚 18 14 109 30
港澳台 香港 22 12 114 5
港澳台 澳门 22 8 113 20
港澳台 台北市 25 2 121 30
广东省 广州 23 7 113 16
广东省 深圳 22 33 114 7
广东省 珠海 22 16 113 34
广西壮族 桂林 25 17 110 17
重庆市 重庆 29 33 106 31
四川省 成都 30 40 104 4
西藏 拉萨 29 39 91 8
陕西省 西安 34 16 108 53
</textarea>
                <textarea id=txt2 rows=10 cols=35>
</textarea>
            </div>
            <div id=out></div>
        </td></tr></table>

<script language=javascript>
    //==========================
    //页面生成有关的函数
    //==========================
    /********************
     当前时间初始化
     *********************/
    var now=new Date();
    var nowY,nowM,nowD,nowJD;
    JD.Y  =nowY = now.getFullYear();
    JD.M = nowM = now.getMonth()+1;
    JD.D = nowD = now.getDate();
    JD.h = JD.m = JD.s =0;
    nowJD = int2(JD.toJD()+0.5)-2451545;
    Cal_y.value = nowY;
    Cal_m.value = nowM;

    /********************
     即时坐标计算等
     *********************/
    function shiCha(t,a,dL,E){ //时差计算
        t/=10;
        var L, t2=t*t,t3=t2*t,t4=t3*t,t5=t4*t;
        L = 1753469512 + 6283319653318*t + 529674*t2 + 432*t3 - 1124*t4 - 9*t5 + 630 * Math.cos(6+3*t);
        L = L/1000000000 + Math.PI; //太阳平黄经
        L = L - 20.5/rad - a + dL*Math.cos(E); //a是太阳视赤经
        L = rad2mrad(L);
        if(L>Math.PI) L-=pi2;
        return L;
    }
    function taiYangShi(getJD,L,c){ //转入格林尼治时间UT及本地经度及时差，c=0返回本地平太阳时，c=时差就返回真太阳时,返回的单位是弧度
        var t=jd-L/pi2+c/pi2;
        JD.setFromJD(t+J2000);
        return JD.toStr().substr(12,8);
    }

    function zb_calc(T,L,fa){ //T是力学时,站点经纬L,fa
        var s,z=new Array(),z2=new Array(),z3=new Array();
        var dt  = JD.deltatT2(T); //TD-UT
        var getJD  = T-dt; //得到J2000起算的的儒略数
        T/=36525; ZB.nutation(T); //章动计算
        var E  = ZB.hcjj(T)+ZB.dE; //真黄赤交角
        var dL = ZB.dL; //黄经章动
        var gst= ZB.gst(jd,dt) + ZB.dL*Math.cos(E); //真恒星时(不考虑非多项式部分)
        var ShiJ;

        //月球坐标测试
        XL.M_coord(T,z,-1,-1,-1); //月球坐标
        z[0]  = rad2mrad( z[0]+ZB.gxc_moonLon(T)+ZB.dL ); //补上月球光行差及章动
        z[1] += ZB.gxc_moonLat(T);

        z2[0] = z[0], z2[1] = z[1], z2[2] = z[2];
        ZB.llrConv( z2, E ); //转为赤道坐标

        ShiJ = rad2mrad(gst - L - z2[0]); //得到此刻天体时角
        if( ShiJ>Math.PI ) ShiJ -= pi2;

        z3[0] = (Math.PI/2-ShiJ); z3[1] = z2[1]; z3[2]=z2[2]/1.496e8; //转到相对于地平赤道分点的赤道坐标
        ZB.parallax(z3,ShiJ,fa,0); //视差修正
        ZB.llrConv(z3, Math.PI/2-fa ); //转到地平坐标(只改经纬度)
        z3[0] = rad2mrad( 0-Math.PI/2-z3[0] );
        if(z3[1]>0) z3[1] += ZB.AR2(z3[1]); //大气折射修正

        s  = '<b>月球的当日真分点地心坐标</b><br>';
        s += '视黄经 ' + rad2str(z[0],0);
        s += '视黄纬 ' + rad2str(z[1],0)+'<br>';
        s += '视赤经 ' + rad2str(z2[0],1);
        s += '视赤纬 ' + rad2str(z2[1],0)+'<br>';
        s += '径距离 ' + int2(z[2]+0.5)+'千米 ';
        s += '平时角 ' + rad2str(ShiJ,0) + '<br>';
        s += "方位角 " + rad2str(z3[0],0);
        s += "高度角 " + rad2str(z3[1],0) + "<br>";
        s += "亮面比例 " + ( int2(XL.moonIll(T)*100000+0.5)/1000 )+'% ';
        s += "站心视半径 " + (int2(XL.moonRad(z[2],z3[1])/60*100+0.5)/100)+"'<br>";

        XL.E_coord(T,z,-1); //地球坐标
        z[0]  = rad2mrad(z[0]+Math.PI+ZB.gxc_sunLon(T)+ZB.dL); //补上太阳光行差及章动
        z[1]  =-z[1] + ZB.gxc_sunLat(T); //z数组为太阳地心黄道视坐标

        z2[0] = z[0], z2[1] = z[1], z2[2] = z[2];
        ZB.llrConv( z2, E ); //z2太阳地心赤道坐标

        ShiJ = rad2mrad(gst - L - z2[0]); //得到此刻天体时角
        if( ShiJ>Math.PI ) ShiJ -= pi2;

        z3[0] = (Math.PI/2-ShiJ); z3[1] = z2[1]; z3[2]=z2[2]; //转到相对于地平赤道分点的赤道坐标
        //ZB.parallax(z3,ShiJ,fa,0); //视差修正
        ZB.llrConv( z3, Math.PI/2-fa );
        z3[0] = rad2mrad( 0-Math.PI/2-z3[0] );
        if(z3[1]>0) z3[1] += ZB.AR2(z3[1]); //大气折射修正
        z3[1] -= 8.794/rad/z3[2]*Math.cos(z3[1]); //直接在地平坐标中视差修正(这里把地球看为球形,精度比ZB.parallax()稍差一些)

        s += '<b>太阳的当日真分点地心坐标</b><br>';
        s += '视黄经 ' + rad2str(z[0],0);
        s += '视黄纬 ' + rad2str(z[1],0) + '<br>';
        s += '视赤经 ' + rad2str(z2[0],1);
        s += '视赤纬 ' + rad2str(z2[1],0) + '<br>';
        s += '径距离 ' + (int2(z2[2]*1000000+0.5)/1000000) + 'AU ';
        s += '平时角 ' + rad2str(ShiJ,0) + '<br>'; //天顶到天体视赤经的差
        s += '方位角 ' + rad2str(z3[0],0);
        s += '高度角 ' + rad2str(z3[1],0) + '<br>';

        var sc=shiCha(T,z2[0],dL,E); //时差
        var sc_str=rad2str(sc,1);
        sc_str = sc_str.substr(0,1)+sc_str.substr(6,10);

        s += '时差 ' + sc_str + '<br>';
        s += '本地平太阳时 ' + taiYangShi(jd,L,0)+' 真太阳时 '+ taiYangShi(jd,L,sc)+'<br>';

        return s;
    }
    function RTS1(getJD,vJ,vW){
        SZJ.calcRTS(jd, 1, vJ, vW, -8); //升降计算,使用北时时间,-8指东8区
        var s, ob = SZJ.rts[0];
        JD.setFromJD(jd+J2000);
        s = '<b>'+JD.toStr().substr(0,11)+'</b><br>';
        s += '晨光开始 '+ob.c +' 日出 '+ob.s +'<br>';
        s += '日上中天 '+ob.z +' 日落 '+ob.j +'<br>';
        s += '昏影终止 '+ob.h +' 昼长 '+ob.sj+'<br>';
        s += '光照时间 '+ob.ch+' 月出 '+ob.Ms+'<br>';
        s += '月上中天 '+ob.Mz+' 月落 '+ob.Mj+'<br>';
        return s;
    }

    /********************
     cookie读写函数
     *********************/
    function getCookie(name) {
        var start,end, s = document.cookie;
        start = s.indexOf(name + '=');  if (start == -1) return '';
        start += name.length + 1;
        end = s.indexOf(';', start);
        if (end == -1) end = s.length;
        return unescape(s.substring(start, end));
    }
    function setCookie(name,value){
        var Days = 700; //此 cookie 将被保存多天
        var exp  = new Date();
        exp.setTime(exp.getTime() + Days*86400*1000);
        document.cookie = name + "="+ escape (value) + ";expires=" + exp.toGMTString();
    }

    /****************
     地理经纬度选择的页面控制函数
     ****************/
    function addOp(sel,v,t){
        var Op = document.createElement("OPTION");
        Op.value=v;  Op.text=t;
        sel.add(Op);
    }
    function change2(){
        var i,v = new JWdecode( Sel2.options[Sel2.selectedIndex].value );
        Sel2.vJ = v.J; Sel2.vW = v.W;
        Cal_zdzb.innerHTML = 'L='+rad2str2(v.J)+' φ='+rad2str2(v.W);
        if(Cal5.bak){
            Cal5.bak = RTS1(nowJD, v.J, v.W);
            Cal5.innerHTML = Cal5.bak;
        }
        setCookie('Sel1',Sel1.selectedIndex);
        setCookie('Sel2',Sel2.selectedIndex);
    }
    function change(def){
        if(def) Sel1.selectedIndex = getCookie('Sel1');
        Sel2.length=0;
        var i, ob=JWv[ Sel1.options[Sel1.selectedIndex].value-0 ];
        for(i=1; i<ob.length; i++)
            addOp( Sel2, ob[i].substr(0,4), ob[i].substr(4,ob[i].length-4) );
        if(def) Sel2.selectedIndex = getCookie('Sel2');
        change2();
    }
    var i;
    for(i=0;i<JWv.length;i++) addOp(document.all.Sel1,i,JWv[i][0]);
    change(1);

    /****************
     外地时间选择
     ****************/
    function change_dq(){
        var v = Sel_dq.options[Sel_dq.selectedIndex].value;
        Clock2_dq.innerHTML = '['+v.substr(6,v.length-6)+']';
        Sel_dq.v = v;
    }
    function change_dq_time(getJD){
        var v = Sel_dq.v, h=(v.substr(1,2)-0) + v.substr(3,2)/60;
        if(v.substr(0,1)=='-') h = -h;
        JD.setFromJD(jd+J2000);
        var h2=h;
        if(v.substr(5,1)=='*'){
            if(JD.M==4){
                var w = ( 8-(jd-JD.D+1)%7 )%7; //本月第一天与星期天相差的天数
                if(JD.D-1>w) h2++;
            }
            if(JD.M==10){
                var w = ( 6+(jd-JD.D+31)%7 )%7; //本月最後一天的星期
                if(31-JD.D>w) h2++;
            }
            if(JD.M>4&&JD.M<10) h2++;
        }
        JD.setFromJD(jd+J2000+h2/24);
        Clock2.innerHTML = JD.toStr() + (h2==h?'':'<font color=red>¤</font>');
    }
    for(i=0;i<SQv.length;i++){
        var c=SQv[i].split(';');
        addOp(Sel_dq,c[0],c[1]);
    }
    change_dq();

    /**********************
     背景生成相关
     **********************/

    var monthName = new Array("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC");
    function getTop(e){ //获取元素的纵坐标,显示背景年月时用到
        var offset=e.offsetTop;
        if(e.offsetParent!=null) offset+=getTop(e.offsetParent);
        return offset;
    }
    function getLeft(e){ //获取元素的横坐标
        var offset=e.offsetLeft;
        if(e.offsetParent!=null) offset+=getLeft(e.offsetParent);
        return offset;
    }

    /**********************
     月历页面生成
     **********************/
    function showNH(){ //显示年号
        Cal3.innerHTML=Lunar.lun.nianhao.nh2;
    }

    var get_year_screen_onceBC = 0;
    function get_year_screen(c){ //取输入年份，主要解决公元前的输入问题
        var y = String(c).replace(/[^0-9Bb\*-]/g,'');
        var q = y.substr(0,1);
        if( q=='B' || q=='b' || q=='*' ){ //通用纪年法(公元前)
            y = 1-y.substr(1,y.length);
            if(y>0) { alert('通用纪法的公元前纪法从B.C.1年开始。并且没有公元0年'); return -10000; }
        }else{
            y -= 0;
            if(y<=0 && !get_year_screen_onceBC){
                alert('你输入的是天文纪年，用负号表示公元前。通用纪年法可用BC或bc或B或b或*表示公元前。');
                get_year_screen_onceBC =1;
            }
        }

        if( y < -4712 ) { alert('不得小于B.C. 4713'); return -10000; }
        if( y > 9999  )   alert('超过9999年的农历计算很不准。');
        return y;
    }

    function set_year_screen(y){ //输入天文纪年，转回显示用的常规纪年
        y -= 0;
        if( y<=0 ) return 'B'+ (-y+1);
        return ''+y;
    }

    function showMessD(n,bak){ //显时月、日摘要信息。调用前应先执Lunar.calc2()
        if(event){ if(event.ctrlKey) return; }

        var ob = Lunar.lun[n];
        Cal5.innerHTML = RTS1(ob.d0, Sel2.vJ-0, Sel2.vW-0);
        Cal6.innerHTML = '<b>儒略日数'+(ob.d0+J2000)+'</b><br>'+ob.Ltime2;
        Cal_pan.innerHTML ='<b>周'+Lunar.Weeks[ob.week]+' '+ob.XiZ+' '+ob.Lleap+ob.Lmc+'月'+(ob.Ldn>29?'大':'小')+ob.Ldc+' '+ob.Hyear+'-'+ob.Hmonth+'-'+ob.Hday+'<br>'+ob.Lyear2+'年'+ob.Lmonth2+'月'+ob.Lday2+'日 ';


        if(bak){
            Cal5.bak=Cal5.innerHTML;
            Cal6.bak=Cal6.innerHTML;
        }
    }

    function strTu(s,n){ //截串
        s = trim(s);
        if(s.length>n+1) return s.substr(0,n)+'..';
        return s;
    }

    function getLunar(){ //月历页面生成
        var i,j, c,c2, cr="",isM;
        var lun = Lunar.lun, ob; //日历物件
        var By  = get_year_screen(Cal_y.value);
        var Bm  = Cal_m.value-0;

        if(By == -10000) return;

        Lunar.calc2(By,Bm,1); //农历计算
        //年份处理
        Cal2.innerHTML = lun.nianhao.nh; //干支纪年
        //月历处理
        var ta0='';
        for(i=0;i<lun.dn;i++){ //遍历本月各日(公历)
            //生成i日的日历页面
            ob = lun[i];
            if(!i){ for(j=0;j<lun.w0;j++) cr+='<td></td>'; } //首行前面的空单元格

            c = '', isM = ''; //文字格式控制项
            if(ob.Ljq) c += '<font color=blue>'+ob.Ljq+'</font>'; //取节气
            if(ob.A)   c += '<font color=red>' +strTu(ob.A,4)+'</font>';
            if(!c && ob.B)   c = '<font color=blue>'+strTu(ob.B,4)+'</font>';
            if(!c && ob.Ldc=="初一") c = ob.Lleap + ob.Lmc +'月'+ (ob.Ldn==30?'大':'小'); //农历历月(闰月及大小等)
            if(!c) c = ob.Ldc; //取农历日名称

            if(ob.yxmc=="朔") isM = '<font color=#404040>●</font>'; //取月相
            if(ob.yxmc=="望") isM = '<font color=#F0A000>●</font>'; //取月相
            if(ob.jqmc) isM += '<font size=1px color=#009000>◆</font>'; //定气标记

            if(ob.Fjia) c2 = 'class=da2'; else c2 = 'class=da'; //节日置红色
            c2 += ' onmouseover="showMessD('+i+',0)"';
            c2 += ' onmouseout ="showMessD(-1,0)"';
            c2 = '<span ' + c2 + '>' +ob.d + '</span>'; //公历的日名称

            if(nowY==By && nowM==Bm && nowD==ob.d){
                c2='<span class=cur>&nbsp'+c2+' </span>'; //今日标识
                showMessD(i,1);
            }

            cr += '<td class=body width="14%">'+c2+'<br>'+isM+c+'</td>';
            if(i==lun.dn-1) { for(j=0;j<6-ob.week;j++) cr+='<td></td>'; } //末行後面的空单元格
            if(i==lun.dn-1||ob.week==6) ta0+='<tr>'+cr+'</tr>', cr="";
        }

        Cal3.innerHTML='<table width=100%>'+ta0+'</table>';

        var b1='<b>月首:</b>',b2='<b>朔望:</b>',b3='<b>弦月:</b>',b4='<b>定气:</b>';
        for(i=0;i<Lunar.lun.dn;i++){
            ob=Lunar.lun[i];
            c = i+1; if(c<10) c='&nbsp;'+c;
            if(ob.Ldc =='初一') b1 += c +'日 '+ob.Lleap+ob.Lmc+'月' + (ob.Ldn==30?'大':'小')+' &nbsp;';
            if(ob.yxmc=='朔'  ||ob.yxmc=="望"  ) b2 += c +'日 ' + ob.yxsj + ob.yxmc + '月 &nbsp;';
            if(ob.yxmc=='上弦'||ob.yxmc=="下弦") b3 += c +'日 ' + ob.yxsj + ob.yxmc + ' &nbsp;';
            if(ob.jqmc) b4 += c +'日 ' + ob.jqsj + ob.jqmc + ' &nbsp;';
        }

        Cal4.innerHTML=b1+'<br>'+b2+'<br>'+b3+'<br>'+b4;

        //以下显示背景年月

    }

    getLunar(); //调用月历页面生成函数

    /**********************
     年历生成
     **********************/
    function getNianli(fs){
        var y=get_year_screen(Cal_y.value);
        if(fs==1) Cal3.innerHTML=nianLiHTML(y);
        if(fs==2) Cal3.innerHTML=nianLi2HTML(y);
    }
    /**********************
     月历的年、月跳转控制函数
     **********************/

    function changeYear(ud){ //跳到上(或下)一年
        var y = get_year_screen(Cal_y.value);
        if(y==-10000) return;
        if(ud==0){
            if(y<=-4712) { alert('到顶了！'); return; }
            Cal_y.value = set_year_screen(y-19);
        }else{
            if(y>=9999) { alert('到顶了！'); return; }
            Cal_y.value = set_year_screen(y+19);
        }
        getLunar();
    }

    function changeMonth(ud){ //跳到上(或下)下月
        var y,m;
        y = get_year_screen(Cal_y.value);
        m = Cal_m.value-0;
        if(ud==0){
            if(m<=1 && y<=-4712) { alert('到顶了！'); return; }
            if(m<=1) Cal_m.value = 12, Cal_y.value = set_year_screen(y-1);
            else     Cal_m.value = m-1;
        }
        if(ud==1){
            if(m>=12 && y>=9999) { alert('到顶了！'); return; }
            if(m>=12) Cal_m.value = 1, Cal_y.value = set_year_screen(y+1);
            else      Cal_m.value = m+1;
        }
        if(ud==2){
            Cal_y.value = nowY;
            Cal_m.value = nowM;
        }
        getLunar();
    }

    function changeAssign(){ //跳到指定年月
        var y,m;
        y = Cal_y.value-0;
        m = Cal_m.value-0;
        if(y<-4712) { alert('公元前4713年之前的时间不计算！'); return; }
        if(y>9999) { alert('公元9999年之後的时间不计算！'); return; }
        if(m<1 || m>12) { alert('月份应该是1到12！'); return; }
        getLunar();
    }

    function zb_calc2() { //手动坐标计算
        var ct=Cal_T.value;
        if(ct.length!=20) {alert('时间串的长度不正确'); return;}
        JD.Y=ct.substr(0,5)-0;
        JD.M=ct.substr(6,2)-0;
        JD.D=ct.substr(9,2)-0;
        JD.h=ct.substr(12,2)-0;
        JD.m=ct.substr(15,2)-0;
        JD.s=ct.substr(18,2)-0;
        ct=JD.toJD()-J2000;
        Cal_zb.innerHTML = zb_calc(ct, Sel2.vJ-0, Sel2.vW-0); //传入UT时间(J2000.0起算)
    }

    function tick() { //即时坐标计算
        var now = new Date();
        var getJD = now/86400000-10957.5; //J2000起算的儒略日数
        Clock1.innerHTML = now.toLocaleString();
        change_dq_time(jd);
        if(!Cal_pause.checked){
            var dt = JD.deltatT2(jd); //TD-UT
            var ct = jd+dt;
            JD.setFromJD(ct+J2000);
            Cal_T.value = JD.toStr();
            Cal_zb.innerHTML = zb_calc(ct, Sel2.vJ-0, Sel2.vW-0); //传入力学时间(J2000.0起算)
        }
        window.setTimeout("tick()", 1000);
    }
    tick(); //触发时钟

</script>

<!--
 以下部分是工具函数等与日历无直接关系，如果不需要可以删除
 1、测试工具
 2、说明书
-->

<script language=javascript>
    function K_getJD(){
        JD.Y = Iy.value-0;
        JD.M = Im.value-0;
        JD.D = Id.value-0;
        JD.h = Ih.value-0;
        JD.m = Ii.value-0;
        JD.s = Is.value-0;
        return JD.toJD();
    }
    function testDD(UT){ //坐标测试
        var s="",T,T2,dt;
        T=(K_getJD()-J2000); //力学时
        if(UT){
            T += JD.deltatT2(T)-8/24;
        }

        z=new Array(),z2=new Array(); //坐标数组

        s += zb_calc(T,I_dlLon.value-0,I_dlLat.value-0); //坐标测试

        //月球迭代算法测试
        L =XL.M_Lon(T/36525,-1); //正算
        T2=XL.M_Lon_t(L)*36525; //反算
        dt=(T2-T)*86400;
        s += "<b>月球迭代算法测试:</b><br>";
        s += "高速迭代法求指定Date平分点黄经的发生时刻。测试如下：<br>";
        s += "输入时间(日数):" + T + "<br>";
        s += "月球黄经(弧度):" + L + "<br>";
        s += "反算时间(日数):" + T2 + "<br>";
        s += "迭代误差(秒):" +dt +"<br><br>";

        //地球迭代算法测试
        L=XL.E_Lon(T/36525,-1);
        T2=XL.E_Lon_t(L)*36525;
        dt=(T2-T)*86400;
        s += "<b>地球迭代算法测试:</b><br>";
        s += "输入时间(日数):"+T+"<br>";
        s += "地球黄经(弧度):"+L+"<br>";
        s += "反算时间(日数):"+T2+"<br>";
        s += "迭代误差(秒):"+dt+"<br><br>";

        L=XL.MS_aLon(T/36525,-1,60); //-1表示月球序列全部计算,60表示地球序列只算60项就可以了
        T2=XL.MS_aLon_t(L)*36525;
        dt=(T2-T)*86400;
        s += "月日黄经差返算迭代的时间误差(秒):" + dt + "<br><br>";

        out.innerHTML=s;
    }

    function szj(){
        SZJ.L  = I_dlLon.value/180*Math.PI; //设置站点参数
        SZJ.fa = I_dlLat.value/180*Math.PI;
        var d0 = int2(K_getJD()+0.5);
        var s="", r;
        r=SZJ.St(d0-J2000-8/24);
        JD.setFromJD(r.s+J2000+8/24); s +="太阳升起 " + JD.toStr()+"<br>";
        JD.setFromJD(r.z+J2000+8/24); s +="太阳中天 " + JD.toStr()+"<br>";
        JD.setFromJD(r.j+J2000+8/24); s +="太阳降落 " + JD.toStr()+"<br>";
        JD.setFromJD(r.c+J2000+8/24); s +="民用天亮 " + JD.toStr()+"<br>";
        JD.setFromJD(r.h+J2000+8/24); s +="民用天黑 " + JD.toStr()+"<br>";
        s +="白天长度 " + (r.h-r.c)*24 + "小时<br>";
        r=SZJ.Mt(d0-J2000-8/24);
        JD.setFromJD(r.s+J2000+8/24); s +="月亮升起 " + JD.toStr()+"<br>";
        JD.setFromJD(r.z+J2000+8/24); s +="月亮中天 " + JD.toStr()+"<br>";
        JD.setFromJD(r.j+J2000+8/24); s +="月亮降落 " + JD.toStr()+"<br>";
        out.innerHTML=s;
    }

    function dingQi_cmp(){ //定气误差测试
        var i,T,maxT=0;
        var y=year.value-2000;
        var N=testN.value-0;
        for(i=0;i<N;i++){
            W = (y+i/24)*2*Math.PI;
            T= XL.S_aLon_t2( W ) - XL.S_aLon_t( W ); //节气粗算与精算的差异
            T = int2( Math.abs(T*36525*86400) );
            if( T>maxT ) maxT=T;
        }
        out.innerHTML = (2000+y)+"年之後"+N+"个节气粗算与精算的最大差异:"+maxT+"秒。";
        out.innerHTML = '<font color=red>' + out.innerHTML + '</font>';
    }

    function dingSuo_cmp(){ //定朔测试函数
        var i,T,maxT=0;
        var y=year.value-2000;
        var N=testN.value-0;
        var n=int2(y*(365.2422/29.53058886)); //截止当年首经历朔望的个数
        for(i=0;i<N;i++){
            W = (n+i/24)*2*Math.PI;
            T= XL.MS_aLon_t2( W ) - XL.MS_aLon_t( W ); //合朔粗算与精算的差异
            T = int2( Math.abs(T*36525*86400) );
            if( T>maxT ) maxT=T;
        }
        out.innerHTML = (2000+y)+"年之後"+N+"个朔日粗算与精算的最大差异:"+maxT+"秒。";
        out.innerHTML = '<font color=red>' + out.innerHTML + '</font>';
    }

    function getLunar2(){ //年历生成
        var k, y=year.value-0, n=testN.value-0, s='红色表示定气或定朔与实历不同<br>';
        var s1,s2;
        var d1 = new Date();
        for(k=0;k<n;k++) s += nianLiHTML(y+k)+'<br>';
        var d2 = new Date();
        out.innerHTML='计算'+n+'年日历总用时:'+(d2-d1)+'毫秒。<br>'+s;
    }

    function dingSuo(jiao){ //定朔测试函数
        if(jiao==-1) jiao=prompt("请输入角度(0朔,90上弦,180望,270下弦,或其它):",0)-0;
        var i,n,T,s="月-日黄经差"+jiao+"<br>", s2="";
        var y=year.value-2000;
        var N=testN.value-0;
        for(i=0;i<N;i++){
            n=int2(y*(365.2422/29.53058886)); //截止当年首经历朔望的个数
            T=XL.MS_aLon_t( (n+i+jiao/360)*2*Math.PI ); //精确时间计算,入口参数是当年各朔望黄经
            JD.setFromJD(T*36525+J2000+8/24-JD.deltatT2(T)); //力学时转为协调世时,式中8/24是时区
            s2+=JD.toStr()+"<br>"; //日期转为字串
            if(i%50==0) s+=s2,s2="";
        }
        out.innerHTML=s+s2;
    }
    function dingQi(){ //定气测试函数
        var i,T,s="",s2="";
        var y=year.value-2000;
        var N=testN.value-0;
        for(i=0;i<N;i++){
            T = XL.S_aLon_t( (y+i/24)*2*Math.PI ); //精确节气时间计算
            JD.setFromJD(T*36525+J2000+8/24-JD.deltatT2(T)); //力学时转为协调世时,式中8/24是时区
            s2+="视黄经"+(i/24)*360+":"+JD.toStr()+"<br>"; //日期转为字串
            if(i%50==0) s+=s2,s2="";
        }
        out.innerHTML=s+s2;
    }

    function K_show(f){
        pan_1.style.display='none';
        pan_2.style.display='none';
        pan_3.style.display='none';
        if(f==1) pan_1.style.display='block';
        if(f==2) pan_2.style.display='block';
        if(f==3) pan_3.style.display='block';
        out.innerHTML='';
    }

    function zh(){
        var b='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
        var i,v,c,r='',out='',s=txt1.innerText;
        s=s.split('\r\n');
        c='空省';
        for(i=0;i<s.length;i++){
            v=s[i]; if(!v.length) continue;
            v=v.split(' ');
            if(v[0]!=c){
                if(r) out +=r+ "',\r\n";
                r="'"+v[0];
            }
            var c1=b.substr(v[2]-0,1);
            var c2=b.substr(v[3]-0,1);
            var c3=b.substr(v[4]-73,1);
            var c4=b.substr(v[5]-0,1);
            r += ' '+c1+c2+c3+c4+v[1];
            c=v[0];
        }
        out += r+"'";
        txt2.innerText='JWv=new Array(\r\n'+out+'\r\n);';
    }

</script>

<script language=javascript>
    function readme(){
        var ob=document.all.pan_sm.style;
        if(ob.display=="none") ob.display="block";
        else ob.display="none";
    }
</script>

</body></html>
